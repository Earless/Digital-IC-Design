/////////////////////////////////////////////////////
//  UMC 90nm logic/mixed_mode90N 1P6M (111112) DRC rule     //
//  It also be called 1P6M 1T0F process            //
//  Generated date:  Thu Sep 13 19:10:20 CST 2007  //
//                                                 //
//////////////////////////////////////////////////////////////////////
//                                                                  
//     Title      : Calibre DRC of 90nm 1P9M LOGIC/Mixedmode Process  
//     DRC Version: 1.4 P1
//     Parent Doc : G-03-LOGIC/MIXED_MODE90N-1P9M-TLR  Ver.1.4-P1                
//		    G-1C-LOGIC/MIXED_MODE90N-UMC/6TSRAM1.16SPHVT-CELL  Ver.B.1-1
//		    G-1C-LOGIC/MIXED_MODE90N-UMC/6TSRAM1.26LLHVT-CELL  Ver.B.1-1
//		    G-1C-LOGIC/MIXED_MODE90N-UMC/6TSRAM1.26SPHVT-CELL  Ver.B.3-1
//		    G-1C-LOGIC/MIXED_MODE90N-UMC/8TSRAM2.401SPHVT-CELL Ver.B.2-2
//     		    G-1C-LOGIC/MIXED-MODE90N-UMC/6TSRAM0.99SPHVT-CELL  Ver.B.1-1
//                  G-1C-LOGIC/MIXED-MODE90N-UMC/8TSRAM2.08SPHVT-CELL  Ver.B.0-1 
//                  G-1C-LOGIC/MIXED-MODE90N-UMC/6TSRAM1.16LLHVT-CELL  Ver.B.1-1
//                  G-1C-LOGIC/MIXED-MODE90N-UMC/6TSRAM0.99LLHVT-CELL  Ver.B.B-B
//                  G-1C-LOGIC/MIXED-MODE90N-UMC/8TSRAM1.994SPHVT-CELL Ver.T.A-B
//                  G-1C-LOGIC/MIXED-MODE90N-UMC/8TSRAM2.08LLHVT-CELL  Ver.B.0-1
//                  G-03LO-GENERATION25_BEYOND-TLR/LOGO                Ver.2.1-1
//
//     Copyright (c) United Microelectronics Corporation, 1980-2007
//     All Rights Reserved
//
//     This source file is proprietary information of United
//     Microelectronics Corporation.  It may not be distributed,
//     in whole or in any part without prior written permission.                                                                             
//
//     LIMITATION OF LIABILITY:                                                  
//        United Microelectronics Corp. is not  liable  for  any               
//        property damage, personal  injury,  loss  of  profits,                  
//        interruption of business,  or  for  any other special,                  
//        consequential or incidental  damages, however  caused,                  
//        whether for breach of warranty,contract tort(including                 
//        negligence),strict liability or otherwise.                             
//								                 
//      This runset is validated with Calibre 2006.2-23.21				                
//                                                                                 
//								    
//////////////////////////////////////////////////////////////////////
// revision  date      who              changes                     //
//========= ======= ======== =======================================//
// 0.1-p1   08/09/02 S M Lee Create version 0.1 		    //
// 0.1-p2   11/21/02 S M Lee Update the 4.10D.a1b1 		    //
// 0.1-p2   11/22/02 S M Lee Update the 4.18.*B.c rules 	    //
// 0.1-p2   11/22/02 S M Lee Add the 4.18.*B.d rules 	            //
// 0.1-p3   12/12/02 S M Lee Update the 4.18.*B.c rules 	    //
// 0.1-p3   12/12/02 S M Lee Remove the 4.18.*B.d rules             //
// 0.1-p4   01/06/03 S M Lee Update shapes must be orthogonal rules //
// 0.1-p4   02/10/03 S M Lee Update the 4.1H.* rules                //
// 0.1-p4   02/11/03 S M Lee Update the 4.3C rules                  //
// 0.1-p4   02/19/03 S M Lee Update the 4.10D.a3b3 rule             //
// 0.1-p4   02/04/03 S M Lee Add memory(SP) rules                   //
// 0.1-p4   03/11/03 S M Lee Update the 4.23.*~4.25.* rules         //
// 0.1-p5   03/28/03 S M Lee Update the official layers table       //
// 0.1-p5   04/24/03 S M Lee Add memory(SPHD) rules                 //
// 0.1-p6   05/09/03 S M Lee Update the 4.10F.2 rules               //
// 0.1-p7   06/09/03 holison Add Memory(DPHD_3) rules               //
// 0.1-p8   07/07/03 S M Lee Add "MEASURE ALL" for wide metal space //
// 0.1-p9   07/23/03 S M Lee Add "OPPOSITE" for wide metal space    //
// 0.1-p9   07/23/03 S M Lee Update the 4.18.*C.b12 rules           //
// 0.2-p1   09/04/03 S M Lee Update to version 0.2                  //
// 0.2-p2   10/21/03 S M Lee Update the 4.3.2D,4.3.2G,4.3.2H rules  //
// 0.2-p3   10/31/03 S M Lee Update the 4.1.1D rule                 //
// 0.2-p4   11/13/03 S M Lee Update the 4.1.4F~4K rules             //
// 0.2-p4   11/20/03 S M Lee Update the 4.1.8J rule                 //
// 0.2-p5   11/27/03 S M Lee Add the 4.1.2C rule                    //
// 0.2-p5   11/27/03 S M Lee Add the 4.1.2D rule                    //
// 0.2-p5   11/27/03 S M Lee Update the 4.4.1D rule                 //
// 0.2-p6   12/03/03 S M Lee Update SP,TG,MG to gate rules          //
// 0.2-p6   12/03/03 S M Lee Update the official layers file        //
// 0.2-p7   01/15/04 S M Lee Update the 4.2.8.2I rules              //
// 0.2-p7   01/19/04 S M Lee Update the 4.1.13B rules(add "OPPOSITE"//
// 0.2-p7   01/19/04 S M Lee Update the PAD rule(metal spacing)     //
// 0.2-p8   01/30/04 S M Lee Update the 1X VIA spacing rules        //
// 0.2-p9   02/12/04 S M Lee Remove NCAP wording and rules          //
// 0.2-p10  03/05/04 S M Lee Add memory rules and remove WSYMBOL    //
// 0.2-p11  03/18/04 S M Lee Update the 4.2.7.2* rules              //
// 0.2-p12  05/07/04 S M Lee Update the 4.2.8E.bc rules             //
// 0.2-p12  05/12/04 S M Lee Update the 4.1.12TU,4.1.9K rules(Hank) //
// 0.2-p12  05/24/04 S M Lee Update the 4.2.8.1H,4.2.8.1O rules     //
// 0.2-p12  05/24/04 S M Lee Update the 4.2.4P rule(Winni)          //
// 0.3-p1   05/27/04 S M Lee According to TLR version 0.3           //
//                           Add the DFM,DIMPBK,HR,NCAP rules       //
//                           Update the 4.1.8E.*,4.1.8AB* rules     //
//                           Update the 4.1.12D~G, metal density    //
// 0.3-p1   06/10/04 S M Lee Update the 238 cell rules              //
// 0.3-p1   06/10/04 S M Lee Update the 4.1.2D rule(remove OPPOSITE)//
// 0.3-p1   06/10/04 S M Lee Update the 4.2.2.1~7D rules(INTEACRT   //
//                           change to ENCLOSE),confirm with CRD    //
// 0.3-p2   06/21/04 S M Lee Update the 238 cell rules              //
//                           (4.1.8E.b2/4.1.8E.b4/4.1.8E.c/4.1.8E.d)//
// 0.3-p2   06/28/04 S M Lee Update the below rules(confirm james)  //
//                           (4.1.8E.b2/4.1.8E.b4/4.1.8E.c/4.1.8E.d)//
// 0.3-p2   06/28/04 S M Lee Update the 4.2.8.1O.M* rules           //
// 0.3-p3   08/03/04 S M Lee Update the antenna rules               //
// 0.3-p3   08/03/04 S M Lee Update the SRAM rules                  //
// 0.3-p3   08/03/04 S M Lee Update the 4.1.2D,4.1.4K rules         //
// 0.3-p3   08/03/04 S M Lee Update the 4.1.10M.a2,MET9 rules  	    //
// 0.3-p3   08/19/04 S M Lee Update the 4.2.2.1B.* rules            //
// 0.3-p3   08/19/04 S M Lee Update the Die corner rules            //
// 0.3-p3   10/26/04 Momo    Update				    
//			     4.1.1A.a2/4.1.1A.a3/4.1.1A.a4/4.1.1B/4.1.1C.b/4.1.1C.c/4.1.1D/4.1.2B.a/
// 			     4.1.2C/4.1.2D/4.1.2E/4.1.2E.a/4.1.2E.b/4.1.2H/4.1.2H.a/4.1.2H.b/
//			     4.1.2.1A.a/4.1.2.1A.b/4.1.2.1B/4.1.2.1C_D/Recommend_4.1.2.1.ERR/4.1.3B.a/
//			     4.1.3B.b/4.1.3C/4.1.3E/4.1.3F/4.1.3G/4.1.3G.a/ 4.1.3G.b/4.1.3H/4.1.3H.a/
//			     4.1.3H.b/4.1.3.1B.b/4.1.3.1C/4.1.3.1E/4.1.3.1G/4.1.3.1H/4.1.3.1H.a/
//			     4.1.3.1H.b/4.1.3.1I.a4.1.3.1I.b/4.1.4C/4.1.4D/4.1.4F/4.1.4G/4.1.4I/4.1.4J/
//			     4.1.4K/4.1.5C/4.1.5D/4.1.5E/4.1.5H/4.1.5I/4.1.5K/4.1.5L/4.1.6C/4.1.6D/
//			     4.1.6G/4.1.6H/4.1.6I/4.1.6J/4.1.7C/4.1.7D/4.1.7F/4.1.7H/4.1.7I/4.1.8AcBc/
//			     4.1.8D.a1.DFM/4.1.8D.a3b3/4.1.8E.a/4.1.8E.b1/4.1.8E.b2b4/4.1.8E.b3/ 4.1.8Ad
//			     4.1.8Ae/4.1.8E.c/4.1.8E.d/4.1.8Fa_1a/4.1.8Fa.DFM/4.1.8Fb_1b/4.1.8F.2/4.1.8G
//			     4.1.8H.a/4.1.8H.b/4.1.8H.c/4.1.8I_8J/4.1.8L/4.1.9D/4.1.9E/4.1.9F/4.1.9G
// 			     4.1.9H/4.1.9J/4.1.9K/4.1.9.1A/4.1.9.2A/4.1.9.2B/4.1.10C.c/4.1.10D.a/
//			     4.1.10D.c/4.1.10E_11E/4.1.10F/4.1.10H/4.1.10J/4.1.10K/4.1.10M.a1/
//			     4.1.10M.a2/4.1.10M.b/Recommand_4.1.10.ERR/4.1.11C.a/4.1.11C.c/4.1.11D.c/
//			     4.1.11H/4.1.11J/4.1.11K/4.1.11M.a/4.1.11M.b/4.1.12D/4.1.12E/4.1.12F/4.1.12G/
//			     4.1.12H/4.1.12I/4.1.12C_12J/4.1.12L/4.1.12M/4.1.12Q/4.1.12R/4.1.12T/4.1.12U
//			     4.1.12V.1/4.1.12V.2/4.1.12V.3/4.1.12W.1/4.1.12W.2/4.1.12W.3/4.1.12.2C
//			     4.1.12.2D/4.1.12.2E.a/4.1.12.2E.b/4.1.12.2E.c/4.1.12.2G/4.1.13B.a/
//			     4.1.13C.a/4.1.13C.bc/4.1.13H/4.1.15B/4.1.15C/4.1.15D/4.4.2B
//			     4.2.1.1B/4.2.1.1B.a/4.2.1.1C.a/4.2.1.1C.b1/4.2.1.1C.b2/4.2.1.1C.c1/
//			     4.2.1.1C.c2/4.2.1.1C.c3/4.2.1.1D.b1b2/4.2.1.1D.c/
//			     4.2.1.2B.ME2/4.2.1.2B.a.ME2/4.2.1.2C.a.ME2/4.2.1.2C.b1.ME2/4.2.1.2C.b2.ME2/
//			     4.2.1.2C.c1.ME2/4.2.1.2C.c2.ME2/4.2.1.2C.c3.ME2/4.2.1.2C.c4.ME2/ (ME2~ME6)
//			     4.2.3.3B.ME7/4.2.3.3B.a.ME7/4.2.3.3C.a1.ME7/4.2.3.3C.a2.ME7/4.2.3.3C.b1.ME7/
//			     4.2.3.3C.b2.ME7/4.2.3.3C.b3.ME7/4.2.3.3C.b4.ME7 (ME7-ME8)
//			     4.2.5.5B/4.2.5.5B.a/4.2.5.5C.a1/4.2.5.5C.a2/4.2.5.5C.b1/4.2.5.5C.b2/
//			     4.2.5.5C.b3/4.2.5.5C.b4/
//			     4.2.2.1B.a.VI1/4.2.2.1B.b.VI1/4.2.2.1B.c.VI1/4.2.2.1C.a.VI1/
//			     4.2.2.1C.c1c2.VI1/4.2.2.1C.d.VI1/4.2.2.1D.a~D.c.VI1/4.2.9.1A.VI1
//			     4.2.2.2A.VI2/4.2.2.2B.a.VI2~B.c.VI2/4.2.2.2C.b12.VI2/4.2.2.2C.c.VI2/
//			     4.2.2.2D.a.VI2~D.c.VI2/4.2.9.1A.VI2(VI2~VI5)
//			     4.2.4.4A.VI74.2.4.4D.a.VI7~D.c.VI7/4.2.4.4E.VI7/4.2.9.1A.VI7(VI7~VI8)
//			     4.2.7.2B.a/4.2.7.2C/4.2.7.2D/4.2.7.2E/4.2.7.2F/
//			     4.2.8.1A.inline.60/4.2.8.1C.inline.60/4.2.8.1E.inline.60/4.2.8.1G.inline.60/
//			     4.2.8.1G.inline.60/4.2.8.1O.ME9.inline.60 (staggered)
//			     4.2.8.2D/4.2.8.2E/4.2.8.2F/4.2.8.2G/
//			     METAL_DENSITY/SEAL_RING_RULES/DIE_CORNER_CHECK
// 0.4-p1   12/29/04 Momo    Update				    
//			     4.2.8.1A/4.1.12.2D/4.4.2C/4.4.2D/4.1.2E/4.1.2H/4.2.1.1D.c/4.2.2.1C.d.VI1~VI5
//			     4.2.2.1D.a~c.VI1/4.2.2.2D.a(D.b)(D.c).VI2~VI4 /4.2.2.2C.a(D.b)(D.c).VI5 
//			     4.2.4.4D.a(D.b)(D.c).VI6~VI7
// 0.4-p1   02/04/05 Momo    TLR update 4.1.1B/ SHRINK rule (TG/P1/NP/PP) 4.1G/4.1.2E.a/4.1.2H.a/4.1.3G.a/4.1.3H.a/
//					/4.1.3.1H.a/4.1.3.1I.a/4.1.5C/4.1.5D/4.1.6C/4.1.6D/4.1.8H.b/4.1.9H/
//				        /4.1.10M.a1a2/4.1.11M.ab/4.1.12D/4.1.12E/4.1.12F/4.1.12G/4.1.13C.c/4.2.1.1C.c1
//					/4.2.1.2C.c1.ME2~6/4.4.2B/4.4.2C.b/4.4.2C.c/4.4.2D/4.4.2E/8.3-Antenna
// 			     Update /VIAFARM/4.4.2/5.3
//      			    /4.2.7.3C/4.2.7.3D.b/SRAM rule/PAD_AI->PAD_AL/6Ba/6Bb
// 0.5-P1  05/26/2005  Silvio  Update 4.1.1A.a1_DFM.Priority2 4.1.8AaBaC_DFM.Priority3 4.1.8D.b1_DFM.Priority3
//                                    4.1.9H  antenna rules redefine SP_GATE_BG13 4.3.2C 4.3.2D 5.3Z 4.4.2E
//                                    4.1.4A  exclude SINGULAR option for A
//                                    4.1.4A  add     OPPOSITE option for A
//                                    4.1.2.1C_D 5.3A.b  5.3E  5.3E.a 5.3U.a  5.3U.b 5.3U.c  5.3P 4.3.2M 5.1
//                                    die corner rules 4.1.8F.1a_DFM.Priority2 4.1.1Ab_DFM.Priority3
//                                    4.2.2.2C.b.DFM.Priority4 4.1.8I_8J 4.3.2J 4.3.3F 4.3.4C
//                                    Metal density checking 4.2.2.1E  4.2.2.2E  4.2.4.4E 4.2.6D
// 0.5-P2 08/05/2005   silvio  Update SP_7 SRAM 4.1.13B.a 4.2.7.3D.b 5.3P.a 5.3S.a 4.1.1D
//                             Add DP_10 L90_SPHVT 208 8T SRAM rules
//                             Add SP_5  L90_SPHVT 116 SRAM rules 
//                             antenna rules
//                             90nm_layers_v2.8.cal
// 1.0-P1 08/30/2005   Silvio  add 1.8V , 3.3V and 2.5V over drive IO device ,LLLVT 4.1.5M 4.1.8F.c 4.1.8T_8U
//                                 4.1.12K.a MISIMPBK metal spacing warning rules
//                                 in-line 50um & staggered 35um rules 
//                             update 4.1G.DEN_GT75 4.1.5A  4.1.5B 4.1.5J 4.1.5K 4.1.6J 4.1.7G 4.1.13C.a 4.1.13C.b
//                                    4.2.1.1B.a 4.2.1.2B.a 4.2.7.2B.a via farm rules metal density rules
//                                    die seal ring rules die corner rules 4.2.8.1A.staggered.35
// 1.0-P1 10/07/2005   Silvio  update 4.1.2B.b3_33V  4.1.12.2D  4.2.8.1E  4.1.1C.c 4.1.6J  4.1.8P
//                             add print function into density checking  4.1.4L 4.1.13C.d
//                             update   4.1.7F  0.4  -> 0.44  according to TLR change 
//                             update   4.1.7H  <= 0.19 or >= 0.4 -> <= 0.19 or >= 0.44  according to TLR change
//                             update   INDUCTOR rules
// 1.0-P2 10/24/2005   Silvio  update   90nm_layers_v3.2.cal
//                                      4.2.1.2C.c2.ME2_waring -> 4.2.1.2C.c2.ME2_warning
//                                      5.1
//                                      4.1.1A.a2  0.16 -> 0.12
// 1.0-P3 11/14/2005   Silvio  update   5.2Y 4.1.2B.b3_33V
//                                      antenna rules
// 1.1-P1 17/01/2006   Silvio  add L90LLHVT 116 6T SRAM  4.2.8.2 
//        02/23/2006   Silvio  update 4.1.12.1G 4.1.1A.a4  4.1.2B.b 4.1.3.1J 4.1.3.1K 4.1.5L
//                                    4.1.6C 4.1.6D 4.1.7F 4.1.7H 4.1.8F.c 4.1.8V 4.1.12.1I 4.1.12.1V1
//                                    4.1.12.1V2 4.1.12.1V3 4.1.12.1W1 4.1.12.1W2 4.1.12.1W3 4.1.12.1X 
//                                    4.1.13C.d2_33V 4.1.16I 4.1.16L 4.1.17K 4.1.18C 4.1.18D 4.1.18L
//                                    Native rules Maximum metal width MIM rules Inductor rules 
//                                    4.2.7.3A 4.2.3E 30KA metal viafarm rules die seal ring rules
//                                    antenna rules 4.1.12.1M 4.1.12.1N 4.3.4M 4.3.5L 4.1.6E 4.1.8A.d 4.1.8A.e
// 1.1-P2 04/27/2006  Silvio   Update GATE_NATIVE_TG
// 1.1-P3 05/20/2006  Silvio   update die corner rules
//                             add L90-LLHVT 099 SP_12 SRAM rules
//                             add L90-SPHVT 099 SP_11 SRAM rules
// 1.1-P4 06/19/2006  Silvio   add LOGO rules 
//                             update 4.3.2L 4.2.4C 4.4.1H 4.4.2G
//                             umc90N_memory_v13.cal
// 1.2-P1 11/26/2006  Silvio   update CONNECTION
//                             5.2Z  5.2Z.a 5.2AA 4.2.8.2.MX_CLVS 4.1.3.1K
//                             add DP_14 SRAM
// 1.3-P1 12/27/2006  Silvio   4.2.8.1N  4.2.8.1O 4.3.2L 4.3.5C 4.3.5D
//                             OPC.2-C inductor rules
//                             update 4.4.1.NOTE1
// 1.3-P2 07/06/2007  Silvio   update layer mapping file to 90nm_layers_v3.8.cal
//                             remove ATTACH MEX MEX_C
//                             update 4.2.2.2F.DFM.Priority1
//                             update Design_guideline1 Design_guideline2
//                             update 4.2.2.1B.a 4.2.2.2B.a
//                             update OPC_guidelines rules
//                             update Die seal ring rules - error ouputs and seal ring marker layer
//                             add 4.2.2.2DR and turn off all DFM rules as default(follow DFM policy)
//                             4.2.8.1O
//                             density rules
//                             Die corner rules
// 1.3-P3 07/31/2007  Silvio   Update the phase to consistent with TLR
//                             optimize the run time of die corner rules 
//                             OPC_W_DIFF OPC_W_PO1 OPC_S_DIFF
// 1.4-P1                      update 4.3.3C 4.3.3D 4.3.3E
//                             add 12.2K  12.2L  12.2M  12.2N  
//////////////////////////////////////////////////////////////////////////////////////////////////////////////
// Notice (Important, Read Me First)
// =================================
// (1) Please set up RESOLUTION,LAYOUT PATH,LAYOUT PRIMARY 
//     according to your design before run CALIBRE drc.
//     Set up DRC UNSLECT CHECK as your requirements
//     Use DRC SELECT CHECK to check one or two groups only
// (2) Comment out rules refer to comment_out.list file
// (3) Die corner rules is size < 100mm^2 rules, Size >= 100mm^2 rules
//     is off
// (4) Recommanded rules is suggested for possible yield improvement,
//     recommanded rules is group on DFM_RULES.
// (5) Please SELECT PASV_RULES.60 or PASV_STAGGERED_RULES.40 for your design
// (6) It is recommanded to meet DFM  and Recommand rule if there is no 
//     Area penalty.
// (7) DFM rules default is off.If you want to check DFM rules,please 
//     set DRC UNSELECT CHECK DFM_RULES  off. 
// (8) Please SELECT or UNSELECT VIARARM checking for your design.
// (9) Please SELECT or UNSELECT SHRINK checking for your design.
// (10) Metal within metal slot block using (MEX and MXSLBK) not MXSLOT boolean operation
//      for maximum metal width and spacing checking.
// (11) The maximum width(diffusion~PASV_RDL) on die seal ring region
//      has 0.002 tolerance.
// (12)Cu-Fuse please refer to G-03F-GENERATION90N-CU-TLR/FUSE
//     ESD please refer to G-03E-GENERATION90N-TLR/ESD
//     Dummy and slot for Cu metal layers please refer to G-03DS-GENERATION90N-METAL-TLR/DUMMY_SLOT
// (13) Rule 4.4.1Q 4.4.1.NOTE2 4.2.8.1B 1I 1J 4.4.2J 5.3A could not be checked by DRC.
// (14) For threshold implant layer such as SP,SPLVT,LL_HVT and LLLVT DRC adds 
//      OPPOSITE  option for width checking
//      OPPOSITE  option for spacing checking
//      DRC ignores
//      SINGULAR option for spacing checking 
// (15)This document includes 34 files.
//	90nm_layers_v3.8.cal
//	G-DF-LOGIC_MIXED_MODE90N-1P4M1T0F-Calibre-drc-1.4-p1
//	G-DF-LOGIC_MIXED_MODE90N-1P5M1T0F-Calibre-drc-1.4-p1
//	G-DF-LOGIC_MIXED_MODE90N-1P6M1T0F-Calibre-drc-1.4-p1
//	G-DF-LOGIC_MIXED_MODE90N-1P6M1T1F-Calibre-drc-1.4-p1
//	G-DF-LOGIC_MIXED_MODE90N-1P6M2T0F-Calibre-drc-1.4-p1
//	G-DF-LOGIC_MIXED_MODE90N-1P7M1T0F-Calibre-drc-1.4-p1
//      G-DF-LOGIC_MIXED_MODE90N-1P7M1T1F-Calibre-drc-1.4-p1
//	G-DF-LOGIC_MIXED_MODE90N-1P7M2T0F-Calibre-drc-1.4-p1
//	G-DF-LOGIC_MIXED_MODE90N-1P7M2T1F-Calibre-drc-1.4-p1
//	G-DF-LOGIC_MIXED_MODE90N-1P8M1T1F-Calibre-drc-1.4-p1
//	G-DF-LOGIC_MIXED_MODE90N-1P8M2T0F-Calibre-drc-1.4-p1
//	G-DF-LOGIC_MIXED_MODE90N-1P8M2T1F-Calibre-drc-1.4-p1
//	G-DF-LOGIC_MIXED_MODE90N-1P9M2T1F-Calibre-drc-1.4-p1
//      G-DF-LOGIC_MIXED_MODE90N-1P6M1T-30KA-Calibre-drc-1.4-p1
//      G-DF-LOGIC_MIXED_MODE90N-1P7M1T-30KA-Calibre-drc-1.4-p1
//      G-DF-LOGIC_MIXED_MODE90N-1P7M2T-30KA-Calibre-drc-1.4-p1
//      G-DF-LOGIC_MIXED_MODE90N-1P8M1T-30KA-Calibre-drc-1.4-p1
//      G-DF-LOGIC_MIXED_MODE90N-1P8M2T-30KA-Calibre-drc-1.4-p1
//      G-DF-LOGIC_MIXED_MODE90N-1P9M2T-30KA-Calibre-drc-1.4-p1
//      umc_1P9M2T1F-X_architecture_Calibre-drc-V1
//      umc_1P8M2T1F-X_architecture_Calibre-drc-V1
//      umc_1P8M2T0F-X_architecture_Calibre-drc-V1
//      umc_1P8M1T1F-X_architecture_Calibre-drc-V1
//      umc_1P7M2T1F-X_architecture_Calibre-drc-V1
//      umc_1P7M2T0F-X_architecture_Calibre-drc-V1
//      umc_1P7M1T1F-X_architecture_Calibre-drc-V1
//      umc_1P6M2T0F-X_architecture_Calibre-drc-V1
//      umc_1P7M1T0F-X_architecture_Calibre-drc-V1
//      umc_1P6M1T1F-X_architecture_Calibre-drc-V1
//      umc_1P6M1T0F-X_architecture_Calibre-drc-V1
//      umc_1P5M1T0F-X_architecture_Calibre-drc-V1
//      umc_1P4M1T0F-X_architecture_Calibre-drc-V1           
//	umc90N_memory_v14.cal
//	umc_ant_L90N_1P9M_calibre_V8
//
//////////////////////////////////////////////////////////////////////
 
// INPUT LAYERS refer to 90nm_layers_v3.8.cal

INCLUDE ./90nm_layers_v3.8.cal

LAYOUT TOP LAYER PASV_RDL ME6 VI5 ME5 VI4 ME4 VI3 ME3 VI2 ME2 VI1 ME1
//
//===========================
//===  Setup Environment  ===
//===========================
//
 
LAYOUT DEPTH  ALL
LAYOUT SYSTEM GDSII
 
RESOLUTION 5
PRECISION  1000
 
UNIT CAPACITANCE FF
UNIT LENGTH      U
UNIT RESISTANCE  OHM
UNIT TIME        US
 
FLAG OFFGRID YES
 
//
//================================
//===  Setup Defaults for DRC  ===
//================================
//

LAYOUT PATH "/Project/drcdeck/QA_PATTERN/OLD_0.090/L90N_1P9M/1P9M/G_QA_LOGIC_MIXED_MODE90N_1P9M_V1.1_P1_A1_060417.gds"
LAYOUT PRIMARY "pass"
 
DRC CHECK TEXT       COMMENTS RFI   
DRC KEEP EMPTY       NO
DRC MAXIMUM RESULTS  1000
DRC MAXIMUM VERTEX   199
DRC RESULTS DATABASE "./pass.db" ASCII
DRC SUMMARY REPORT   "./pass.sum"
DRC TOLERANCE FACTOR .003

//
// *************************************************************
// you can comment one or more lines to run these opional checks
// with basic rule check, or change DRC UNSELECT CHECK ... to 
// DRC SLELECT CHECK ... to run one or more optional checks only
// *************************************************************
//
//DRC UNSELECT CHECK DIFF_DENSITY
//DRC UNSELECT CHECK POLY_DENSITY       // For whole chips density checking
//DRC UNSELECT CHECK METAL_DENSITY

//DRC UNSELECT CHECK Inline_50          // Wire bump Inline 50 rules
//DRC UNSELECT CHECK CLVS
DRC UNSELECT CHECK Staggered_35         // Wire bump Staggered 35 rules

//DRC UNSELECT CHECK SEAL_RING_RULES


//DRC UNSELECT CHECK DIE_CORNER_CHECK_SEARING    // die corner rules with die seal ring
//DRC UNSELECT CHECK  DIE_CORNER_CHECK_WITHOUT_SEARING  //die corner rules without die seal ring(seal ring add by UMC)



//DRC UNSELECT CHECK BOAC_EXCLUDE        // BOAC exclude rules


DRC UNSELECT CHECK DFM_Priority1 
DRC UNSELECT CHECK DFM_Priority2
DRC UNSELECT CHECK DFM_Priority3
DRC UNSELECT CHECK DFM_Priority4
DRC UNSELECT CHECK DFM_Priority5

//DRC UNSELECT CHECK VIAFARM_RULES   // Recommended layout rules for 4*4 VIA array


// Please select 1.8V or 2.5V or 3.3V device for your design
// 3P3V GOX52 device only need to follow IO_2.5V_RULES not IO_3.3V_RULES 
// The checking of thick oxide dvice is 3.3V as default.If you want to check 2.5V or 1.8V,
// please comment the DRC UNSELECT line(//DRC UNSELECT CHECK IO_2.5V_RULES or //DRC UNSELECT CHECK IO_1.8V_RULES).

//DRC UNSELECT CHECK IO_3.3V_RULES
DRC UNSELECT CHECK IO_2.5V_RULES
DRC UNSELECT CHECK IO_1.8V_RULES


// Recommended layout rules for metal spacing within metal slot block

GROUP METAL_SPACING_WARNING  ?_warning 
DRC UNSELECT CHECK METAL_SPACING_WARNING

// Recommended rule : All Cu-Metal layers METAL_n(which are not the UM layer) are also recommended to avoid touching MIMBP

GROUP MIM_Recommend  4.4.1.NOTE1 

DRC UNSELECT CHECK  MIM_Recommend


// Please select design guideline or OPC rules for your design

DRC UNSELECT CHECK Design_guideline_rules
DRC UNSELECT CHECK OPC_guidelines 

//

GROUP  Front_end  4.1.? 4.3.?
GROUP  Back_end   4.2.? 4.4.? 5.? 6?
GROUP  SRAM       S? D?

//DRC UNSELECT CHECK  Front_end
//DRC UNSELECT CHECK  Back_end
//DRC UNSELECT CHECK  SRAM


//
// Metal Rule check:Default Manhattan is included.
// If you don't want to run Manhattan rule,please turn off the setup
//

#DEFINE ONLY_Manhattan_CHECK 		// If you don't want to run Manhattan rule,please turn on the setup


//

// LOGO CELL setup

//EXCLUDE CELL "DRC_LOGOMK_DEL_*"  // DRC delete the LOGO cell 



//
//======================================
//===  Map TEXT layer to port names  ===
//======================================
//
TEXT DEPTH PRIMARY
TEXT LAYER  M1_TEXT  M2_TEXT  M3_TEXT  M4_TEXT  M5_TEXT  M6_TEXT 

ATTACH M1_TEXT ME1_C
ATTACH M2_TEXT ME2_C
ATTACH M3_TEXT ME3_C
ATTACH M4_TEXT ME4_C
ATTACH M5_TEXT ME5_C
ATTACH M6_TEXT ME6_C
ATTACH AL_TEXT AL_RDL_C
//
NULL   = PASV_RDL  NOT  BULK
NULL1  = COPY   NULL
NULL2  = COPY   NULL
NULL3  = COPY   NULL
NULL4  = COPY   NULL
NULL5  = COPY   NULL
NULL6  = COPY   NULL
NULL7  = COPY   NULL
NULL8  = COPY   NULL
NULL9  = COPY   NULL
NULL10 = COPY   NULL
//
CONNECT   ME1    NULL1 
CONNECT   ME2    NULL2 
CONNECT   ME3    NULL3 
CONNECT   ME4    NULL4 
CONNECT   ME5    NULL5 
CONNECT   ME6    NULL6 
CONNECT   AL_RDL NULL10
//
VIRTUAL CONNECT COLON YES
VIRTUAL CONNECT NAME ?VSS? ?GND? ?VBB? ?VCC? ?VDD? VAS VAD
//
//==================================================
//===  Establish Layer Connectivity for DRC Only ===
//==================================================
//
TMV_RDL_ALL = TMV_RDL OR TMVBAR
CONT_ALL    = CONT    OR CONTBAR
//
VI1_ALL = VI1  OR VI1BAR
VI2_ALL = VI2  OR VI2BAR
VI3_ALL = VI3  OR VI3BAR
VI4_ALL = VI4  OR VI4BAR
VI5_ALL = VI5  OR VI5BAR
//
ME1_C = (ME1 NOT M1RESMK) NOT IND
ME2_C = (ME2 NOT M2RESMK) NOT IND
ME3_C = (ME3 NOT M3RESMK) NOT IND
ME4_C = (ME4 NOT M4RESMK) NOT IND
ME5_C = (ME5 NOT M5RESMK) NOT IND
ME6_C = (ME6 NOT M6RESMK) NOT IND
AL_RDL_C = (AL_RDL NOT ALRESMK) NOT IND
//

// connectivity setup for VIA checking


ME1_COPY = COPY  ME1


ME2_COPY = COPY  ME2


ME3_COPY = COPY  ME3


ME4_COPY = COPY  ME4


ME5_COPY = COPY  ME5


VI1_ME1 = VI1 AND ME1
VI1_ME2 = VI1 AND ME2


VI2_ME2 = VI2 AND ME2 
VI2_ME3 = VI2 AND ME3 


VI3_ME3 = VI3 AND ME3 
VI3_ME4 = VI3 AND ME4 


VI4_ME4 = VI4 AND ME4 
VI4_ME5 = VI4 AND ME5 


CONNECT ME1_COPY VI1_ME1
CONNECT ME2_COPY VI1_ME2


CONNECT ME2_COPY VI2_ME2
CONNECT ME3_COPY VI2_ME3


CONNECT ME3_COPY VI3_ME3
CONNECT ME4_COPY VI3_ME4


CONNECT ME4_COPY VI4_ME4
CONNECT ME5_COPY VI4_ME5

//
CONNECT AL_RDL_C ME6_C BY TMV_RDL_ALL
CONNECT ME6_C  MMCBP  ME5_C BY VI5_ALL
CONNECT ME5_C   ME4_C BY VI4_ALL
CONNECT ME4_C ME3_C BY VI3_ALL
CONNECT ME3_C ME2_C BY VI2_ALL
CONNECT ME2_C ME1_C BY VI1_ALL
CONNECT ME1_C NTAP PTAP BY CONT_ALL
SCONNECT NTAP NWEL
SCONNECT PTAP TWEL
SCONNECT PTAP TWEL_T3
//
//===================================================================
//===  Defined types from combinations of layers (DO NOT MODIFY)  ===
//===================================================================
//
DRC:1     = EXTENT
BULK      = SIZE DRC:1 BY 1.0
//
//   DEFINE NWELL AND NWELL RESISTOR
//
RNWELL    = NWEL  INTERACT   NWR
NWELL     = NWEL    NOT      RNWELL
//
//   DEFINE MOS S/D AND P/N WELL TAP
//
ACTIVE_NW = DIFF NOT OUTSIDE  NWEL 
ACTIVE_PS = DIFF     OUTSIDE  NWEL 

ACTIVE_TW = ACTIVE_NW NOT OUTSIDE TWEL
ACTIVE_NT = ACTIVE_NW     OUTSIDE TWEL

PTAP      = ( PPLUS     AND ACTIVE_PS) OR ( PPLUS     AND ACTIVE_TW )
NDIF      = ( ACTIVE_PS NOT PPLUS )    OR ( ACTIVE_TW NOT PPLUS )
PDIF      = PPLUS     AND ACTIVE_NT
NTAP      = ACTIVE_NT NOT PPLUS

// For SP DEVICES
 
SP_MOS_NDIF    = NDIF INTERACT SP
SP_MOS_PDIF    = PDIF INTERACT SP

SPLVT_MOS_NDIF = NDIF INTERACT SPLVT
SPLVT_MOS_PDIF = PDIF INTERACT SPLVT

SPHVT_MOS_NDIF = (NDIF NOT INTERACT (MG OR TG))  NOT  INTERACT  (SP OR SPLVT)
SPHVT_MOS_PDIF = (PDIF NOT INTERACT (MG OR TG))  NOT  INTERACT  (SP OR SPLVT)

// For MG DEVICES

LLHVT_MOS_NDIF   = (NDIF  INTERACT MG) INTERACT LL_HVT
LLHVT_MOS_PDIF   = (PDIF  INTERACT MG) INTERACT LL_HVT

LLLVT_MOS_NDIF   = (NDIF  INTERACT MG) INTERACT LLLVT
LLLVT_MOS_PDIF   = (PDIF  INTERACT MG) INTERACT LLLVT

LL_MOS_NDIF      = (NDIF  INTERACT MG) NOT INTERACT (LL_HVT OR LLLVT)
LL_MOS_PDIF      = (PDIF  INTERACT MG) NOT INTERACT (LL_HVT OR LLLVT)


// For I/O DEVICES

IO_MOS_NDIF      = (NDIF  INTERACT TG) NOT INTERACT NATIVE
IO_MOS_PDIF      = (PDIF  INTERACT TG) NOT INTERACT NATIVE

// For NATIVE DEVICES

NATIVE_MOS_PTAP  = PTAP  INTERACT NATIVE
NATIVE_MOS_NDIF  = NDIF  INTERACT NATIVE

BUT_PPLUS = PPLUS INSIDE EDGE DIFF 
BUT_NPLUS = NPLUS INSIDE EDGE DIFF
PSD       = PDIF NOT PO1 
NSD       = NDIF NOT PO1 

//
//   DEFINE GATE PO1 AND INTERCONNECT PO1 
//
GATE      = PO1 AND DIFF 
GATE_W    = PO1 COIN INSIDE EDGE GATE
GATE_L    = GATE INSIDE EDGE PO1

EXPOL     = PO1  NOT DIFF 
EXPO_E    = PO1 NOT COIN INSIDE EDGE GATE
INTPOL    = EXPOL NOT INTERACT CONT   

//
//   DEFINE PO1 CONT AND DIFF CONT
//

POLCNT    = CONT OUTSIDE DIFF 
DIFCNT    = CONT NOT OUTSIDE DIFF 

//For High Resistor PO1 

HRPOLY  = PO1 INTERACT HR
SABPOLY = HRPOLY INSIDE EDGE SAB
HRCONT  = CONT AND HR


//For SRAM rules

GATE_MG     = GATE_W     INSIDE EDGE MG
GATE_NOT_MG = GATE_W NOT INSIDE EDGE MG

//For TMV_RDL rules

MMC_TMV   = TMV_RDL  AND MMCBP

//
//*******************
//***  DRC Rules  ***
//*******************
//

Off_Grid {
   @ Vertice is drawn off-grid.
   DRAWN OFFGRID
}

//
//==============================================
//===  Diffusion (Active) Layer Rules (P20)  ===
//==============================================
//
DIFF_W = (DIFF INTERACT GATE) COIN INSIDE EDGE GATE

GROUP  IO_1.8V_RULES  ?_18V
GROUP  IO_2.5V_RULES  ?_25V  
GROUP  IO_3.3V_RULES  ?_33V 

//

4.1.1A.a1__4.1.1A.b {@ Minimum DIFF width is 0.12um
   x = INT DIFF < 0.12 ABUT>0<90 SINGULAR REGION
   x NOT (SP_9 OR(SP_7 OR (SPHD_1 OR (DPHD_3 OR (DPHD_1 OR (DPHD_2  OR (SP_1 OR (SP_2 OR (SP_12 OR (SP_11 OR (LOGOMK OR (DP_13 OR (DP_14 OR (DP_11 OR DP_10))))))))))))))
}

4.1.1A.a2 {@ Minimum DIFF width for device(over MG) is 0.12um
  Y = DIFF_W INSIDE EDGE MG
  Z= INT Y < 0.12 ABUT>0<90  REGION
  Z NOT (((SP_1 OR DPHD_3) OR SP_9) OR (SP_12 OR (LOGOMK OR (DP_11 OR SP_6))))
}

4.1.1A.a3_18V {@ Minimum DIFF width for device(over TG) for 1.8V is 0.24um
  Y = DIFF_W INSIDE EDGE TG
  E = INT Y < 0.24 ABUT>0<90  REGION
  E  NOT  LOGOMK
}

4.1.1A.a3_25V {@ Minimum DIFF width for device(over TG) for 2.5V is 0.36um
  Y = DIFF_W INSIDE EDGE TG
  E = INT Y < 0.36 ABUT>0<90  REGION
  E  NOT  LOGOMK
}

4.1.1A.a3_33V {@ Minimum DIFF width for device(over TG) for 3.3V is 0.36um
  Y = DIFF_W INSIDE EDGE TG
  E = INT Y < 0.36 ABUT>0<90  REGION
  E  NOT  LOGOMK
}

4.1.1A.a4 {@ Minimum DIFF width for 3P3V_GOX52_IMPLANT_MARK is 0.36um
  Y = DIFF_W INSIDE EDGE GOX523P3VIMPMK
  INT Y < 0.36 ABUT>0<90  REGION
}

4.1.1B {@ Maximum DIFF width is 100 um
  
   SIZE (SIZE DIFF BY -50) BY 50

}

4.1.1C.a {@ Minimum DIFF spacing and notch is 0.14um 
   x = EXT DIFF < 0.14 ABUT>0<90 REGION
   x NOT (DPHD_3 OR (DPHD_1 OR (DPHD_2 OR (SP_1 OR (SP_2 OR (SPHD_1 OR (LOGOMK OR (DP_13 OR (DP_13 OR (DP_14 OR (DP_11 OR DP_10)))))))))))
}

4.1.1C.b {@ Minimum spacing and notch of DIFF to (DIFF over MG) is 0.14um
   x = DIFF INTERACT MG
   y = EXT x DIFF < 0.14 ABUT>0<90 REGION
   y NOT (DP_14 OR (DP_11 OR (SP_1 OR (LOGOMK OR DPHD_3))))
}

4.1.1C.c {@ Minimum spacing and notch of DIFF to (DIFF over TG) is 0.22um
   x = DIFF  AND  TG
   E = EXT x DIFF < 0.22 ABUT>0<90 REGION
   E  NOT  LOGOMK
}

4.1.1D {@ Minimum DIFF spacing if common run length >= 0.8 is 0.15um
      @ When both DIFF width >= 0.5um
    X = SIZE (SIZE DIFF BY -0.249 ) BY 0.249 TRUNCATE 0 INSIDE OF DIFF STEP 0.249
    Y = (EXT X < 0.15 OPPOSITE  REGION) NOT DIFF
    E = Y WITH EDGE (LENGTH Y >=0.8)
    E  NOT  LOGOMK

}

4.1.1E {@ Minimum area of DIFF region 0.08 um
   X = AREA DIFF < 0.08
   X NOT (SP_6 OR (SP_7 OR (SP_12 OR (SP_11 OR (LOGOMK OR (SP_9 OR SP_5))))))
}

4.1.1F {@ Minimum DIFF enclosed area 0.2 sq.um
   HOLES DIFF < 0.2
}

//

GROUP DIFF_DENSITY 4.1.1G.DEN_LT25 4.1.1G.DEN_GT75

4.1.1G.DEN_LT25 {@ Minimum DIFF density over 150mX150um area step 50 is 25%
   DIFF_ALL = DIFF OR DIFFDUMY
   DENSITY DIFF_ALL INSIDE OF LAYER BULK < 0.25 WINDOW 150 STEP 50 BACKUP  PRINT DIFF_LT25.DEN
}

4.1.1G.DEN_GT75 {@ Maximum DIFF density over 450mX450um area step 225 is 75%
   DIFF_ALL = DIFF OR DIFFDUMY
   DENSITY DIFF_ALL INSIDE OF LAYER BULK > 0.75 WINDOW 450 STEP 225 BACKUP  PRINT  DIFF_GT75.DEN
}


//
//===========================
//===  N-Well Rules (P92)  ==
//===========================
//
//
NDIF_MG = NDIF INTERACT MG
PDIF_MG = PDIF INTERACT MG
NDIF_TG = NDIF INTERACT TG
PDIF_TG = PDIF INTERACT TG
//

4.1.2A {@ Minimum dimension of an NWEL region is 0.52um
   E = INT NWELL < 0.52 ABUT>0<90 SINGULAR REGION
   E  NOT  LOGOMK
}

4.1.2B.a {@ Minimum N-Well to N-Well spacing for equal-potential is 0.52
   E = EXT NWEL < 0.52 ABUT>0<90 REGION
   E  NOT  LOGOMK
}

4.1.2B.b {@ Minimum N-Well to N-Well spacing for non-equal-potential is 1
   E = EXT NWELL < 1 ABUT>0<90  NOT CONNECTED REGION
   E  NOT  LOGOMK
}

4.1.2C {@ N-Well shapes must be orthogonal
   X = NWEL NOT LOGOMK
   ANGLE X >0<90
}

4.1.2D {@ N+ DIFF shapes is not allowed between N_WELL shapes with spacing < 1um
   X = EXT NWELL < 1 REGION
   Y = NDIF NOT OUTSIDE X
   Y NOT ((((SP_7 OR SP_9) OR SP_12) OR SP_11) OR LOGOMK)
}

//

// NDIF_LOGIC1 for 4.1.2E -- not mean all Logic NDiff (include SP_8/SP_3G)   
NDIF_LOGIC1 = NDIF NOT ((((((((DP_1 OR SPHD_1) OR  DPHD_1) OR DPHD_2) OR SP_1) OR SP_2) OR DPHD_3) OR SP_7) OR SP_9)

//

4.1.2E {@ Minimum NWEL to a N+ DIFF spacing is 0.21um
  E =  EXT NWEL NDIF_LOGIC1 < 0.21 ABUT<90 OVERLAP SINGULAR REGION
  E NOT (SP_6 OR (DP_11 OR (SP_12 OR (SP_11 OR (LOGOMK OR (DP_13 OR (DP_14 OR (DP_10 OR SP_5))))))))  
}

4.1.2E.a {@ Minimum NWEL to a N+ DIFF spacing for MG is 0.21um
   NDIF_MG_LOGIC = (NDIF_MG NOT DPHD_3) NOT SP_9    		// NOT SRAM-SP_1/DPHD_3/SP_9
   E = EXT NWEL NDIF_MG_LOGIC < 0.21 ABUT<90 SINGULAR REGION
   E NOT (SP_12 OR (SP_12 OR (SP_6 OR (DP_14 OR (LOGOMK OR DP_11)))))
}

4.1.2E.b {@ Minimum NWEL to a N+ DIFF spacing for TG is 0.5um
   E = EXT NWEL NDIF_TG < 0.5 ABUT<90 SINGULAR REGION
   E  NOT  LOGOMK
}

4.1.2F {@ Minimum NWEL overlap N+ DIFF is 0.16um
   E = ENC NTAP NWEL < 0.16 ABUT<90 SINGULAR OVERLAP REGION
   E  NOT  LOGOMK
}

4.1.2G {@ Minimum NWEL to P+ DIFF is 0.16um
   E = EXT NWEL PTAP < 0.16 ABUT<90 SINGULAR OVERLAP REGION
   E  NOT  LOGOMK
}

//

// PDIF_LOGIC1 for 4.1.2E -- not mean all Logic PDiff (include SP_8/SP_3G)   
PDIF_LOGIC1 = PDIF NOT ((((((((DP_1 OR SPHD_1) OR  DPHD_1) OR DPHD_2) OR SP_1) OR SP_2) OR DPHD_3) OR SP_7) OR SP_9)

//

4.1.2H {@ Minimum NWEL overlap P+ DIFF is 0.21um
   E = ENC PDIF_LOGIC1 NWEL < 0.21 ABUT<90 SINGULAR OVERLAP REGION
   E NOT (SP_6 OR (DP_11 OR (SP_12 OR (SP_11 OR (LOGOMK OR (DP_13 OR (DP_14 OR (DP_10 OR SP_5))))))))
}

4.1.2H.a {@ Minimum NWEL overlap P+ DIFF for MG is 0.21um
   PDIF_MG_LOGIC = ((PDIF_MG NOT DPHD_3) NOT SP_9) NOT (SP_6 OR DP_11)    		// NOT SRAM-SP_1/DPHD_3/SP_9
   E = ENC PDIF_MG_LOGIC NWEL < 0.21 ABUT<90 SINGULAR OVERLAP REGION
   E NOT (DP_14 OR (SP_12 OR LOGOMK))
}

4.1.2H.b {@ Minimum NWEL overlap P+ DIFF for TG is 0.5um
   E = ENC PDIF_TG NWEL < 0.5 ABUT<90 SINGULAR OVERLAP REGION
   E  NOT  LOGOMK
}

//
// For NWEL resistor
//

RNWELL_BODY = RNWELL AND NWR
RNWELL_W = RNWELL_BODY COIN INSIDE EDGE RNWELL

//

4.1.2.1A {@ NWELL resistor overlap NWELL is 0um
   NWR NOT RNWELL
}

4.1.2.1A.a {@ Minimum N-Well resistor width is 1.5um
   INT RNWELL_W < 1.5 ABUT>0<90  REGION
}

4.1.2.1A.b {@ Maximum NWELL width for resistor is 20 um
   X = EXPAND EDGE RNWELL_W INSIDE BY 10 CORNER FILL
   Y = RNWELL_BODY NOT X
   RNWELL_BODY INTERACT Y
}

4.1.2.1B {@ NWELL resistor to N+ diffusion(for N-Well tap) spacing is 0um
   X = NWR INSIDE EDGE RNWELL
   X NOT TOUCH OUTSIDE EDGE NTAP
   NWR AND NTAP   
}

4.1.2.1C__4.1.2.1D {@ Minimum space between two N-well resistor regions is 2.2um
   X = RNWELL  AND  NWR   
   EXT X   NWELL < 2.2 ABUT>0<90 SINGULAR REGION
   EXT X         < 2.2 ABUT>0<90 REGION
}

Recommend_4.1.2.1.ERR {@ Diffusion dummy over N-Well resistor is not allowed
   NWR AND DIFFDUMY
   NWR AND DIFF
}

//
//============================
//===  T-Well Rule (P90)   ===
//============================
//

4.1.3A {@ Minimum width of TWELL region is 0.9um
   E = INT TWEL < 0.9 ABUT>0<90 SINGULAR REGION
   E  NOT LOGOMK
}

4.1.3B.a {@ Minimum space between two TWELL regions is 0.9um
   E = EXT TWEL < 0.9 ABUT>0<90 SINGULAR REGION
   E  NOT  LOGOMK
}

4.1.3B.b {@ Minimum space between two TWELLFOR non-equal potential is 1.0um
   E = EXT TWEL < 1.0  NOT CONNECTED REGION
   E  NOT  LOGOMK
}

4.1.3C {@ Minimum NWEL overlap TWELL is 1.0um
   E = ENC TWEL NWELL < 1.0 ABUT  REGION OUTSIDE ALSO
   E  NOT  LOGOMK
}

4.1.3D {@ TWEL shapes must be orthogonal
   X = TWEL  NOT  LOGOMK
   ANGLE X >0<90
}

4.1.3E {@ Minimum TWEL overlap P+ DIFF is 0.2um
   X = PTAP INTERACT TWEL
   E = ENC X TWEL < 0.2 ABUT<90 SINGULAR OVERLAP REGION
   E  NOT  LOGOMK
}

4.1.3F {@ Minimum TWEL to (N+ DIFF in NWEL) is 0.2um
   E = EXT TWEL NTAP  < 0.2 ABUT<90 SINGULAR OVERLAP REGION
   E  NOT  LOGOMK
}

4.1.3G {@ Minimum TWEL to a (P+ DIFF in NWEL) spacing is 0.21um
   E = EXT TWEL PDIF < 0.21 ABUT<90 OVERLAP INSIDE ALSO SINGULAR REGION
   E  NOT  LOGOMK
}

4.1.3G.a {@ Minimum TWEL to a (P+ DIFF touching MG) spacing is 0.21um
   E = EXT TWEL PDIF_MG < 0.21 ABUT<90 OVERLAP SINGULAR REGION
   E  NOT  LOGOMK
}

4.1.3G.b {@ Minimum TWEL to a (P+ DIFF touching TG) spacing is 0.5um
   E = EXT TWEL PDIF_TG < 0.5 ABUT<90 OVERLAP SINGULAR REGION
   E  NOT LOGOMK
}

4.1.3H {@ Minimum TWEL overlap N+ DIFF is 0.21um
   X = NDIF AND TWEL
   E = ENC X TWEL < 0.21 ABUT<90 SINGULAR OVERLAP REGION	
   E  NOT  LOGOMK 
}   

4.1.3H.a {@ Minimum TWEL overlap (N+ DIFF touching MG) is 0.21um
   X = NDIF_MG INTERACT TWEL
   E = ENC X TWEL < 0.21 ABUT<90 SINGULAR REGION
   E  NOT LOGOMK
}

4.1.3H.b {@ Minimum TWEL overlap (N+ DIFF touching TG) is 0.5um
   E = ENC NDIF_TG TWEL < 0.5 ABUT<90 OVERLAP SINGULAR REGION
   E  NOT  LOGOMK
}

//
//============================
//===  T3 Rule             ===
//============================
//
TWEL_T3        = T3        NOT    NWEL
NWEL_T3        = NWEL    INTERACT T3
NWEL_INSIDE_T3 = NWEL_T3  INSIDE  T3
//

4.1.3.1A {@ Minimum width of T3 region is 0.9um
   INT T3 < 0.9 ABUT>0<90 SINGULAR REGION  
}

4.1.3.1B.a {@ Minimum space between two T3 regions is 0.9um
   EXT T3 < 0.9 ABUT>0<90 SINGULAR REGION
}

4.1.3.1B.b {@ Minimum space between two T3 for non-equal potential is 1um
   T3_C = STAMP T3 BY TWEL_T3
   EXT T3_C < 1.0 NOT CONNECTED REGION
}

4.1.3.1C {@ Minimum NWEL width which touch T3 is 1.0um
   Z = NWEL_T3 NOT NWEL_INSIDE_T3
   INT Z < 1.0 ABUT>0<90 SINGULAR REGION
}

4.1.3.1D {@ T3 shapes must be orthogonal 
   ANGLE T3 >0<90
}

4.1.3.1E {@ T3 edges must be within NWEL
   T3 OUTSIDE EDGE NWEL
}

4.1.3.1F {@ Minimum NWEL(within T3) to (P+ DIFF within T3) spacing is 0.20um
   EXT NWEL_INSIDE_T3 PTAP < 0.20 ABUT<90 OVERLAP SINGULAR REGION
}

4.1.3.1G {@ Minimum NWEL(within T3) overlap N+ DIFF is 0.20um
   X = NTAP AND NWEL_INSIDE_T3 // NTAP cutting NWEL is checked in 4.1.2 section.
   ENC X NWEL_INSIDE_T3 < 0.20 ABUT<90 SINGULAR REGION	
}

4.1.3.1H {@ Minimum NWEL(within T3) overlap P+ DIFF is 0.21um
   X = PDIF AND NWEL_INSIDE_T3 // PDIF cutting NWEL is checked in 4.1.2 seciton.
   ENC X NWEL_INSIDE_T3 < 0.21 ABUT<90 SINGULAR OVERLAP REGION	
}

4.1.3.1H.a {@ Minimum NWEL(within T3) overlap (P+ DIFF touching MG) is 0.21um
   ENC PDIF_MG  NWEL_INSIDE_T3 < 0.21 ABUT<90 OVERLAP SINGULAR REGION

}

4.1.3.1H.b {@ Minimum NWEL(within T3) overlap (P+ DIFF touching TG) is 0.5um
   ENC PDIF_TG NWEL_INSIDE_T3 < 0.5 ABUT<90 OVERLAP SINGULAR REGION
}

4.1.3.1I {@ Minimum NWEL(within T3) to (N+ DIFF within T3) is 0.21um
   EXT NWEL_INSIDE_T3 NDIF < 0.21 ABUT<90 OVERLAP SINGULAR REGION
}

4.1.3.1I.a {@ Minimum NWEL(within T3) to (N+ DIFF within T3) is 0.21um
   EXT NWEL_INSIDE_T3 NDIF_MG < 0.21 ABUT<90 SINGULAR REGION

}

4.1.3.1I.b {@ Minimum NWEL(within T3) to (N+ DIFF within T3) is 0.5um
   EXT NWEL_INSIDE_T3 NDIF_TG < 0.5 ABUT<90 OVERLAP SINGULAR REGION
}

4.1.3.1J {@ Minimum NWEL width within T3 is 1.0um
     INT NWEL_INSIDE_T3  < 1.0  ABUT>0<90 SINGULAR REGION
}

4.1.3.1K {@ Minimum spacing of NWEL to NWEL within T3 is 0.9um
     E = EXT  NWEL_T3  < 0.9  ABUT>0<90 SINGULAR REGION
     E  AND  T3
}  

//
//==============
//===  SP   === 
//==============
//

4.1.4A {@ Minimum width of SP region is 0.4um
   INT SP < 0.40 ABUT>0<90  OPPOSITE REGION
}

4.1.4B {@ Minimum space between two SP regions is 0.40um
   EXT SP < 0.40 ABUT>0<90 OPPOSITE REGION
   EXT SP < 0.40 ABUT>0<90 CORNER TO CORNER REGION 
}

4.1.4C {@ Minimum SP overlap gate is 0.16um
   X = GATE INTERACT SP
   ENC X SP < 0.16 ABUT INSIDE ALSO REGION
}

4.1.4D {@ Minimum SP to gate spacing is 0.16
   EXT SP GATE < 0.16 ABUT SINGULAR REGION
}

4.1.4E {@ SP shapes must be orthogonal
   ANGLE SP >0<90
}

4.1.4F {@ Minimum space of SP to NWEL is 0 or 0.4um
   EXT SP NWEL < 0.40 ABUT>0<90 REGION
}

4.1.4G {@ Minimum space of SP to TG is 0 or 0.4um
   EXT SP TG < 0.40 ABUT>0<90 OVERLAP INSIDE ALSO REGION
}

4.1.4H {@ Minimum space of SP to MG is 0 or 0.4um
   EXT SP MG < 0.40 ABUT>0<90 OVERLAP INSIDE ALSO REGION
}

4.1.4I {@ NWEL overlap of SP is >= 0.4 or <= 0.19 um
   INT NWEL SP > 0.19 < 0.4 ABUT>0<90 REGION
}

4.1.4J {@ Minimum NWEL overhang of SP is 0 or 0.4um
   X = SP INTERACT NWEL
   ENC X NWEL < 0.4 ABUT>0<90 REGION
}

4.1.4K {@ Minimum spacing of SP to N+/P+_PO1 non-salicide resistor is 0.52um
   EXT SP POL_RES < 0.52 ABUT>0<90 OVERLAP SINGULAR REGION
}

4.1.4L {@ No overlap of SP and SP_LVT layer
       AND  SP  SPLVT
}

   
//
//====================================== 
//===  LL_HVT (LL_HVT Rules)         ===  
//====================================== 
//
  
4.1.5A {@ Minimum width of LL_HVT region is 0.40um
   INT LL_HVT < 0.40 ABUT>0<90 OPPOSITE REGION 
}

4.1.5B {@ Minimum space between two LL_HVT regions is 0.40um
   EXT LL_HVT < 0.40 ABUT>0<90 OPPOSITE REGION
   EXT LL_HVT < 0.40 ABUT>0<90 CORNER TO CORNER REGION 
}

4.1.5C {@ Minimum LL_HVT overlap gate is 0.16um
   X = GATE INTERACT LL_HVT
   Y = ENC X LL_HVT < 0.16 ABUT INSIDE ALSO REGION 
   Y NOT SP_1
}

4.1.5D {@ Minimum LL_HVT to unrelated Poly spacing is 0.16um
   EXT LL_HVT GATE < 0.16 ABUT SINGULAR REGION 
}

4.1.5E {@ LL_HVT must be with MG 0 or>=0.4
   ENC LL_HVT MG < 0.4 ABUT>0<90 OUTSIDE ALSO REGION
}

4.1.5F {@ LL_HVT shapes must be orthogonal
   ANGLE LL_HVT >0<90 
}

4.1.5G {@ Minimum LL_HVT overhang of NWEL is 0.0 or >= 0.4um
   x = ENC NWEL LL_HVT < 0.4 ABUT>0<90 REGION
   x NOT DPHD_3
}

4.1.5H {@ Minimum NWEL overlap of LL_HVT is >= 0.4 or <= 0.19 um
   INT NWEL LL_HVT > 0.19 < 0.4 ABUT>0<90  REGION
}

4.1.5I {@ Minimum NWEL overhang of LL_HVT is 0 or 0.4um
   X = LL_HVT INTERACT NWEL
   ENC X NWEL < 0.4 ABUT>0<90 REGION
}

4.1.5J {@ Minimum space of LL_HVT to NWEL is 0 or 0.4um
   EXT LL_HVT NWEL < 0.40 ABUT>0<90 REGION
}

4.1.5K {@ Minimum space of LL_HVT to TG is 0 or 0.4um
   EXT LL_HVT TG < 0.40 ABUT>0<90 OVERLAP INSIDE ALSO REGION
}

4.1.5L {@ Minimum spacing of LL_HVT to N+/P+_PO1 non-salicide resistor is 0.52um
   EXT LL_HVT POL_RES < 0.52 ABUT<90 OVERLAP SINGULAR INSIDE ALSO REGION
}

4.1.5M {@ No overlap of LL_HVT and LLLVT layer
   AND  LL_HVT  LLLVT
}

//
//======================================
//===  MG (MG Rules)                 ===
//======================================
//

4.1.6A {@ Minimum width of MG region is 0.4um
   E = INT MG < 0.4 ABUT>0<90 SINGULAR REGION
   E  NOT  LOGOMK
}

4.1.6B {@ Minimum space between two MG regions is 0.40um
  E = EXT MG < 0.40 ABUT>0<90 REGION
  E  NOT  LOGOMK
}

4.1.6C {@ Minimum MG overlap gate is 0.16um
   X = ENC GATE MG < 0.16 ABUT<90 INSIDE ALSO REGION
   X NOT (SP_1 OR LOGOMK)
}

4.1.6D {@ Minimum MG to gate spacing is 0.16um
   E = EXT MG GATE < 0.16 ABUT SINGULAR REGION
   E  NOT  LOGOMK
}

4.1.6E {@ MG not allowed over TG
   E = MG AND TG
   E  NOT  LOGOMK  
}

4.1.6F {@ MG shapes must be orthogonal
   X = MG  NOT  LOGOMK
   ANGLE X >0<90
}

4.1.6G {@ Minimum MG overhang of NWEL is 0 or 0.4um
   X = NWEL INTERACT MG
   Y = ENC X MG < 0.4 ABUT>0<90 REGION
   Y NOT (DPHD_3  OR  LOGOMK)
}

4.1.6H {@ Minimum NWEL overlap of MG is >= 0.4 or <= 0.19 um
   X = NWEL INTERACT MG
   E = INT X MG > 0.19 < 0.4 ABUT>0<90  REGION
   E  NOT  LOGOMK
}

4.1.6I {@ Minimum NWEL overhang of MG is 0 or 0.4um
   X = MG INTERACT NWEL
   E = ENC X NWEL < 0.4 ABUT>0<90 REGION
   E  NOT  LOGOMK
}

4.1.6J {@ Minimum space of MG to TG is 0 or 0.4um
   E1 = EXT MG TG < 0.40 ABUT>0<90 OVERLAP INSIDE ALSO REGION
   E2 = AND MG TG
   (E1 OR  E2)  NOT  LOGOMK
}

//
//======================================
//===  TG (3.3v oxide)  Rules (P21)  ===
//======================================
//
//
GATE_TG     = GATE_W     INSIDE EDGE TG
GATE_NOT_TG = GATE_W NOT INSIDE EDGE TG
//

4.1.7A {@ Minimum width of TG region is 0.40um
   E = INT TG < 0.40 ABUT>0<90 SINGULAR REGION
   E  NOT  LOGOMK
}

// 4.1.7As 

4.1.7B {@ Minimum space between two TG regions is 0.40um
   E = EXT TG < 0.40 ABUT>0<90 REGION
   E  NOT  LOGOMK
}

// 4.1.7Bs 

4.1.7C {@ Minimum TG overlap gate is 0.5um
   X = GATE INTERACT TG
   E = ENC X TG < 0.5 ABUT<90 INSIDE ALSO REGION
   E  NOT  LOGOMK
}

4.1.7D {@ Minimum TG to gate spacing is 0.5um
   E = EXT TG GATE < 0.5 ABUT SINGULAR REGION
   E  NOT  LOGOMK
}

4.1.7E {@ TG shapes must be orthogonal
   X = TG  NOT  LOGOMK 
   ANGLE X >0<90
}

4.1.7F {@ Minimum TG overhang of NWEL is 0 or 0.4um
   X = NWEL INTERACT TG
   E = ENC X TG < 0.4  ABUT>0<90 REGION
   E  NOT  LOGOMK
}

// 4.1.7Fs 

4.1.7G {@ Minimum TG to NWEL is 0 or 0.4um
   E = EXT TG NWEL < 0.4 ABUT>0<90 REGION
   E  NOT  LOGOMK
}

// 4.1.7Gs

4.1.7H {@ Minimum TG overlap of NWEL is >= 0.4 or <= 0.19 um
   X = NWEL INTERACT TG
   E = INT X TG > 0.19 < 0.4 ABUT>0<90  REGION
   E  NOT  LOGOMK
}

// 4.1.7Hs 

4.1.7I {@ Minimum NWEL overhang of TG is 0 or 0.4um
   X = TG INTERACT NWEL
   E = ENC X NWEL < 0.4 ABUT>0<90 REGION
   E  NOT  LOGOMK
}

// 4.1.7Is 


//
//==========================
//===  Poly Rules (P30)  ===
//==========================
//

END_CAP           =  INTPOL TOUCH GATE == 1
SMALL_END_CAP     = AREA END_CAP < 0.032
DIFF_W_SMALL_ECAP = DIFF_W TOUCH EDGE SMALL_END_CAP

GATE_NA = GATE INTERACT NATIVE
HV_GATE = GATE   AND    TG

END_CAP_W   = END_CAP_020 COIN INSIDE EDGE ( PO1 TOUCH EDGE GATE_W )
END_CAP_020 = ((SIZE GATE BY 0.2  INSIDE OF PO1 STEP 0.2) NOT DIFF) AND END_CAP

DIFF_E_NG = DIFF OUTSIDE EDGE GATE
GATE_E_ENDCAP = DIFF_W COIN EDGE END_CAP

//

4.1.8A.a__4.1.8B.a__4.1.8C{@ Minimum PO1 width for NMOS or PMOS or interconnect is 0.08um
   x = INT PO1 < 0.08 ABUT>0<90 SINGULAR REGION
   x NOT ((((((((DP_1 OR DPHD_1) OR DPHD_2) OR SP_1)  OR SP_2) OR SPHD_1) OR DPHD_3) OR SP_7) OR (SP_6 OR (SP_9 OR (DP_11 OR (SP_12 OR (SP_11 OR (LOGOMK OR (DP_13 OR (DP_14 OR (DP_10 OR SP_5))))))))))
}

4.1.8A.b__4.1.8B.b {@ Minimum PO1 width for NMOS or PMOS is 0.09um
           @ over MG
   E = INT GATE_MG < 0.09 ABUT>0<90 REGION
   E  NOT  LOGOMK
}

4.1.8A.c1__4.1.8B.c1_18V {@ Minimum PO1 width for 1.8V NMOS or PMOS is 0.18um
           
   E = INT GATE_TG < 0.18 ABUT>0<90 REGION
   E  NOT  LOGOMK
}

4.1.8A.c2__4.1.8B.c2_25V {@ Minimum PO1 width for 2.5V NMOS or PMOS is 0.24um
           
   E = INT GATE_TG < 0.24 ABUT>0<90 REGION
   E  NOT  LOGOMK
}

4.1.8A.c3__4.1.8B.c3_33V {@ Minimum PO1 width for 3.3V NMOS or PMOS is 0.34um
           
   E = INT GATE_TG < 0.34 ABUT>0<90 REGION
   E  NOT  LOGOMK
}

// 4.1.8A.d refer to 4.3.1

// 4.1.8A.e refer to 4.3.1


4.1.8A.f_25V {@ Minimum PO1 width for 3.3V NMOS over 3P3V_GOX52_IMPLANT_MARK is 0.4um        
   X = (GATE_TG  INSIDE  EDGE  GOX523P3VIMPMK)  INSIDE  EDGE  NDIF
   INT X < 0.4   ABUT>0<90  REGION
}

4.1.8B.d_25V {@ Minimum PO1 width for 3.3V PMOS over 3P3V_GOX52_IMPLANT_MARK is 0.7um
   X = (GATE_TG  INSIDE  EDGE  GOX523P3VIMPMK)  INSIDE  EDGE  PDIF
   INT X < 0.7   ABUT>0<90  REGION
}

4.1.8D.a1__4.1.8D.a2__4.1.8D.b1__4.1.8D.b2 {@ Minimum Poly spacing on diffusion regions is 0.16um 
   x = EXT PO1 < 0.16 ABUT>0<90 REGION
   x NOT ((((((((DP_1 OR DPHD_1) OR DPHD_2) OR SP_1 ) OR SP_2) OR SPHD_1) OR DPHD_3) OR SP_7) OR (SP_9 OR (SP_6 OR (DP_11 OR (SP_12 OR (SP_11 OR (LOGOMK OR (DP_13 OR (DP_14 OR (DP_10 OR SP_5))))))))))
}

4.1.8D.a31__4.1.8D.b31_25V {@ Minimum Poly spacing on diffusion regions for 2.5V IO is 0.18um
     X = PO1 INTERACT (GATE AND TG)
     E = EXT X PO1 < 0.18 ABUT>0<90 REGION
     E  NOT  LOGOMK
}

4.1.8D.a32__4.1.8D.b32_18V {@ Minimum Poly spacing on diffusion regions for 1.8V IO is 0.18um
     X = PO1 INTERACT (GATE AND TG)
     E = EXT X PO1 < 0.18 ABUT>0<90 REGION
     E  NOT  LOGOMK
}

4.1.8D.a33__4.1.8D.b33_33V {@ Minimum Poly spacing on diffusion regions for 3.3V IO is 0.2um
     X = PO1 INTERACT (GATE AND TG)
     E = EXT X PO1 < 0.2 ABUT>0<90 REGION
     E  NOT  LOGOMK
}

// 4.1.8D.a3s 

4.1.8D.a4__4.1.8D.b4_25V  {@ Minimum spacing and notch of PO1 on field over 3P3V_GOX52_IMPLANT_MARK is 0.18um
     X = PO1 INTERACT ((GATE AND TG) AND GOX523P3VIMPMK)
     EXT X PO1 < 0.18 ABUT>0<90 REGION
}

4.1.8E.a {@ Minimum overlap of a PO1 region extended into field oxide is 0.14um
        @ if PO1 end cap area >= 0.032um
   x = ENC DIFF_W PO1 < 0.14 ABUT<90 REGION
   x NOT (((((((DPHD_1 OR DPHD_2)  OR SP_1) OR SP_2) OR SPHD_1) OR DPHD_3) OR SP_7) OR (SP_9 OR (SP_6 OR (DP_11 OR (SP_12 OR (SP_11 OR (LOGOMK OR (DP_13 OR (DP_14 OR (DP_10 OR SP_5))))))))))
}

4.1.8E.b1 {@ For end cap area < 0.032 um2,poly to three adjacent PO1 spacing 0.17um
	 @  overlap of a PO1 region extended into field oxide is 0.18um
         @ if PO1 end cap area < 0.032um
   X = EXT SMALL_END_CAP PO1 < 0.17 OPPOSITE REGION
   Y = SMALL_END_CAP INTERACT X > 2
   E = ENC DIFF_W_SMALL_ECAP Y < 0.18 ABUT>0<90 MEASURE COIN REGION
   E  NOT LOGOMK
}

4.1.8E.b2__4.1.8E.b4 {@ For end cap area < 0.032 um2,poly to three adjacent PO1 spacing >= 0.17um
         @  overlap of a PO1 region extended into field oxide is 0.16um
   X = ENC DIFF_W_SMALL_ECAP SMALL_END_CAP < 0.16 ABUT>0<90 MEASURE COIN REGION
   X NOT (((((((DPHD_2 OR SP_7)OR DPHD_3) OR DP_1) OR SP_2) OR SP_1) OR SPHD_1) OR (SP_9 OR (SP_6 OR (DP_11 OR (SP_12 OR (SP_11 OR (LOGOMK OR (DP_13 OR (DP_14 OR (DP_10 OR SP_5))))))))))
}

4.1.8E.b3 {@ Minimum overlap of a PO1 region extended into field oxide is 0.18um
         @ if spacing of PO1 end cap to 45" PO1 line on field region < 0.17um
         @ if PO1 end cap area < 0.032um
   X = ANGLE EXPOL >40<50
   Y = EXT SMALL_END_CAP X < 0.17 CORNER TO EDGE REGION
   Z = SMALL_END_CAP INTERACT Y
   E = ENC DIFF_W_SMALL_ECAP Z < 0.18 ABUT>0<90 MEASURE COIN REGION
   E  NOT  LOGOMK
}

4.1.8E.c {@ PO1 common run with DIFF >= 0.1um, and end cap to DIFF >0.08< 0.1
	 @ is 0.18um
   X = EXT END_CAP_W DIFF >= 0.08 < 0.1 OPPOSITE PROJ >= 0.1  REGION
   Y = END_CAP INTERACT X
   Z = DIFF_W TOUCH EDGE Y
   A = ENC Z Y < 0.18 ABUT>0<90 MEASURE COIN REGION
   A NOT (LOGOMK OR (DPHD_2 OR DPHD_3))
}

4.1.8E.d {@ PO1 common run with DIFF >= 0.1um, and end cap to DIFF >=0.06<0.08
	 @ is 0.2 um
   X = EXT END_CAP_W DIFF >= 0.06 < 0.08 OPPOSITE PROJ >= 0.1  REGION
   Y = END_CAP INTERACT X
   Z = DIFF_W TOUCH EDGE Y
   A = ENC Z Y < 0.2 ABUT>0<90 MEASURE COIN REGION 
   A NOT ((((DPHD_2 OR DP_1) OR SP_2) OR SPHD_1) OR LOGOMK)
}

4.1.8F.a__4.1.8F.1a {@ Minimum PO1 on field region to DIFF spacing
      @ PO1 common run length with adjacent,parallel DIFF <= 0.2um is 0.06um
   x = EXT PO1 DIFF < 0.06 ABUT<90 SINGULAR REGION
   x  NOT ((((((((DP_1 OR DPHD_1 ) OR DPHD_2) OR SP_1 ) OR SP_2) OR SPHD_1) OR DPHD_3) OR SP_7) OR (SP_9 OR (DP_11 OR (SP_12 OR (SP_11 OR (LOGOMK OR (DP_13 OR (DP_14 OR (DP_10 OR SP_5)))))))))
}

4.1.8F.b__4.1.8F.1b {@ Minimum PO1 on field region to DIFF spacing 
      @ PO1 common run length with adjacent,parallel DIFF > 0.2um is 0.08um 
   x = EXT PO1 DIFF < 0.08 OPPOSITE REGION
   (X WITH EDGE (LENGTH X > 0.2)) NOT ((((SPHD_1 OR DPHD_3) OR DPHD_2) OR SP_7) OR LOGOMK)
}

4.1.8F.c {@ For each PO1 gate throught the middle of an H-shape diffusion,if the maximum of (h1,h2,h3,h4)>=0.05um
          @ then the maximum of (d1,d2,d3,d4) must be >= 0.1um
    
     PO1_X   = PO1  TOUCH  INSIDE EDGE  GATE_W
     EXPOL_E = PO1_X OUTSIDE  EDGE DIFF
     X = EXT  EXPOL_E  DIFF < 0.1 ABUT<90 OPPOSITE PARALLEL ONLY PROJECTING >= 0.05 REGION 
     Y = (SIZE GATE BY 0.005) INTERACT  X  >= 4
     (X  INTERACT Y) NOT LOGOMK 
}      

4.1.8F.2 {@ Minimum PO1 on field to DIFF spacing (when PO1 across <= 0.2um wide DIFF notch) is 0.14um
   X = EXT DIFF <= 0.20 ABUT>0<90 NOTCH REGION
   Y = DIFF TOUCH EDGE X
   Z = PO1 AND X
   A = Z TOUCH GATE == 2
   E = EXT A Y < 0.14 OPPOSITE  REGION
   E  NOT  LOGOMK
}

4.1.8G {@ Minimum PO1 endcap to RELATED DIFF spacing is 0.06um
   Z = EXT GATE_E_ENDCAP DIFF_E_NG < 0.06 PERP ONLY ABUT == 90 REGION
   Z NOT (SP_1 OR (LOGOMK OR (DP_1 OR DPHD_3)))
}

4.1.8H.a {@ Minimum PO1 gate to field edge spacing(SP/SPHVT) is 0.15um
   E = ENC GATE_W DIFF < 0.15 ABUT<90  REGION 
   E NOT (((((((DPHD_1 OR DPHD_2) OR SP_1)  OR SP_2 ) OR  SPHD_1) OR DPHD_3) OR SP_7) OR (SP_6 OR (SP_9 OR (DP_11 OR (SP_12 OR (SP_11 OR (LOGOMK OR (DP_13 OR (DP_14 OR (DP_10 OR SP_5))))))))))
}

4.1.8H.b {@ Minimum PO1 gate to field edge spacing(over MG) is 0.15um
   Y = ENC GATE_MG DIFF < 0.15 ABUT<90 REGION 
   Y NOT (((((((SP_1 OR DPHD_3) OR SP_9) OR SP_6) OR DP_11) OR  SP_12) OR LOGOMK) OR DP_14)

}

4.1.8H.c1__4.1.8H.c2 {@ Minimum PO1 gate to field edge spacing for 2.5V/1.8V decice is 0.22um
   E = ENC GATE_TG DIFF < 0.22 ABUT<90 REGION 
   E  NOT  LOGOMK
}

4.1.8H.d_25V {@ Minimum PO1 gate to field edge spacing for 2.5V OD decice is 0.22um
   X = GATE_TG  INSIDE EDGE  GOX523P3VIMPMK
   E = ENC X DIFF < 0.22 ABUT<90 REGION 
   E  NOT  LOGOMK
}

4.1.8H.c3_33V {@ Minimum PO1 gate to field edge spacing for 3.3V decice is 0.24um
   E = ENC GATE_TG DIFF < 0.24 ABUT<90 REGION
   E  NOT  LOGOMK
}

4.1.8I__4.1.8J {@ Bent gate 45 or 90 degree is not allowed
   X = VERTEX GATE > 4
   X NOT ((((((((((SP_2  OR SPHD_1) OR DPHD_1 ) OR DPHD_2) OR DPHD_3) OR SP_7) OR DP_1) OR SP_9) OR SP_12) OR SP_11) OR LOGOMK)
   
   Y = GATE NOT ((((((((((SP_2  OR SPHD_1) OR DPHD_1 ) OR DPHD_2) OR DPHD_3) OR SP_7) OR DP_1) OR SP_9) OR SP_12) OR SP_11) OR LOGOMK)
   ANGLE Y >0<90
}

4.1.8L {@ Minimum bent PO1 width for wiring is 0.1um
   x = INT EXPO_E < 0.1 ANGLED == 2 REGION
  x NOT ((((DPHD_1 OR SP_1) OR SP_2) OR SPHD_1) OR LOGOMK)
}

4.1.8M {@ Maximum PO1 overlap of DIFF region area is 80um x 80um.
    E = AREA GATE > 6400
    E  NOT  LOGOMK
}

4.1.8O {@ Minimum PO1 bent gate on field region to DIff spacing = 0.08
      x = EXT GATE_W EXPO_E < 0.08 OBTUSE ONLY REGION
      x NOT ((((( SP_1 OR DPHD_3) OR DPHD_2) OR SP_2) OR SPHD_1) OR LOGOMK)
}

//

GROUP POLY_DENSITY 4.1.8P

4.1.8P {@ The PO1 coverage must be larger than 15% inside of POLY DUMMY BLOCK layer
   PO1_ALL = PO1 OR PO1DUMY
   DENSITY PO1_ALL INSIDE OF LAYER PLYDMBK < 0.15 WINDOW 1000 STEP 500  BACKUP PRINT PO1.DEN
}

//

// 4.1.8Q same as 4.1.8J

4.1.8R {@ Minimun PO1 area is 0.05 sq.um
   E = AREA PO1 < 0.05
   E  NOT LOGOMK
}

4.1.8S {@ Minimum PO1 enclosed area 0.077 sq.um
   E = HOLES PO1 < 0.077
   E  NOT  LOGOMK
}

4.1.8T__4.1.8U {@ Maximum PO1 width(gate length) for NMOS or PMOS over SP_LVT is 0.4um
   GATE_LVT   = GATE    AND   SPLVT
   GATE_W_LVT = GATE_W INSIDE EDGE SPLVT
   GATE_LVT_X = EXPAND EDGE GATE_W_LVT INSIDE BY 0.2
   GATE_LVT INTERACT (GATE_LVT NOT GATE_LVT_X)
}

4.1.8V {@ Minimum spacing of 90 degree PO1 corner to 90 degree diffusion corner is 0.175um
   
    DIFF_90 =  CONVEX EDGE DIFF == 1
    PO1_90  =  CONVEX EDGE PO1  == 1
    
    DIFF_EP_X =  EXPAND EDGE DIFF_90 INSIDE BY 0.005
    PO1_EP_X  =  EXPAND EDGE PO1_90  INSIDE BY 0.005
    
    DIFF_EP_Y =  EXPAND EDGE DIFF_90 INSIDE BY 0.005 CORNER FILL
    PO1_EP_Y  =  EXPAND EDGE PO1_90  INSIDE BY 0.005 CORNER FILL
    
    DIFF_CORNER = DIFF_EP_Y  NOT  DIFF_EP_X
    PO1_CORNER  = PO1_EP_Y   NOT  PO1_EP_X
    
    DIFF_EP_Z =  (EXPAND EDGE DIFF_90 OUTSIDE BY 0.005 CORNER FILL)  INTERACT  GATE
    PO1_EP_Z  =  (EXPAND EDGE PO1_90  OUTSIDE BY 0.005 CORNER FILL)  INTERACT  GATE
    
    DONUT1 = (DIFF_EP_Z OR  PO1_EP_Z) NOT (DIFF OR PO1)
    DONUTX = DONUT DONUT1
    
    E = EXT DIFF_CORNER PO1_CORNER < 0.175 ABUT<90 CORNER TO CORNER REGION 
    (E  INTERACT DONUTX)  NOT  LOGOMK
    
} 

//
//================================
//===  BIPOLAR Rules           ===
//================================
//

BIPOLAR_PPLUS = PPLUS   INTERACT BIPOLAR
BIPOLAR_NPLUS = NPLUS   INTERACT BIPOLAR
PPLUS_BIPOLAR = BIPOLAR INTERACT PPLUS
NPLUS_BIPOLAR = BIPOLAR INTERACT NPLUS

DIFF_IN_BIPOLAR = DIFF INTERACT BIPOLAR

//

4.1.9A {@ Minimum width of a BIPOLAR region is 0.4um
   INT BIPOLAR < 0.4 ABUT>0<90 SINGULAR REGION
}

4.1.9B {@ Minimum space between two BIPOLAR regions is 0.4um
   EXT BIPOLAR < 0.4 ABUT>0<90 SINGULAR REGION
}

4.1.9C {@ PO1,TG,MG&NCAP are not allowed over BIPOLAR (This NCAP must be remove)
   BIPOLAR AND PO1
   BIPOLAR AND TG
   BIPOLAR AND MG
   BIPOLAR AND NCAP
}

4.1.9D {@ Minimum BIPOLAR to gate spacing is 0.5um
   EXT BIPOLAR GATE < 0.5 ABUT SINGULAR REGION
}

4.1.9E {@ Minimum BIPOLAR enclosure of DIFF is 0.2um
   ENC DIFF_IN_BIPOLAR BIPOLAR < 0.2 ABUT<90 SINGULAR OVERLAP REGION
}

4.1.9F {@ Minimum DIFF width over BIPOLAR is 0.8um
   INT DIFF_IN_BIPOLAR < 0.8 ABUT>0<90 SINGULAR REGION
}

4.1.9G {@ Maximum DIFF width over BIPOLAR is 3.2um
   SIZE (SIZE DIFF_IN_BIPOLAR BY -1.6) BY 1.6 INSIDE OF DIFF_IN_BIPOLAR STEP 1.6
}

4.1.9H {@ Minimum SAB overlap DIFF(within BIPOLAR) is 0.4um
   INT DIFF_IN_BIPOLAR SAB < 0.4 ABUT<90 SINGULAR OVERLAP REGION
}

4.1.9I {@ BIPOLAR shapes must be orthogonal
   ANGLE BIPOLAR >0<90
}

4.1.9J {@ Minimum spacing of BIPOLAR to NWEL is 0.40um
   EXT BIPOLAR NWEL < 0.4 ABUT MEASURE ALL REGION	
}

4.1.9K {@ Minimum spacing of BIPOLAR to TWEL is 0.40um
   EXT PPLUS_BIPOLAR TWEL < 0.4 ABUT<90 SINGULAR INSIDE ALSO REGION
}

4.1.9L {@ Minimum spacing of BIPOLAR to TG is 0.40um
   EXT BIPOLAR TG < 0.4 ABUT<90 INSIDE ALSO SINGULAR REGION
}

4.1.9.1A {@ Exact BIPOLAR enclosure of P+ is 0.0um
   XOR BIPOLAR_PPLUS PPLUS_BIPOLAR
}

4.1.9.1B {@ Minimum N_WELL enclosure of BIPOLAR is 0.4 um
   ENC PPLUS_BIPOLAR NWELL < 0.4 ABUT<90 SINGULAR OVERLAP REGION
}

4.1.9.2A {@ Exact BIPOLAR enclosure of N+ is 0.0um
   XOR BIPOLAR_NPLUS NPLUS_BIPOLAR
}

4.1.9.2B {@ Minimum T_WELL enclosure of BIPOLAR is 0.4 um
   ENC NPLUS_BIPOLAR TWEL < 0.4 ABUT<90 SINGULAR OVERLAP OUTSIDE ALSO REGION
}

//
//================================
//===  N+ Implant Rules (P98)  ===
//================================
//
GROUP DRAWN_NPLUS 4.1.10? 4.1.10?.? 
//

4.1.10A {@ Minimum width of a NPLUS region  is 0.2um
   E = INT NPLUS < 0.2 ABUT>0<90 SINGULAR REGION
   E  NOT  LOGOMK
}

// 4.1.10As 


4.1.10B {@ Minimum space between two NPLUS regions is 0.2um
   E = EXT NPLUS < 0.2 ABUT>0<90 REGION
   E  NOT  LOGOMK
}

// 4.1.10Bs 

4.1.10C.a {@ Minimum NPLUS overlap N+ DIFF inside P-Well or T-Well is 0.11um
   x = ENC ACTIVE_PS NPLUS < 0.11 SINGULAR ABUT<90 REGION
   y = ENC ACTIVE_TW NPLUS < 0.11 SINGULAR ABUT<90 REGION
   (x OR y) NOT (((((((DPHD_1  OR DPHD_2) OR DPHD_3) OR SP_7) OR SP_9) OR SP_12) OR SP_11) OR LOGOMK)
}

4.1.10C.b {@ Minimum NPLUS overlap N+ DIFF inside N-Well is 0.04um
   E = ENC ACTIVE_NW NPLUS < 0.04 SINGULAR ABUT<90 REGION
   E  NOT  LOGOMK
}

4.1.10C.c {@ Minimum NPLUS overlap PO1 gate edge inside P-Well is 0.18um
   x = ENC GATE_L NPLUS < 0.18 ABUT REGION
   x NOT (((((DPHD_1 OR DPHD_3) OR DPHD_2) OR SPHD_1) OR SP_7) OR (SP_9 OR (SP_6 OR (SP_12 OR (SP_11 OR (DP_11 OR (LOGOMK OR (DP_13 OR (DP_14 OR (DP_10 OR SP_5))))))))))
}

//
 
ACTIVE_NT_LOGIC = ACTIVE_NT NOT ((((((DPHD_3 OR DPHD_1) OR DPHD_2) OR SPHD_1) OR SP_7) OR SP_2) OR SP_9)

//

4.1.10D.a {@ Minimum NPLUS to P+ DIFF spacing(inside N-Well) is 0.11
   E = EXT NPLUS ACTIVE_NT_LOGIC < 0.11  ABUT<90 SINGULAR REGION
   E  NOT   ((SP_12 OR SP_11) OR LOGOMK)
}

4.1.10D.b {@ Minimum NPLUS to P+ DIFF spacing(inside P-Well) is 0.04
   E1 = EXT NPLUS ACTIVE_PS < 0.04 ABUT<90 SINGULAR REGION
   E2 = EXT NPLUS ACTIVE_TW < 0.04 ABUT<90 SINGULAR REGION
   (E1 OR E2) NOT LOGOMK
}

4.1.10D.c {@ Minimum NPLUS to PO1 gate edge spacing(inside N-Well) is 0.18
   X = EXT NPLUS GATE_L < 0.18  ABUT REGION
   X NOT ((SP_7 OR SPHD_1) OR (SP_9 OR (SP_6 OR (DP_11 OR (SP_12 OR (SP_11 OR (LOGOMK OR (DP_13 OR (DP_14 OR (DP_10 OR SP_5))))))))))
}

4.1.10E__4.1.11E {@ Minimum NPLUS to P+ DIFF space in the same potential is 0 um
   x = NPLUS AND PPLUS
   (x AND DIFF)  NOT  LOGOMK 
}

4.1.10F {@ Minimum N+ implant overlap DIFF to form N+ region is 0.16um
   E = INT BUT_NPLUS DIFF < 0.16 ABUT<90 REGION
   E  NOT  LOGOMK
}

4.1.10G {@ Minimum DIFF extension over N+ implant to form P+ region is 0.16 um
   E = ENC BUT_NPLUS DIFF < 0.16 ABUT<90 REGION
   E  NOT  LOGOMK
}

4.1.10H {@ Minimum N+ implant to PO1 spacing to form P+ S/D region is 0.24um
   E = EXT BUT_NPLUS GATE_W  < 0.24 ABUT<90 REGION
   E  NOT  LOGOMK
}

4.1.10I {@ Minimum N+ implant extension over PO1 to form N+ s/d is 0.24um
   E = ENC GATE_W BUT_NPLUS < 0.24 ABUT REGION
   E  NOT  LOGOMK
}

4.1.10J {@ Minimum NPLUS overlap CO region is 0.08um, no butted contact.
   X = DIFCNT NOT INSIDE PPLUS
   Y = ENC X BUT_NPLUS < 0.08 ABUT REGION
   Y NOT (DP_1  OR  LOGOMK)
}

4.1.10K {@ Minimum NPLUS implant to P+ contact spacing is 0.08um
   X = EXT BUT_NPLUS DIFCNT < 0.08 ABUT<90 REGION
   X NOT (DP_1 OR  LOGOMK)
}

//

EXP_NW   = SIZE NWELL BY 0.16
EXP_PTAP = SIZE EXP_PTAP_MG BY 4 OUTSIDE OF NWEL STEP 0.5
NDIF_MOS = NDIF INTERACT PO1
EXP_PTAP_MG = SIZE PTAP BY 16 OUTSIDE OF NWEL STEP 0.5

//

4.1.10M.a1__4.1.10M.a2 {@ Maximum NPLUS diffusion to nearest P+ pick-up spacing is 20um
   X = (NDIF_MOS NOT TWEL) NOT EXP_PTAP
   X NOT ((SRAM OR IOID) OR LOGOMK)
}

//

TWELL = TWEL OR ( T3 NOT NWEL )
EXP_PTAP_TWEL = SIZE PTAP BY 15 INSIDE OF TWELL STEP 0.5

//

4.1.10M.b {@ both N+ DIFF & P+ pick-up in TWEL is 15um
   X = (NDIF_MOS AND TWEL) NOT  EXP_PTAP_TWEL  
   X NOT ((SRAM OR IOID) OR LOGOMK) 
}

// Rule 4.1.10L checked by 4.1.11L
Recommand_4.1.10.ERR {@ Active not covered by implant when NPLUS is a draw layer
   NDIF NOT NPLUS
   NTAP NOT NPLUS
}

4.1.10N {@ Minimun NPLUS area is 0.18 sq.um
   E = AREA NPLUS < 0.18
   E  NOT  LOGOMK
}

// 4.1.10Ns 

4.1.10O {@ Minimum NPLUS enclosed area 0.18sq.um
   E = HOLES NPLUS < 0.18
   E  NOT  LOGOMK
}

// 4.1.10Os 

//
//================================
//===  P+ Implant Rules (P97)  ===
//================================
//

4.1.11A {@ Minimum width of a PPLUS region is 0.20um
   E = INT PPLUS < 0.20 ABUT>0<90 SINGULAR REGION
   E  NOT  LOGOMK
}

// 4.1.11As 

4.1.11B {@ Minimum space between two PPLUS regions is 0.20um
   E = EXT PPLUS < 0.20 ABUT>0<90 REGION
   E  NOT LOGOMK
}

// 4.1.11Bs 

4.1.11C.a {@ Minimum P+ implant overlap P+ DIFF(inside N-Well) is 0.11um
  E =  ENC ACTIVE_NT_LOGIC PPLUS < 0.11 SINGULAR ABUT<90 REGION
  E  NOT  ((SP_12 OR SP_11) OR LOGOMK)
}

4.1.11C.b {@ Minimum P+ implant overlap P+ DIFF(inside P-Well) is 0.04um
   E1 = ENC ACTIVE_TW PPLUS < 0.04 SINGULAR ABUT<90 REGION
   E2 = ENC ACTIVE_PS PPLUS < 0.04 SINGULAR ABUT<90 REGION
   (E1 OR E2)  NOT  LOGOMK
}

4.1.11C.c {@ Minimum P+ implant overlap PO1 gate edge(inside N-Well) is 0.18um
   X = ENC GATE_L PPLUS < 0.18 ABUT REGION
   X NOT ((SP_7 OR SPHD_1) OR (SP_9 OR (SP_6 OR (DP_11 OR (SP_12 OR (SP_11 OR (LOGOMK OR (DP_13 OR (DP_14 OR (DP_10 OR SP_5))))))))))
}

4.1.11D.a {@ Minimum P+ implant to N+ DIFF spacing(inside P-Well or T-Well) is 0.11um
   x = EXT PPLUS ACTIVE_PS < 0.11  ABUT<90 SINGULAR REGION
   y = EXT PPLUS ACTIVE_TW < 0.11  ABUT<90 SINGULAR REGION
   (x OR y) NOT (((((((DPHD_3 OR DPHD_1) OR DPHD_2) OR SP_7) OR SP_9) OR SP_12) OR SP_11) OR LOGOMK)
}

4.1.11D.b {@ Minimum P+ implant to N+ DIFF spacing(inside N-Well) is 0.04um
   E = EXT PPLUS ACTIVE_NW < 0.04 ABUT<90 SINGULAR REGION
   E  NOT  LOGOMK
}

4.1.11D.c {@ Minimum P+ implant to PO1 gate edge spacing(inside P-Well) is 0.18um
   x = EXT PPLUS GATE_L < 0.18  ABUT REGION
   x NOT (((((DPHD_3 OR DPHD_1) OR DPHD_2) OR SPHD_1) OR SP_7) OR (SP_9 OR (SP_6 OR (SP_12 OR (SP_11 OR (DP_11 OR (LOGOMK OR (DP_13 OR (DP_14 OR (DP_10 OR SP_5))))))))))
}

//
//===================================
//===   N+/P+ Butting Rules (P97) ===
//=================================== 
//

4.1.11F {@ Minimum P+ implant overlap DIFF to form P+ region is 0.16um
   E = INT BUT_PPLUS DIFF  < 0.16 ABUT<90 REGION
   E  NOT  LOGOMK
}

4.1.11G {@ Minimum DIFF extension over P+ implant to form N+ region is 0.16um
   E = ENC BUT_PPLUS DIFF < 0.16 ABUT<90 REGION
   E  NOT  LOGOMK
}

4.1.11H {@ Minimum P+ implant to PO1 spacing to form N+ S/D region is 0.24um
   E = EXT BUT_PPLUS GATE_W  < 0.24 ABUT<90 REGION
   E  NOT  LOGOMK
}

4.1.11I {@ Minimum P+ implant extension over PO1 to form P+ s/d is 0.24um
   E = ENC GATE_W  BUT_PPLUS   < 0.24 ABUT REGION
   E  NOT  LOGOMK
}

4.1.11J {@ Minimum PPLUS overlap CO region is 0.08um, no butted contact.
   X = DIFCNT INTERACT PPLUS
   y = ENC x BUT_PPLUS < 0.08 ABUT<90 REGION
   y NOT (DP_1 OR LOGOMK)
}

4.1.11K {@ Minimum PPLUS implant to N+ contact spacing is 0.08um
   EXT BUT_PPLUS DIFCNT  < 0.08 ABUT<90 REGION
}

4.1.10L__4.1.11L {@ Soft Contacts are prohibited
   BUT_PS    = PSD TOUCH NTAP
   BUT_NTAP  = NTAP TOUCH PSD
   BUT_NS    = NSD TOUCH PTAP
   BUT_PTAP  = PTAP TOUCH NSD
   x = BUT_PS   NOT ENCLOSE CONT
   y = BUT_NS   NOT ENCLOSE CONT
   z = BUT_NTAP NOT ENCLOSE CONT
   w = BUT_PTAP NOT ENCLOSE CONT
   a = x OR y
   b = z OR w
   c = a OR b
   c NOT ((DPHD_1 OR DP_1) OR LOGOMK)
}

//

EXP_NTAP = SIZE NTAP BY 20 INSIDE OF NWELL STEP 0.5
PDIF_MOS = PDIF INTERACT PO1

//

4.1.11M.a__4.1.11M.b {@ Maximum P+ diffusion to nearest N+ pick-up spacing is 20um
   X = PDIF_MOS NOT  EXP_NTAP   
   X NOT ((SRAM OR IOID) OR LOGOMK)
}

//

EXP_NTAP_MG = SIZE NTAP BY 16 INSIDE OF NWELL STEP 0.5

//

4.1.11N {@ Minimun PPLUS area is 0.18 sq.um
   E = AREA PPLUS < 0.18
   E  NOT  LOGOMK
}

// 4.1.11Ns 

4.1.11O {@ Minimum PPLUS enclosed area 0.18sq.um
   E = HOLES PPLUS < 0.18
   E  NOT  LOGOMK
}

// 4.1.11Os 

//
//==========================================
//===  Salicide-Block (SAB) Rules (P29)  ===
//==========================================
//

SAB_DIF_RES = (DIFF INTERACT SAB) NOT INTERACT BIPOLAR // SAB diff resistor

P_SAB_DIF_RES = SAB_DIF_RES     INTERACT PPLUS
N_SAB_DIF_RES = SAB_DIF_RES NOT INTERACT PPLUS


SBLK_DIFF    = DIFF         INTERACT SBLK       // ACTIVE with SBLK
IO_SD_SBLK   = SBLK_DIFF    INTERACT GATE       // SBLK DIFF with gates
IO_SDa_SBLK  = IO_SD_SBLK     NOT    GATE       // I/O S/D
IO_D_SBLK    = IO_SDa_SBLK  INTERACT SBLK       // I/O drain
IO_SBLK      = SBLK         INTERACT IO_SD_SBLK


aSAB_POL  = EXPOL        INTERACT SAB        // SAB poly resistor
SAB_POL   = aSAB_POL NOT INTERACT HR         // NON-HR SAB poly resistor
hSAB_POL  = aSAB_POL     INTERACT HR         // HR SAB poly resistor
P_SAB_POL = SAB_POL      INTERACT PPLUS
N_SAB_POL = SAB_POL  NOT INTERACT PPLUS

P_SAB_POL_BODY = P_SAB_POL  AND  SAB
N_SAB_POL_BODY = N_SAB_POL  AND  SAB

//


4.1.12.1A {@ Minimum SAB width is 0.40um
   E = INT SAB < 0.40 ABUT>0<90 SINGULAR REGION
   E  NOT LOGOMK
}

4.1.12.1B {@ Minimum SAB space is 0.40um
   E = EXT SAB < 0.40 ABUT>0<90 REGION
   E  NOT  LOGOMK
}

4.1.12.1C {@ No contact allowed in SAB
   E = CONT AND SAB
   E  NOT  LOGOMK
}

4.1.12.1D {@ Minimum length of N+/P+ DIFF non-salicide resistor is 0.96um
   X = SAB INSIDE EDGE SAB_DIF_RES
   E = INT X < 0.96 ABUT OPPOSITE REGION
   E  NOT  LOGOMK
}

4.1.12.1E {@ Minimum width of N+/P+ DIFF non-salicide resistor is 0.48um
   X =  (SAB_DIF_RES AND SAB) INSIDE EDGE SAB
   E = INT X < 0.48 ABUT>0<90 REGION
   E  NOT  LOGOMK
}

4.1.12.1F {@ Minimum N+/P+ PO1 non-salicide resistor length is 0.88um 
   X = SAB INSIDE EDGE SAB_POL
   E = INT X < 0.88 ABUT OPPOSITE REGION 
   E  NOT  LOGOMK
}

4.1.12.1G {@ Minimum N+/P+ PO1 non-salicide resistor width is 0.44um
   X = SAB_POL INSIDE EDGE SAB 
   Y = CONVEX EDGE SAB_POL == 1
  
   Z = X NOT COIN EDGE Y
   
   E = INT Z < 0.44 ABUT>0<90 REGION 
   E  NOT  LOGOMK
}

4.1.12.1H {@ Minimum SAB extension over N+/P+ DIFF resistor is 0.18 um
   E = ENC SAB_DIF_RES SAB < 0.18 ABUT<90 SINGULAR REGION
   E  NOT  LOGOMK
}

4.1.12.1I {@ Minimum SAB extension over N+/P+ PO1 resistor is 0.18um
  
   E1 = ENC P_SAB_POL SAB < 0.18 ABUT<90 SINGULAR REGION
   E2 = ENC N_SAB_POL SAB < 0.18 ABUT<90 SINGULAR REGION
   (E1 OR E2)  NOT  LOGOMK

}

4.1.12.1J {@ Minimum SAB to contact spacing is 0.2um

   E = EXT SAB CONT < 0.20 ABUT<90 SINGULAR INSIDE ALSO REGION
   E  NOT  LOGOMK
}

4.1.12.1K.a {@ Minimum NPLUS overlap N+ PO1 resistor is 0.24um
   E = ENC N_SAB_POL NPLUS < 0.24 ABUT < 90 OVERLAP SINGULAR REGION
   E  NOT LOGOMK
}

4.1.12.1K.b {@ Minimum PPLUS overlap P+ PO1 resistor is 0.24um
   E = ENC P_SAB_POL PPLUS < 0.24 ABUT < 90 OVERLAP SINGULAR REGION
   E  NOT  LOGOMK
}

4.1.12.1L {@ Minimum PPLUS to N+ (DIFF) resistor spacing is 0.2um
   E = EXT SAB_DIF_RES PPLUS < 0.2 ABUT SINGULAR REGION
   E  NOT  LOGOMK 
}

4.1.12.1M {@ Minimum P+ /N+ PO1 non-salicide resistor to N-WELL spacing is 0.24um 
   E1 = EXT P_SAB_POL NWEL < 0.24 ABUT SINGULAR REGION 
   E2 = EXT N_SAB_POL NWEL < 0.24 ABUT SINGULAR REGION 
   (E1 OR E2)  NOT  LOGOMK
}

4.1.12.1N {@ Minimum N-Well overlap P+ PO1 non-salicider resistor = 0.24
   E1 = ENC P_SAB_POL NWEL < 0.24 ABUT<90 SINGULAR REGION
   E2 = ENC N_SAB_POL NWEL < 0.24 ABUT<90 SINGULAR REGION
   (E1 OR E2)  NOT  LOGOMK
}

4.1.12.1O {@ Minimun SAB area is 0.37 sq.um
   E = AREA SAB < 0.37
   E  NOT  LOGOMK
}

4.1.12.1P {@ Minimum SAB enclosed area 0.37sq.um
   E = HOLES SAB < 0.37
   E  NOT  LOGOMK
}

4.1.12.1Q {@ Minimum N+ to P+ (SAB) PO1 resistor spacing is 0.24 
   E = EXT P_SAB_POL NPLUS < 0.24 ABUT INSIDE ALSO SINGULAR REGION 
   E  NOT  LOGOMK
}

4.1.12.1R {@ Minimum SAB to unrelated PO1 spacing is 0.24
   E = EXT SAB PO1 < 0.24 ABUT<90 SINGULAR REGION
   E  NOT LOGOMK
}

4.1.12.1S {@ Minimum SAB to unrelated DIFF spacing is 0.16
   E = EXT SAB DIFF < 0.16 ABUT<90 SINGULAR REGION
   E  NOT LOGOMK
}

4.1.12.1T {@ N+ non-salicide DIFF resistor over P+ is not allowed.
   E1 = (AND N_SAB_DIF_RES PPLUS) NOT INTERACT BIPOLAR
   E2 = (AND P_SAB_DIF_RES NPLUS) NOT INTERACT BIPOLAR
   (E1 OR E2) NOT LOGOMK
}

4.1.12.1U {@ N+ DIFF non-salicide resistor must be outside N-Well 
   (AND N_SAB_DIF_RES NWELL) NOT INTERACT BIPOLAR
}

4.1.12.1V1.a {@ Minimum spacing of P+_PO1 non-salicide resistor body to TWEL is 0.52um
   E = EXT P_SAB_POL_BODY  TWEL < 0.52 ABUT<90 OVERLAP REGION
   E  NOT  LOGOMK
}

4.1.12.1V1.b {@ Minimum spacing of N+_PO1 non-salicide resistor body to TWEL is 0.52um
   E =  EXT N_SAB_POL_BODY  TWEL < 0.52 ABUT<90 OVERLAP REGION
   E  NOT  LOGOMK
}

4.1.12.1V2.a {@ Minimum spacing of P+_PO1 non-salicide body resistor body to TG is 0.52um
   E = EXT P_SAB_POL_BODY TG < 0.52 ABUT<90 OVERLAP REGION
   E  NOT  LOGOMK
}

4.1.12.1V2.b {@ Minimum spacing of N+_PO1 non-salicide body resistor body to TG is 0.52um
   E = EXT N_SAB_POL_BODY TG < 0.52 ABUT<90 OVERLAP REGION
   E  NOT  LOGOMK
}

4.1.12.1V3.a {@ Minimum spacing of P+_PO1 non-salicide resistor body to MG is 0.52um
   E = EXT P_SAB_POL_BODY MG < 0.52 ABUT<90 OVERLAP REGION
   E  NOT  LOGOMK
}

4.1.12.1V3.b {@ Minimum spacing of N+_PO1 non-salicide resistor body to MG is 0.52um
   E = EXT N_SAB_POL_BODY MG < 0.52 ABUT<90 OVERLAP REGION 
   E  NOT  LOGOMK
}

4.1.12.1W1.a {@ Minimum TWEL enclosure of P+_PO1 non-salicide resistor body is 0.52um 
   X = P_SAB_POL_BODY INTERACT TWEL
   E = ENC X TWEL < 0.52 ABUT<90 OVERLAP REGION
   E  NOT  LOGOMK
}

4.1.12.1W1.b {@ Minimum TWEL enclosure of N+_PO1 non-salicide resistor body is 0.52um   
   X = N_SAB_POL_BODY INTERACT TWEL
   E = ENC X TWEL < 0.52 ABUT<90 OVERLAP REGION
   E  NOT  LOGOMK
}

4.1.12.1W2.a {@ Minimum TG enclosure of P+_PO1 non-salicide resistor body is 0.52um
   X = P_SAB_POL_BODY INTERACT TG 
   E = ENC X TG < 0.52 ABUT<90 OVERLAP REGION
   E  NOT  LOGOMK
}

4.1.12.1W2.b {@ Minimum TG enclosure of N+_PO1 non-salicide resistor body is 0.52um
   X = N_SAB_POL_BODY INTERACT TG   
   E = ENC X TG < 0.52 ABUT<90 OVERLAP REGION
   E  NOT  LOGOMK
}

4.1.12.1W3.a {@ Minimum MG enclosure of P+_PO1 non-salicide resistor body is 0.52um
   X = P_SAB_POL_BODY INTERACT MG 
   E = ENC X MG < 0.52 ABUT<90 OVERLAP REGION
   E  NOT  LOGOMK
}

4.1.12.1W3.b {@ Minimum MG enclosure of N+_PO1 non-salicide resistor body is 0.52um
   X = N_SAB_POL_BODY INTERACT MG
   E = ENC X MG < 0.52 ABUT<90 OVERLAP REGION
   E  NOT  LOGOMK
}

4.1.12.1X.a {@ Minimum spacing of two P+ Poly non-salicide resistors body without common run length is 0.64um
   E = EXT P_SAB_POL_BODY < 0.64 CORNER TO CORNER REGION	
   E  NOT LOGOMK
}

4.1.12.1X.b {@ Minimum spacing of two N+ Poly non-salicide resistors body without common run length is 0.64um
   E = EXT N_SAB_POL_BODY < 0.64 CORNER TO CORNER REGION	
   E  NOT  LOGOMK
}

//
// SBLK RULES FOR ESD
//

SBLK_IN_GATE = SBLK INSIDE EDGE GATE

//

4.1.12.2A {@ Minimum SBLK width is 0.40um
   INT SBLK < 0.40 ABUT>0<90 SINGULAR REGION
}

4.1.12.2B.a {@ Minimum SBLK to SBLK spacing is 0.4 um
   EXT SBLK < 0.40 ABUT>0<90 REGION
}

4.1.12.2B.b {@ Minimum SBLK to SAB spacing is 0.4 um
   EXT SBLK SAB < 0.40 ABUT<90 SINGULAR OVERLAP REGION
}

4.1.12.2C {@ Minimum SBLK extention over DIFF region is 0.18um
   ENC SBLK_DIFF SBLK < 0.18 ABUT<90 SINGULAR REGION
}

4.1.12.2D {@ Minimum SBLK to PO1 spacing is 0.2um
   EXT SBLK PO1 < 0.2  ABUT<90 SINGULAR REGION  
}

4.1.12.2E.a {@ Minimum SBLK overlap of PO1 is 0.08um
   INT SBLK_IN_GATE GATE_W < 0.08 ABUT REGION
}

4.1.12.2E.b {@ Minimum SBLK overhang of PO1 is 0.12um
   X = (GATE INTERACT SBLK) COIN INSIDE EDGE PO1
   ENC X SBLK < 0.12 ABUT REGION
}

4.1.12.2E.c {@ Minimum PO1 overhang of SBLK is 0.16um
   ENC SBLK_IN_GATE GATE_W < 0.16 ABUT REGION
}

4.1.12.2F {@ Minimum SBLK to DIFF spacing is 0.16um
   EXT SBLK DIFF < 0.16 ABUT<90 SINGULAR REGION
}

4.1.12.2G {@ Minimum SBLK to Contact spacing is 0.20um, no contact allowed in SBLK
   EXT SBLK CONT < 0.20 ABUT INSIDE ALSO SINGULAR REGION
}

// 4.1.12.2H not checked

4.1.12.2I {@ Minimun SBLK area is 0.37 sq.um
   AREA SBLK < 0.37
}

4.1.12.2J {@ Minimum SBLK enclosed area 0.37sq.um
   HOLES SBLK < 0.37
}


//////////


SBLK_PO1	 =  PO1        AND        SBLK
SBLK_INEDGE_PO1  =  SBLK    INSIDE EDGE   PO1			   // select SBLK edge inside poly region
SBLK_CORNER_PO1  =  INT   SBLK_INEDGE_PO1 < 0.01 ABUT==90 REGION   // select SBLK edge have a corner
SBLK_ACEDGE_PO1  =  SBLK_INEDGE_PO1 NOT TOUCH EDGE SBLK_CORNER_PO1 // select SBLK edge just across PO1
SBLK_ACROSS_PO1  =  SBLK_PO1  WITH EDGE     SBLK_ACEDGE_PO1	   // select SBLK which fully across PO1

SBLK_PO1_CUT_N   = SBLK_ACROSS_PO1 CUT NPLUS
SBLK_PO1_CUT_P   = SBLK_ACROSS_PO1 CUT PPLUS

NO_SQ_SBLK_PO1   = VERTEX SBLK_PO1 > 4				// find out (POLY1 OVER SBLK) not a rectangle (square)
								
PO1_NOT_SBLK        = (PO1 NOT SBLK) TOUCH SBLK_PO1
PO1_WITH_CONT_SBLK  =  PO1_NOT_SBLK ENCLOSE CONT		// for current concern

SBLK_POINT_SBLK   = INT SBLK PO1 < 0.01 ABUT==90 REGION		// find out the intersection point of POLY1 and SBLK 
								

SBLK_HANG12_PO1  = ENC (SBLK_INEDGE_PO1 NOT TOUCH EDGE SBLK_POINT_SBLK)  PO1 < 0.12 ABUT<90 REGION   // It will be concerned if POLY1 salicide channel < 0.12um
																

SBLK_PO1_WITHCO1 = SBLK_ACROSS_PO1 COIN OUTSIDE EDGE PO1_WITH_CONT_SBLK
SBLK_PO1_WITHCO2 = (SBLK_PO1 TOUCH SBLK_HANG12_PO1) TOUCH PO1_WITH_CONT_SBLK


//

4.1.12.2K  {@ (PO1 over SBLK)  partially covered by N+ and partially not covered by N+ is not allowed
            @  POLY1 endcap is excepted from this rule 
            @  if PO1 overhang of SBLK >= 0.12um is excluded

   E1 = NO_SQ_SBLK_PO1 CUT NPLUS                              //  find out (POLY1 OVER SBLK) not a rectangle
   ((SBLK_PO1 TOUCH SBLK_HANG12_PO1) CUT NPLUS) TOUCH PO1_WITH_CONT_SBLK
   E2 = (SBLK_PO1_CUT_N AND NPLUS) TOUCH PO1_WITH_CONT_SBLK
   E3 = (SBLK_PO1_CUT_N NOT NPLUS) TOUCH PO1_WITH_CONT_SBLK

   (E1 OR E2) OR E3            

}

4.1.12.2K.a  {@ Minimum N+ implant enclosure of (N+ POLY1 OVER SBLK)  is 0.2um
  
   E1 = ENC SBLK_PO1_WITHCO1 NPLUS < 0.20 OPPOSITE ABUT<90 REGION
   E2 = ENC SBLK_PO1_WITHCO2 NPLUS < 0.20 OPPOSITE ABUT<90 REGION
   E1  NOT  END_CAP
   E2  NOT  END_CAP

}

4.1.12.2L  {@ (PO1 over SBLK)  partially covered by P+ and partially not covered by P+ is not allowed
            @  POLY1 endcap is excepted from this rule 
            @  if PO1 overhang of SBLK >= 0.12um is excluded
            
    E1 = NO_SQ_SBLK_PO1 CUT PPLUS     //find out (POLY1 OVER SBLK) not a rectangle
   ((SBLK_PO1 TOUCH SBLK_HANG12_PO1) CUT PPLUS) TOUCH PO1_WITH_CONT_SBLK
   E2 = (SBLK_PO1_CUT_P AND PPLUS) TOUCH PO1_WITH_CONT_SBLK
   E3 = (SBLK_PO1_CUT_P NOT PPLUS) TOUCH PO1_WITH_CONT_SBLK

   (E1 OR E2) OR E3             
            
}
            
4.1.12.2L.a  {@ Minimum P+ implant enclosure of (P+ POLY1 OVER SBLK)  is 0.2um

   E1 = ENC SBLK_PO1_WITHCO1 PPLUS < 0.20 OPPOSITE ABUT<90 REGION
   E2 = ENC SBLK_PO1_WITHCO2 PPLUS < 0.20 OPPOSITE ABUT<90 REGION
   E1 NOT END_CAP
   E2 NOT END_CAP 

}

/////////////////

SBLKDIF	         = DIFF       AND        SBLK
SBLK_INEDGE_DIFF = SBLK    INSIDE EDGE   DIFF			        // select SBLK edge inside diffusion region
SBLK_CORNER_DIFF = INT   SBLK_INEDGE_DIFF < 0.01 ABUT==90 REGION	// select SBLK edge have a corner
SBLK_ACROSS_DIFF = SBLKDIF OUTSIDE     SBLK_CORNER_DIFF	        	// select SBLK which fully across diffusion
								        // (SBLK lies across diffusion)
SBLKDIF_CUT_N   = SBLK_ACROSS_DIFF CUT NPLUS
SBLKDIF_CUT_P   = SBLK_ACROSS_DIFF CUT PPLUS

NO_SQ_SBLKDIF   = VERTEX SBLKDIF > 4			         // find out (DIFFUSION OVER SBLK) not a rectangle (square)
								        

DIFF_NOT_SBLK        = (DIFF NOT SBLK) TOUCH   SBLKDIF
DIFF_WITH_CONT_SBLK  =  DIFF_NOT_SBLK  ENCLOSE CONT			   // for current concern

SBLKDIF_WITHCO1 = NO_SQ_SBLKDIF COIN OUTSIDE EDGE DIFF_WITH_CONT_SBLK      // find out the non-square SBLKDIF touch edge the DIFFUSION (with CONTACT)
								          
								
SBLKDIF_WITHCO2 = SBLK_ACROSS_DIFF COIN OUTSIDE EDGE DIFF_WITH_CONT_SBLK   // find out the full-across SBLK_PO1 touch edge the DIFFUSION (with CONTACT)
								
								
//

4.1.12.2M  {@ (DIFFUSION over SBLK) partially covered by N+ and partially not covered by N+ is not allowed
            @ Diffusion region without CONTACT is excepted from this rule
   
    (SBLKDIF_CUT_N AND NPLUS) TOUCH DIFF_WITH_CONT_SBLK
    (SBLKDIF_CUT_N NOT NPLUS) TOUCH DIFF_WITH_CONT_SBLK  

}            

4.1.12.2M.a {@ Minimum N+ implant enclosure of (N+ DIFFUSION over SBLK) is 0.2um

   ENC SBLKDIF_WITHCO1 NPLUS < 0.20  ABUT<90 REGION
   ENC SBLKDIF_WITHCO2 NPLUS < 0.20  ABUT<90 REGION

}

4.1.12.2N  {@ (DIFFUSION over SBLK) partially covered by P+ and partially not covered by P+ is not allowed
            @ Diffusion region without CONTACT is excepted from this rule
   
   (SBLKDIF_CUT_P AND PPLUS) TOUCH DIFF_WITH_CONT_SBLK
   (SBLKDIF_CUT_P NOT PPLUS) TOUCH DIFF_WITH_CONT_SBLK   

}            

4.1.12.2N.a {@ Minimum P+ implant enclosure of (P+ DIFFUSION over SBLK) is 0.2um

   ENC SBLKDIF_WITHCO1 PPLUS < 0.20 ABUT <90 REGION
   ENC SBLKDIF_WITHCO2 PPLUS < 0.20 ABUT <90 REGION

}


//
//============================
//===  Contact Rule (P56)  ===
//============================
//

SP_GATE_BG13 = GATE WITH WIDTH >   0.13
SP_GATE_SM13 = GATE WITH WIDTH <=  0.13

//

4.1.13A {@ Minimum and maximum width of a CONT region is 0.12um
   X = NOT RECTANGLE CONT == 0.12 BY == 0.12
   X NOT (SP_7 OR (SP_6 OR (SP_12 OR (SP_11 OR (LOGOMK OR (SP_9 OR SP_5))))))
}

4.1.13B.a {@ Minimum space between two CONT regions is 0.16um
   x = EXT CONT < 0.16 ABUT>0<90 SINGULAR OPPOSITE EXTENDED 0.005 REGION
  x NOT ((((DPHD_1 OR DP_1) OR SP_1) OR SP_2 ) OR (SP_6 OR (LOGOMK OR (SPHD_1 OR SP_5))))
}

4.1.13B.b {@ Minimum space between two CONT regions is 0.14um(corner to corner)
   X = EXT CONT < 0.14 CORNER TO CORNER REGION
   X NOT (((((SP_7 OR SP_2) OR SP_9) OR SP_12) OR SP_11) OR LOGOMK)
}

4.1.13C.a {@ Minimum spacing of DIFF CONT to PO1 is 0.08um
	@ PO1 with width <= 0.13um
   x = EXT GATE_W DIFCNT < 0.08 ABUT INSIDE ALSO REGION
   x NOT ((((DPHD_3 OR SP_1) OR DP_1) OR SP_7) OR (SP_9 OR (SP_6 OR (DP_11 OR (SP_12 OR (SP_11 OR (LOGOMK OR (DP_13 OR (DP_14 OR (DP_10 OR SP_5))))))))))
}

4.1.13C.b {@ Minimum spacing of DIFF CONT to PO1 is 0.10um
        @ PO1 with width > 0.13um
   DIFCNT_L1 = DIFCNT NOT INTERACT ((DPHD_3 OR SP_1) OR SP_9)
   Y = SP_GATE_BG13 COIN INSIDE EDGE GATE_W
   E = EXT  Y  DIFCNT_L1 < 0.10 ABUT REGION
   E  NOT  LOGOMK
}

4.1.13C.c {@ Minimum spacing of DIFF CONT to (PO1 over MG ) is 0.08um
  	
   DIFCNT_L1 = DIFCNT NOT INTERACT ((SP_6 OR DPHD_3) OR SP_1) OR SP_9 
   E = EXT GATE_MG DIFCNT_L1 < 0.08 ABUT REGION
   E NOT  (((SP_12 OR DP_11) OR  LOGOMK) OR DP_14)
}

4.1.13C.d1_d3 {@ Minimum spacing of DIFF CONT to (PO1 over TG) is 0.08um
	
   DIFCNT_L1 = DIFCNT NOT INTERACT ((DPHD_3 OR SP_1) OR SP_9)  
   E = EXT GATE_TG DIFCNT_L1 < 0.08 ABUT REGION
   E  NOT  LOGOMK
}

4.1.13C.d2_33V {@ Minimum spacing of DIFF CONT to (PO1 over TG) is 0.1um for 3.3V device
	 
   DIFCNT_L1 = DIFCNT NOT INTERACT ((DPHD_3 OR SP_1) OR SP_9)  
   E = EXT GATE_TG DIFCNT_L1 < 0.1 ABUT REGION
   E  NOT  LOGOMK
}

4.1.13D {@ Minimum PO1 Contact to DIFF spaceing is 0.08um
   E = EXT POLCNT DIFF < 0.08 ABUT<90 SINGULAR REGION
   E  NOT  ((LOGOMK OR DP_13) OR DP_14)
}

4.1.13E {@ Minimum PO1 overlap contact is 0.02um, no floating conntact
   x = ENC POLCNT PO1 < 0.02 ABUT<90 SINGULAR OUTSIDE ALSO REGION
   x NOT ((((((((DP_1 OR DPHD_1) OR DPHD_2) OR SP_1 ) OR SP_2) OR SPHD_1) OR DPHD_3) OR SP_7) OR (SP_9 OR (SP_6 OR (DP_11 OR (SP_12 OR (SP_11 OR (LOGOMK OR (DP_13 OR (DP_14 OR (DP_10 OR SP_5))))))))))
}

4.1.13F__4.1.13G {@ Minimum extension of an DIFF region beyond a CONT region is 0.04
   x = ENC DIFCNT DIFF < 0.04 ABUT<90 SINGULAR OVERLAP REGION
   x NOT ((((((((DP_1 OR DPHD_1 ) OR DPHD_2 ) OR SP_1) OR SP_2) OR SPHD_1) OR DPHD_3) OR SP_7) OR (SP_9 OR (SP_6 OR (DP_11 OR (SP_12 OR (SP_11 OR (LOGOMK OR (DP_13 OR (DP_14 OR (DP_10 OR SP_5))))))))))
}

4.1.13H {@ Contacts over gate area are not allowed.
   X = DIFCNT AND GATE
   X NOT (SP_7 OR (SP_12 OR (SP_11 OR (LOGOMK OR (SP_6 OR SP_9)))))
}

4.1.13I {@ CONT shapes must be orthogonal
   X = CONT  NOT  LOGOMK
   ANGLE X >0<90
}


//
//============================
//===  PESD Rule           ===
//============================
//

4.1.14A {@ Minimum width of PESD region is 0.60um
   E = INT PESD < 0.60 ABUT>0<90 SINGULAR REGION
   E  NOT  LOGOMK
}

4.1.14B {@ Minimum space between two PESD regions is 0.60um
   E = EXT PESD < 0.60 ABUT>0<90 REGION
   E  NOT  LOGOMK
}


//
//======================================
//===  DIMPBK (DIODE_IMP_BLOCK)      ===
//======================================
//

4.1.15A {@ Minimum width of DIMPBK is 0.4um
  INT DIMPBK < 0.4 ABUT>0<90 SINGULAR REGION
}

4.1.15B {@ Minimum space between two DIMPBK regions is 0.4um
   EXT DIMPBK < 0.4 ABUT>0<90 REGION
}

4.1.15C {@ Minimum DIMPBK enclosure of diode region is 0.12um
   X = DIFF INTERACT DIMPBK
   ENC X DIMPBK < 0.12 ABUT INSIDE ALSO REGION	
}

4.1.15D {@ Minimum spacing of DIMPBK to DIFF which is not in diode region is 0.18um
   EXT DIMPBK DIFF  < 0.18 ABUT<90 SINGULAR OVERLAP REGION
}

4.1.15E {@ DIMPBK shapes must be orthogonal
   ANGLE DIMPBK >0<90
}

4.1.15F {@ Minimum spacing of DIMPBK to NWEL is 0.4um
   EXT DIMPBK NWEL  < 0.4 ABUT<90 OVERLAP SINGULAR REGION
}

4.1.15G {@ Minimum spacing of DIMPBK to TG is 0.4um
   EXT TG DIMPBK < 0.4 ABUT<90 OVERLAP SINGULAR REGION
}


//
//======================================
//=== 3P3V_GOX52_IMPLANT_MARK Layer  ===
//======================================
//

4.1.16A  {@ Minimum 3P3V_GOX52_IMPLANT_MARK  width is 0.4um
  INT GOX523P3VIMPMK < 0.4 ABUT>0<90 SINGULAR REGION
}

4.1.16B {@ Minimum 3P3V_GOX52_IMPLANT_MARK spacing and notch is 0.4um
  EXT  GOX523P3VIMPMK < 0.4 ABUT>0<90 REGION 
}

4.1.16C {@ Minimum 3P3V_GOX52_IMPLANT_MARK enclose of gate is 0.5um
   X = HV_GATE INTERACT GOX523P3VIMPMK
   ENC  X  GOX523P3VIMPMK  < 0.5  ABUT<90  SINGULAR OVERLAP REGION
}

4.1.16D {@ Minimum spacing of  3P3V_GOX52_IMPLANT_MARK to gate is 0.16um
   EXT  GOX523P3VIMPMK  GATE  < 0.16  ABUT<90  SINGULAR  REGION
}

4.1.16E {@ Minimum TG enclosure of 3P3V_GOX52_IMPLANT_MARK is 0 >= 0.4um
   ENC  GOX523P3VIMPMK   TG   < 0.4  ABUT>0<90 OUTSIDE ALSO  REGION
}

4.1.16F {@ 3P3V_GOX52_IMPLANT_MARK shapes must be orthogonal
   ANGLE  GOX523P3VIMPMK  >0<90
}      

4.1.16G {@ Minimum 3P3V_GOX52_IMPLANT_MARK overhang of N_WELL is 0 >= 0.4um
   X = NWEL  INTERACT  GOX523P3VIMPMK
   ENC X  GOX523P3VIMPMK < 0.4  ABUT>0<90  REGION

}

4.1.16H {@ Minimum NWEL overlap of 3P3V_GOX52_IMPLANT_MARK is <= 0.19um or >= 0.4um 
   INT NWEL GOX523P3VIMPMK > 0.19 < 0.4 ABUT<90 REGION
}

4.1.16I {@ Minimum NWEL overhang of 3P3V_GOX52_IMPLANT_MARK is 0 or 0.4um
   X = GOX523P3VIMPMK INTERACT NWEL
   ENC X NWEL < 0.4 ABUT>0<90 SINGULAR REGION
}

4.1.16J {@ Minimum spacing of 3P3V_GOX52_IMPLANT_MARK to NWEL is 0.4um
   EXT  GOX523P3VIMPMK  NWEL  < 0.4  ABUT<90  SINGULAR REGION
}

4.1.16K {@ Minimum spacing of 3P3V_GOX52_IMPLANT_MARK to TG is 0.4um
   EXT  GOX523P3VIMPMK  TG  < 0.4   ABUT<90  SINGULAR REGION
}

4.1.16L {@ Minimum spacing of 3P3V_GOX52_IMPLANT_MARK to N+/P+_PO1 non-salicide resistor is 0.52um
   EXT GOX523P3VIMPMK  POL_RES < 0.52 ABUT<90 OVERLAP SINGULAR REGION
}

//
//================
//===  SP_LVT  === 
//================
//

4.1.17A {@ Minimum width of SPLVT region is 0.4um
   INT SPLVT < 0.40 ABUT>0<90 OPPOSITE REGION
}

4.1.17B {@ Minimum space between two SPLVT regions is 0.40um
   EXT SPLVT < 0.40 ABUT>0<90 OPPOSITE REGION
   EXT SPLVT < 0.40 ABUT>0<90 CORNER TO CORNER REGION 
}

4.1.17C {@ Minimum SPLVT overlap gate is 0.16um
   X = GATE INTERACT SPLVT
   ENC X SPLVT < 0.16 ABUT INSIDE ALSO REGION
}

4.1.17D {@ Minimum SPLVT to gate spacing is 0.16
   EXT SPLVT GATE < 0.16 ABUT SINGULAR REGION
}

4.1.17E {@ SPLVT shapes must be orthogonal
   ANGLE SPLVT >0<90
}

4.1.17F {@ Minimum space of SPLVT to NWEL is 0 or 0.4um
   EXT SPLVT NWEL < 0.40 ABUT>0<90  REGION
}

4.1.17G {@ Minimum space of SPLVT to TG is 0 or 0.4um
   EXT SPLVT TG < 0.40 ABUT>0<90 OVERLAP INSIDE ALSO REGION
}

4.1.17H {@ Minimum space of SPLVT to MG is 0 or 0.4um
   EXT SPLVT MG < 0.40 ABUT>0<90 OVERLAP INSIDE ALSO REGION
}

4.1.17I {@ NWEL overlap of SPLVT is >= 0.4 or <= 0.19 um
   INT NWEL SPLVT > 0.19 < 0.4 ABUT>0<90 REGION
}

4.1.17J {@ Minimum NWEL overhang of SPLVT is 0.4um
   X = SPLVT INTERACT NWEL
   ENC X NWEL < 0.4 ABUT>0<90 REGION
}

4.1.17K {@ Minimum spacing of SPLVT to N+/P+_PO1 non-salicide resistor is 0.52um
   EXT SPLVT POL_RES < 0.52 ABUT>0<90 OVERLAP SINGULAR REGION
}


//
//==============================
//===  LL_LVT (LLLVT Rules)  === 
//==============================
//
POL_RES = SAB_POL AND SAB
//

4.1.18A {@ Minimum width of LLLVT region is 0.4um
   INT LLLVT < 0.40 ABUT>0<90  OPPOSITE REGION
}

4.1.18B {@ Minimum space between two SP regions is 0.40um
   EXT LLLVT < 0.40 ABUT>0<90 OPPOSITE REGION
   EXT LLLVT < 0.40 ABUT>0<90 CORNER TO CORNER REGION 
}

4.1.18C {@ Minimum LLLVT enclosure of  gate is 0.16um
   X = GATE INTERACT LLLVT
   ENC X LLLVT < 0.16 ABUT INSIDE ALSO REGION
}

4.1.18D {@ Minimum LLLVT to gate spacing is 0.16um
   EXT LLLVT GATE < 0.16 ABUT SINGULAR REGION
}

4.1.18E {@ Minimum MG enclosure of LLLVT is 0 or >= 0.4um
   ENC LLLVT MG < 0.4 ABUT>0<90 OUTSIDE ALSO REGION
}

4.1.18F {@ LLLVT shapes must be orthogonal
   ANGLE  LLLVT >0<90
}

4.1.18G {@ Minimum LLLVT overhang of NWEL is 0 or >= 0.4um
   X = NWEL  INTERACT  LLLVT
   ENC  X  LLLVT  < 0.4  ABUT>0<90  REGION
}

4.1.18H {@ Minimum NWEL overlap of LLLVT is >= 0.4 or <= 0.19 um
   INT NWEL LLLVT > 0.19 < 0.4 ABUT>0<90 REGION
}

4.1.18I {@ Minimum NWEL overhang of LLLVT is 0 or >= 0.4um
   X = LLLVT INTERACT NWEL
   ENC X NWEL < 0.4 ABUT>0<90 REGION
}   

4.1.18J {@ Minimum space of LLLVT to NWEL is 0 or >= 0.4um
   EXT LLLVT  NWEL < 0.40 ABUT>0<90 REGION
}

4.1.18K {@ Minimum space of LLLVT to TG is 0 or >= 0.4um
   EXT LLLVT TG < 0.40 ABUT>0<90 OVERLAP INSIDE ALSO REGION
}

4.1.18L {@ Minimum spacing of LLLVT to N+/P+_PO1 non-salicide resistor is 0.52um
   EXT LLLVT POL_RES < 0.52 ABUT<90 OVERLAP SINGULAR REGION
}

//
//======================================
//===  NATIVE (NATIVE Rules)         ===
//======================================
//

DIFF_NATIVE      =  DIFF  INTERACT  NATIVE

GATE_NATIVE_CORE =  (GATE_W  INSIDE EDGE NATIVE) NOT INSIDE EDGE (MG OR TG)

GATE_NATIVE_MG   =  (GATE_W  INSIDE EDGE NATIVE) INSIDE EDGE MG 

GATE_NATIVE_TG   =  (GATE_W  INSIDE EDGE NATIVE) INSIDE EDGE TG

//

4.3.1A {@ Minimum width of NATIVE diffusion region is 0.5um
   INT DIFF_NATIVE < 0.5 ABUT>0<90 SINGULAR REGION
}

4.3.1B {@ Minimum space between two NATIVE regions is 0.52um
   EXT NATIVE < 0.52 ABUT>0<90 REGION
}

4.3.1C {@ Maximum and Minimum NATIVE overlap DIFF is 0.25um
        @ Two MOS common a NATIVE layer is not allowed  
   X = NATIVE INTERACT  DIFF
   Y = SIZE DIFF_NATIVE BY 0.25  
   Z = SIZE X  BY -0.25
   X XOR Y 
     
   DIFF_NATIVE NOT COIN INSIDE EDGE Z     
}

4.3.1D {@ Minimum spacing of NATIVE to unrelated DIFF is 0.25um
   EXT NATIVE DIFF < 0.25 ABUT<90 MEASURE ALL REGION
}

4.3.1E {@ Minimum spacing of NATIVE to NWEL is 0.9um
   EXT NATIVE NWEL < 0.9 ABUT<90 OVERLAP INSIDE ALSO REGION
}

4.3.1F {@ NATIVE must be within N+
   NATIVE  NOT  NPLUS
}

4.3.1G {@ NATIVE shapes must be orthogonal
   ANGLE NATIVE >0<90
}

4.3.1H {@ Minimum spacing of NATIVE to TG is 0 or 0.4um
   EXT NATIVE TG < 0.4 ABUT>0<90 REGION
}

4.3.1I {@ Minimum spacing of NATIVE to  N+/P+_POLY non-salicide resistor is 0.52um
  
   X = P_SAB_POL_BODY  OR  N_SAB_POL_BODY
   EXT X NATIVE < 0.52 ABUT INSIDE ALSO SINGULAR REGION

}

4.3.1J {@ Minimum spacing of NATIVE to MG is 0 or 0.4um
   EXT NATIVE MG < 0.4 ABUT>0<90 REGION
}

4.3.1K.a {@ Minimum PO1 width for NATIVE device not over MG or TG is 0.2um
   INT  GATE_NATIVE_CORE  < 0.2  ABUT<90 REGION
}

// 4.3.1K.as 

4.3.1K.b {@ Minimum PO1 width for NATIVE device over MG is 0.8um
   INT  GATE_NATIVE_MG  < 0.8  ABUT<90 REGION
}

// 4.3.1K.bs 

4.3.1K.c_18V {@ Minimum PO1 width for NATIVE device over TG 1.8V device is 1.2um
   INT  GATE_NATIVE_TG  < 1.2  ABUT<90 REGION
}

4.3.1K.c_25V {@ Minimum PO1 width for NATIVE device over TG 2.5V device is 1.4um
   INT  GATE_NATIVE_TG  < 1.4  ABUT<90 REGION
}

4.3.1K.c_33V {@ Minimum PO1 width for NATIVE device over TG 3.3V device is 1.4um
   INT  GATE_NATIVE_TG  < 1.4  ABUT<90 REGION
}

// 4.3.1K.cs_18V

// 4.3.1K.cs_25V

// 4.3.1K.cs_33V 

//
//================================
//===  HR Rules (P31)          ===
//================================
//
 
SAB_E_IN_HRPOLY = (SAB INTERACT HRPOLY) INSIDE EDGE HRPOLY

//

4.3.2A {@ Minimum HR width is 0.6um
   E = INT HR < 0.6 ABUT>0<90 SINGULAR REGION
   E  NOT  LOGOMK
}

4.3.2B {@ Minimum space between two HR regions is 0.6um
   E = EXT HR < 0.6 ABUT>0<90 SINGULAR REGION
   E  NOT  LOGOMK
}

4.3.2C {@ Minimum PO1 width of HR-poly resistor is 0.44um
   X = HRPOLY  AND  SAB
   E = INT X < 0.44 ABUT>0<90 SINGULAR REGION
   E  NOT  LOGOMK
}

4.3.2D {@ Minimum SAB width for HR PO1 resistor is 1.0um(define HR POLY length)
   E = INT SAB_E_IN_HRPOLY < 1.0 ABUT OPPOSITE REGION
   E  NOT  LOGOMK
}

4.3.2E {@ Minimum HR mask overlap HR PO1 resistor, no HRPOLY outside HR
   E = ENC HRPOLY HR < 0.5 ABUT<90 OUTSIDE ALSO REGION
   E  NOT  LOGOMK
}

4.3.2F {@ Minimum HR to unrelated PO1 spacing is 2um
   E = EXT HR PO1 < 2.0 ABUT<90 SINGULAR REGION
   E  NOT  LOGOMK
}

4.3.2G {@ Minimum HR to NPLUS spacing is 1.5um
   E = EXT NPLUS HRPOLY < 1.5 ABUT<90 OVERLAP INSIDE ALSO SINGULAR REGION
   E  NOT  LOGOMK
}

4.3.2H {@ Minimum HR to PPLUS spacing is 0.5um
   E = EXT HR PPLUS  < 0.5 ABUT<90 SINGULAR REGION
   E  NOT  LOGOMK
}

4.3.2I {@ Minimum SAB overlap HR PO1 resistor is 0.24um
   E = ENC HRPOLY SAB < 0.24 ABUT<90 REGION
   E  NOT  LOGOMK
}

4.3.2J {@ Minimum HR PO1 CONTACT to SAB spacing is 0.5um
   E = EXT HRCONT SAB_E_IN_HRPOLY < 0.5 ABUT<90 REGION
   E  NOT  LOGOMK
}

4.3.2K {@ Minimum HR to unrelated DIFF spacing is 0.5um
   E = EXT HR DIFF < 0.5  ABUT SINGULAR INSIDE ALSO REGION
   E  NOT  LOGOMK
}

4.3.2L {@ Minimum NWELL overlap HR PO1 resistor is 0.5um
   E = ENC HRPOLY NWELL < 0.5 ABUT OVERLAP REGION 
   E  NOT  LOGOMK
}

4.3.2M {@ PPLUS overlap SAB is 0.2 um
   INT SAB_E_IN_HRPOLY PPLUS < 0.2 ABUT<90 REGION
   SAB_E_IN_HRPOLY OUTSIDE EDGE PPLUS

   X = (HRPOLY  AND  SAB)  AND  PPLUS
   SIZE ( SIZE X BY -0.1) BY 0.1
}

4.3.2N {@ Minimum P+ implant spacing to unrelated poly resistor is 0.4um
   E = EXT hSAB_POL PPLUS < 0.4 REGION
   E  NOT  LOGOMK
}

//
//============================
//===  MOAT Rule           ===
//============================
//

4.3.3A {@ Minimum width of MOAT region is 10.0um
   INT MOAT < 10.0 ABUT>0<90 SINGULAR REGION
}

4.3.3B {@ Minimum space between two MOAT regions is 10.0um
   EXT MOAT < 10 ABUT>0<90 REGION
}

4.3.3C {@ Minimum spacing of MOAT to N-Well is 2um
   EXT MOAT NWEL < 2 ABUT<90 SINGULAR INSIDE ALSO REGION
}

4.3.3D {@ Minimum spacing of MOAT to DIFF is 1um
   EXT MOAT DIFF < 1 ABUT<90 SINGULAR INSIDE ALSO REGION
}

4.3.3E {@ Minimum spacing of MOAT to NATIVE is 2um
   EXT MOAT NATIVE < 2 ABUT<90 SINGULAR INSIDE ALSO REGION
}

4.3.3F {@ TWELL,PPLUS,DIFFUSION,NWEL are not allowed over MOAT 
   MOAT AND TWEL
   MOAT AND PPLUS
   MOAT AND DIFF
   MOAT AND NWEL
}

//
//======================================
//===  NCAP (NCAP Rules)             ===
//======================================
//

NCAP_GATE = GATE INTERACT NCAP

//

4.3.4A {@ Minimum width of NCAP region is 0.4um
   INT NCAP < 0.4 ABUT>0<90 SINGULAR REGION
}

4.3.4B {@ Minimum space between two NCAP regions is 0.4um
   EXT NCAP < 0.4 ABUT>0<90 REGION
}

4.3.4C {@ Minimum NCAP must be within NWEL is 0.4um
   ENC NCAP NWEL < 0.4 ABUT>0<90 OUTSIDE ALSO REGION
}

4.3.4D {@ Minimum TG/MG overhang NCAP is 0.4um
   ENC NCAP TG < 0.4 ABUT>0<90 REGION
   ENC NCAP MG < 0.4 ABUT>0<90 REGION
}

4.3.4E {@ NCAP not allowed over TWEL,SAB,NATIVE
    NCAP AND TWEL 
    NCAP AND SAB
    NCAP AND NATIVE
}

4.3.4F {@ P+ implant is not allowed over (gate over NCAP)
   NCAP_GATE AND PPLUS
}

4.3.4G {@ Min. NCAP enclosure of (gate over NCAP) is 0.5um
   GATE_NCAP = GATE INTERACT NCAP
   ENC GATE_NCAP NCAP < 0.5 ABUT INSIDE ALSO SINGULAR REGION
}

4.3.4H {@ Minimum spacing of NCAP to gate is 0.5um
   EXT NCAP GATE < 0.5 ABUT<90 SINGULAR REGION
}

4.3.4I {@ NCAP shapes must be orthogonal
   ANGLE NCAP >0<90
}

4.3.4J {@ Minimum spacing of NCAP to TG/MG is 0.4um
   EXT NCAP TG < 0.4 ABUT<90 SINGULAR REGION
   EXT NCAP MG < 0.4 ABUT<90 SINGULAR REGION
}

4.3.4K {@ Minimum spacing of NCAP to TWEL is 0.4um
   EXT NCAP TWEL < 0.4 ABUT<90 INSIDE ALSO SINGULAR REGION
}

4.3.4L {@ Minimum spacing of NCAP to BIPOLAR is 0.4um
   EXT NCAP BIPOLAR < 0.4 ABUT<90 INSIDE ALSO SINGULAR REGION
}

4.3.4M {@ Minimum spacing of NCAP to N+/P+ SAB resistor body is 0.52um
   
   X = N_SAB_POL_BODY  OR   P_SAB_POL_BODY
   EXT X NCAP  < 0.52 ABUT INSIDE ALSO SINGULAR REGION
}

//
//=====================================
//===  MISIMPBK (MISIMPBK Rules)    ===
//=====================================
//
MIS_GATE = GATE INTERACT MISIMPBK
//

4.3.5A {@ Minimum width of MISIMPBK region is 0.4um
   INT MISIMPBK < 0.4 ABUT>0<90 SINGULAR REGION
}

4.3.5B {@ Minimum space between two MISIMPBK regions is 0.4um
   EXT MISIMPBK < 0.4 ABUT>0<90 REGION
}

4.3.5C {@ Minimum MISIMPBK must be within NWEL is 0 or >= 0.4um
   ENC MISIMPBK NWEL < 0.4 ABUT>0<90  OUTSIDE ALSO REGION
}

4.3.5D {@ Minimum TG/MG overhang MISIMPBK is 0 or >= 0.4um  
   ENC  MISIMPBK  TG  < 0.4  ABUT>0<90  REGION
   ENC  MISIMPBK  MG  < 0.4  ABUT>0<90  REGION  
}

4.3.5E {@ MISIMPBK not allowed over TWEL,SAB,NATIVE
   MISIMPBK AND (TWEL OR SAB)
   MISIMPBK AND  NATIVE
}

4.3.5F {@ P+ implant is not allowed over (gate over MISIMPBK)
   MIS_GATE AND PPLUS
}

4.3.5G {@ Minimum MISIMPBK enclosure of (gate over MISIMPBK) is 0.5um
   ENC  MIS_GATE  MISIMPBK < 0.5 ABUT<90 REGION
}

4.3.5H {@ MISIMPBK shapes must be orthogonal
   ANGLE MISIMPBK >0<90
}

4.3.5I {@ Minimum spacing of MISIMPBK to TG/MG is 0.4um
   EXT MISIMPBK TG < 0.4 ABUT<90 SINGULAR REGION
   EXT MISIMPBK MG < 0.4 ABUT<90 SINGULAR REGION
}

4.3.5J {@ Minimum spacing of MISIMPBK to TWEL is 0.4um
   EXT MISIMPBK TWEL < 0.4 ABUT<90 INSIDE ALSO SINGULAR REGION
}

4.3.5K {@ Minimum spacing of MISIMPBK to BIPOLAR is 0.4um
   EXT MISIMPBK BIPOLAR < 0.4 ABUT<90 INSIDE ALSO SINGULAR REGION
}

4.3.5L {@ Minimum spacing of MISIMPBK to to N+/P+ SAB resistor body is 0.52um

   X = N_SAB_POL_BODY  OR   P_SAB_POL_BODY
   EXT X MISIMPBK < 0.52 ABUT INSIDE ALSO SINGULAR REGION
}




//
//============================
//===  Metal-1 Rule (P60)  ===
//============================
//
M1_N070 = SIZE ME1 BY -0.35		
M1_N099 = SIZE M1_N070 BY -0.149	// SIZE ME1 BY -0.499
M1_N209 = SIZE M1_N099 BY -0.55		// SIZE ME1 BY -1.049
M1_N280 = SIZE M1_N209 BY -0.351	// SIZE ME1 BY -1.4
M1_N500 = SIZE M1_N280 BY -1.1		// SIZE ME1 BY -2.5


ME1_IN_M1SLBK = (ME1 AND M1SLBK) NOT M1SLOT

//

4.2.1.1A {@ Minimum width of ME1 region is 0.12um
    x = INT ME1 < 0.12 ABUT>0<90 SINGULAR REGION
    x NOT ((((((DP_1 OR DPHD_1) OR DPHD_2) OR SP_1) OR SP_2) OR SPHD_1) OR DPHD_3)
}

4.2.1.1B {@ Maximum width of ME1 region is 25um
          @ except PAD area mark layer
    X = M1_N500  NOT  PADMARK
    SIZE (SIZE X BY -10) BY 12.5 TRUNCATE 0 INSIDE OF ME1 STEP 2.5
}

4.2.1.1B.a {@ Maximum width of (ME1 within M1SLBK) is 12.0um
            @ except PAD area mark layer
    X = (ME1_IN_M1SLBK NOT M1SLOT)  NOT  PADMARK
    SIZE (SIZE X BY -6) BY 6 TRUNCATE 0 INSIDE OF X STEP 6 
}

4.2.1.1C {@ Minimum space between ME1 regions is 0.12um
    x = EXT ME1 < 0.12 ABUT>0<90 REGION
    x NOT ((((((((DP_1 OR DPHD_1) OR DPHD_2) OR SP_1) OR SP_2) OR SPHD_1) OR DPHD_3) OR SP_7) OR (SP_6 OR (SP_9 OR (DP_11 OR (SP_12 OR (SP_11 OR (LOGOMK OR (DP_13 OR (DP_14 OR (DP_10 OR SP_5))))))))))
}

4.2.1.1C.a {@ Minimum space of 45" ME1 lines is 0.14um
    Y = EXT ME1 < 0.14 ANGLED==2 REGION
    Y NOT ((((((DPHD_3 OR DPHD_2) OR DP_1) OR SP_2) OR SP_1) OR SPHD_1) OR LOGOMK)
}

4.2.1.1C.b1 {@ Minimum space and notch of ME1 to(ME1 with width > 0.7um) is 0.18um
   WM1_070       = SIZE M1_N070 BY 0.35 TRUNCATE 0 INSIDE OF ME1  STEP 0.35 // ME1 > 0.7
   WM1_070_CONN  = STAMP WM1_070 BY ME1
   WM1_070_E     = WM1_070      COIN INSIDE EDGE ME1
   WM1_070_IE    = WM1_070_CONN      INSIDE EDGE ME1   
   E1 = EXT WM1_070_E  ME1 < 0.18 ABUT>0<90 REGION
   E2 = EXT WM1_070_IE ME1 < 0.18 MEASURE ALL NOT CONNECTED REGION
   (E1 OR E2)  NOT  LOGOMK
}

4.2.1.1C.b2 {@ Minimum space and notch of ME1 to(ME1 with width > 2.8um) is 0.34um
   WM1_280       = SIZE M1_N280 BY 1.4 TRUNCATE 0 INSIDE OF ME1 STEP 1.4 // ME1 > 2.8
   WM1_280_CONN  = STAMP WM1_280 BY ME1
   WM1_280_E     = WM1_280      COIN INSIDE EDGE ME1
   WM1_280_IE    = WM1_280_CONN      INSIDE EDGE ME1
   E1 = EXT WM1_280_E  ME1 < 0.34 ABUT>0<90 REGION
   E2 = EXT WM1_280_IE ME1 < 0.34 MEASURE ALL NOT CONNECTED REGION
   (E1 OR  E2)  NOT  LOGOMK
}

4.2.1.1C.c1_warning {@ Minimum space and notch of ME1(within or not within M1SLBK)
             @ to ((ME1 within M1SLBK) with width > 0.7um) is 0.35um
   W = SIZE (SIZE ME1_IN_M1SLBK BY -0.35) BY 0.35 TRUNCATE 0 INSIDE OF ME1_IN_M1SLBK STEP 0.35
   X = STAMP W BY ME1
   Y = W COIN INSIDE EDGE ME1
   Z = X      INSIDE EDGE ME1 
   E1 = EXT Y ME1 < 0.35 ABUT>0<90 REGION
   E2 = EXT Z ME1 < 0.35 MEASURE ALL NOT CONNECTED REGION
   (E1  OR  E2)  NOT  LOGOMK
}

4.2.1.1C.c2_warning {@ Minimum space and notch of ME1(within or not within M1SLBK)
             @ to ((ME1 within M1SLBK) with width > 2.8um) is 0.81um
   W = SIZE (SIZE ME1_IN_M1SLBK BY -1.4) BY 1.4 TRUNCATE 0 INSIDE OF ME1_IN_M1SLBK STEP 1.4
   X = STAMP W BY ME1
   Y = W COIN INSIDE EDGE ME1
   Z = X      INSIDE EDGE ME1 
   E1 = EXT Y ME1 < 0.81 ABUT>0<90 REGION   
   E2 = EXT Z ME1 < 0.81 MEASURE ALL NOT CONNECTED REGION
   (E1  OR  E2)  NOT  LOGOMK
}

4.2.1.1C.c3_warning {@ Minimum space and notch of ME1(within or not within M1SLBK)
             @ to ((ME1 within M1SLBK) with width > 6.00um) is 1.26um
   W = SIZE (SIZE ME1_IN_M1SLBK BY -3) BY 3 TRUNCATE 0 INSIDE OF ME1_IN_M1SLBK STEP 3
   X = STAMP W BY ME1
   Y = W COIN INSIDE EDGE ME1
   Z = X      INSIDE EDGE ME1 
   E1 = EXT Y ME1 < 1.26 ABUT>0<90 REGION
   E2 = EXT Z ME1 < 1.26 MEASURE ALL NOT CONNECTED REGION
   (E1  OR   E2)  NOT  LOGOMK
}

4.2.1.1D.a {@ CONT must be within ME1
            @ Minimum ME1 enclosure of CONT 0um
    x = CONT NOT ME1
    x NOT (((((((DP_1 OR DPHD_1) OR DPHD_2) OR SP_1)  OR SP_2) OR SPHD_1) OR DPHD_3) OR SP_7)
}

4.2.1.1D.b__4.2.1.1D.b1__4.2.1.1D.b2 {@ Minimum ME1 line end enclosure of CONT at ME1 outer corner is 0.04um
               @ Minimum ME1 line end enclosure of CONT for four sides is 0.02um
               @ Minimum ME1 line end enclosure of CONT is 0.04um
    x = RECTANGLE ENC CONT ME1
    GOOD 0.00 0.04 OPPOSITE 0.00 0.04 OPPOSITE
    GOOD 0.02 0.02  0.02 0.02 
    x NOT ((((((((DP_1 OR DPHD_1 ) OR DPHD_2) OR SP_1 ) OR SP_2) OR SPHD_1) OR DPHD_3) OR SP_7) OR (DP_11 OR (SP_11 OR (LOGOMK OR (DP_13 OR (DP_14 OR (SP_9 OR DP_10)))))))
}
 
4.2.1.1D.c {@ Minimum ME1 line end enclosure of CONT, if ME1 <= 0.14 and the spacing of ME1 line end to three adjacebt ME1 pattern <= 0.14 is 0.08um
         @ is surrounded by other metal1 line with space is <= 0.14
  
   A = CONVEX EDGE ME1 ==2 WITH LENGTH <= 0.14
   B = EXT [A] ME1 <= 0.14 OPPOSITE
   C = EXPAND EDGE B INSIDE BY 0.02
   D = (SIZE C BY 0.06 TRUNCATE 0 INSIDE OF ME1 STEP 0.06) INTERACT CONT // 0.06*2 < 0.14um( ME1 spacing)
   E = D COIN INSIDE EDGE ME1
   F = INT B [E] < 0.08 ABUT==90 PERP ONLY MEASURE COIN 
   G = EXT [F] ME1 <= 0.14 OPPOSITE 
   H = INT [G] >= 0.12 <= 0.14 OPPOSITE	// Note: Min M1 width = 0.12
   I = INT H [B] < 0.08 ABUT==90 PERP ONLY MEASURE COIN
   J = CONT INTERACT (D WITH EDGE I)	// contacts with violations
   K = ENC J I < 0.08 OPPOSITE REGION
  
   K NOT (((((((SP_1 OR SP_7) OR DPHD_2) OR DPHD_3) OR DP_1) OR SP_2) OR SPHD_1) OR (SP_6 OR (SP_12 OR (SP_11 OR (LOGOMK OR (DP_13 OR (DP_14 OR (SP_9 OR SP_5))))))))
}
 
4.2.1.1E {@ Minimum area of ME1 region 0.07 um
   X = AREA ME1 < 0.07
   X NOT (SP_7 OR (SP_9 OR (SP_6 OR (DP_11 OR (SP_12 OR (SP_11 OR (LOGOMK OR (DP_13 OR (DP_14 OR (DP_10 OR SP_5))))))))))
}

4.2.1.1F {@ Minimum Metal1 enclosed area 0.23 sq.um
   E = HOLES ME1 < 0.23
   E  NOT  LOGOMK
}  

//
//============================
//===  Metal-2 Rule        ===
//============================
//
M2_N070 = SIZE ME2 BY -0.35		
M2_N099 = SIZE M2_N070 BY -0.149	// SIZE ME2 BY -0.499
M2_N209 = SIZE M2_N099 BY -0.55		// SIZE ME2 BY -1.049
M2_N280 = SIZE M2_N209 BY -0.351	// SIZE ME2 BY -1.4
M2_N500 = SIZE M2_N280 BY -1.1		// SIZE ME2 BY -2.5

ME2_IN_M2SLBK = (ME2 AND M2SLBK) NOT M2SLOT // This coding is based on TM interpretation.
ME2_IN_M2SLBK_N070 = SIZE ME2_IN_M2SLBK BY -0.35	// ME2 within M2SLBK > 0.7um
ME2_IN_M2SLBK_N280 = SIZE ME2_IN_M2SLBK_N070 BY -1.05	// ME2 within M2SLBK > 2.8um
ME2_IN_M2SLBK_N600 = SIZE ME2_IN_M2SLBK_N280 BY -1.6	// ME2 within M2SLBK > 6.0um
ME2_IN_M2SLBK_N820 = SIZE ME2_IN_M2SLBK_N600 BY -1.1	// ME2 within M2SLBK > 8.2um

//

GROUP  ONLY_Manhattan_CHECK  ?_M

//


4.2.1.2A.ME2 {@ Minimum width of ME2 region is 0.14um
   E = INT ME2 < 0.14 ABUT>0<90 SINGULAR REGION
   E  NOT  LOGOMK
}

4.2.1.2B.ME2 {@ Maximum width of ME2 region is 25um
              @ except PAD area mark layer
    X = M2_N500  NOT  PADMARK
    SIZE (SIZE  X  BY -10) BY 12.5 TRUNCATE 0 INSIDE OF ME2 STEP 2.5
}

4.2.1.2B.a.ME2 {@ Maximum width of (ME2 within M2SLBK) is 12.0um
                @ except PAD area mark layer
      X =(ME2_IN_M2SLBK_N820 NOT M2SLOT)  NOT  PADMARK
      SIZE (SIZE X BY -1.9) BY 6 TRUNCATE 0 INSIDE OF X STEP 6 
}

4.2.1.2C.ME2 {@ Minimum space between two ME2 regions is 0.14um
   X = EXT ME2 < 0.14 ABUT>0<90 REGION
   X NOT (SPHD_1 OR  LOGOMK)
}

4.2.1.2C.a.ME2 {@ Minimum space of 45" ME2 lines is 0.15um
   E = EXT ME2 < 0.15 ANGLED==2 REGION
   E  NOT  LOGOMK
}

4.2.1.2C.b1.ME2 {@ Minimum space and notch of ME2 to(ME2 with width > 0.7um) is 0.20um
   WM2_070       = SIZE M2_N070 BY 0.35 TRUNCATE 0 INSIDE OF ME2  STEP 0.35 // ME2 > 0.7
   WM2_070_CONN  = STAMP WM2_070 BY ME2
   WM2_070_E     = WM2_070      COIN INSIDE EDGE ME2
   WM2_070_IE    = WM2_070_CONN      INSIDE EDGE ME2   
   E1 = EXT WM2_070_E  ME2 < 0.2 ABUT>0<90 REGION
   E2 = EXT WM2_070_IE ME2 < 0.2 MEASURE ALL NOT CONNECTED REGION	
   (E1 OR E2) NOT LOGOMK
}

4.2.1.2C.b2.ME2 {@ Minimum space and notch of ME2 to(ME2 with width > 2.8um) is 0.34um
   WM2_280       = SIZE M2_N280  BY 1.4 TRUNCATE 0 INSIDE OF ME2 STEP 1.4 // ME2 > 2.8
   WM2_280_CONN  = STAMP WM2_280 BY ME2
   WM2_280_E     = WM2_280      COIN INSIDE EDGE ME2
   WM2_280_IE    = WM2_280_CONN      INSIDE EDGE ME2
   E1 = EXT WM2_280_E  ME2 < 0.34 ABUT>0<90 REGION
   E2 = EXT WM2_280_IE ME2 < 0.34 MEASURE ALL NOT CONNECTED REGION
   (E1 OR E2)  NOT  LOGOMK  
}

4.2.1.2C.c1.ME2_warning {@ Minimum space and notch of ME2(within or not within M2SLBK)
             @ to ((ME2 within M2SLBK) with width > 5.00um) is 1.26um
   W = SIZE (SIZE ME2_IN_M2SLBK BY -2.5) BY 2.5 TRUNCATE 0 INSIDE OF ME2_IN_M2SLBK STEP 2.5
   X = STAMP W BY ME2
   Y = W COIN INSIDE EDGE ME2
   Z = X      INSIDE EDGE ME2 
   E1 = EXT Y ME2 < 1.26 ABUT>0<90 REGION
   E2 = EXT Z ME2 < 1.26 MEASURE ALL NOT CONNECTED REGION
   (E1 OR E2) NOT LOGOMK
}

4.2.1.2C.c2.ME2_warning {@ Minimum space and notch of ME2(within or not within M2SLBK)
             @ to ((ME2 within M2SLBK) with width > 8.2um) is 1.76um
   W = SIZE ME2_IN_M2SLBK_N820 BY 4.1 TRUNCATE 0 INSIDE OF ME2_IN_M2SLBK STEP 4.1
   X = STAMP W BY ME2
   Y = W COIN INSIDE EDGE ME2
   Z = X      INSIDE EDGE ME2 
   E1 = EXT Y ME2 < 1.76 ABUT>0<90 REGION
   E2 = EXT Z ME2 < 1.76 MEASURE ALL NOT CONNECTED REGION
   (E1 OR E2)  NOT  LOGOMK
}

4.2.1.2D.ME2_M {@ Minimum ME2 overlap VI1 is 0um, no VI1 outside ME2
   VI1 NOT ME2
}

4.2.1.2E.ME2 {@ Minimum ME2 Area 0.07 um
   E = AREA ME2 < 0.07
   E NOT (SP_7 OR LOGOMK)
}

4.2.1.2F.ME2 {@ Minimum ME2 enclosed area 0.23 sq. um
   E = HOLES ME2 < 0.23
   E  NOT  LOGOMK
}


//
//============================
//===   Metal-3 Rule    ===
//============================
//
M3_N069 = SIZE ME3     BY -0.349
M3_N070 = SIZE M3_N069 BY -0.001	// SIZE ME3 BY -0.35	
M3_N099 = SIZE M3_N070 BY -0.149	// SIZE ME3 BY -0.499
M3_N209 = SIZE M3_N099 BY -0.55	// SIZE ME3 BY -1.049
M3_N280 = SIZE M3_N209 BY -0.351	// SIZE ME3 BY -1.4
M3_N500 = SIZE M3_N280 BY -1.1	// SIZE ME3 BY -2.5

ME3_IN_M3SLBK = (ME3 AND M3SLBK) NOT M3SLOT 
ME3_IN_M3SLBK_N070 = SIZE ME3_IN_M3SLBK BY -0.35	        // ME3 within M3SLBK > 0.7um
ME3_IN_M3SLBK_N280 = SIZE ME3_IN_M3SLBK_N070 BY -1.05	// ME3 within M3SLBK > 2.8um
ME3_IN_M3SLBK_N600 = SIZE ME3_IN_M3SLBK_N280 BY -1.6	// ME3 within M3SLBK > 6.0um
ME3_IN_M3SLBK_N820 = SIZE ME3_IN_M3SLBK_N600 BY -1.1	// ME3 within M3SLBK > 8.2um

//

4.2.1.2A.ME3 {@ Minimum width of ME3 region is 0.14um
   INT ME3 < 0.14 ABUT>0<90 SINGULAR REGION
}

4.2.1.2B.ME3 {@ Maximum width of ME3 region is 25um
                 @ except PAD area mark layer
   X = M3_N500  NOT  PADMARK
   SIZE (SIZE X BY -10) BY 12.5 TRUNCATE 0 INSIDE OF ME3 STEP 2.5
}

4.2.1.2B.a.ME3 {@ Maximum width of (ME3 within M3SLBK) is 12.0um
                   @ except PAD area mark layer
    X = (ME3_IN_M3SLBK_N820 NOT M3SLOT)  NOT  PADMARK
    SIZE (SIZE X BY -1.9) BY 6 TRUNCATE 0 INSIDE OF X STEP 6
}

4.2.1.2C.ME3 {@ Minimum space between two ME3 regions is 0.14um
   E = EXT ME3 < 0.14 ABUT>0<90 REGION
   E  NOT  LOGOMK
}

4.2.1.2C.a.ME3 {@ Minimum space of 45" ME3 lines is 0.15um
   E = EXT ME3 < 0.15 ANGLED==2 REGION
   E  NOT  LOGOMK
}

4.2.1.2C.b1.ME3 {@ Minimum space and notch of ME3 to(ME3 with width > 0.7um) is 0.20um
   WM3_070       = SIZE M3_N070 BY 0.35 TRUNCATE 0 INSIDE OF ME3  STEP 0.35 // ME3 > 0.7
   WM3_070_CONN  = STAMP WM3_070 BY ME3
   WM3_070_E     = WM3_070      COIN INSIDE EDGE ME3
   WM3_070_IE    = WM3_070_CONN      INSIDE EDGE ME3   
   E1 = EXT WM3_070_E  ME3 < 0.2 ABUT>0<90 REGION
   E2 = EXT WM3_070_IE ME3 < 0.2 MEASURE ALL NOT CONNECTED REGION
   (E1 OR E2) NOT LOGOMK
}

4.2.1.2C.b2.ME3 {@ Minimum space and notch of ME3 to(ME3 with width > 2.8um) is 0.34um
   WM3_280       = SIZE M3_N280 BY 1.4 TRUNCATE 0 INSIDE OF ME3 STEP 1.4 // ME3 > 2.8
   WM3_280_CONN  = STAMP WM3_280 BY ME3
   WM3_280_E     = WM3_280      COIN INSIDE EDGE ME3
   WM3_280_IE    = WM3_280_CONN      INSIDE EDGE ME3
   E1 = EXT WM3_280_E  ME3 < 0.34 ABUT>0<90 REGION
   E2 = EXT WM3_280_IE ME3 < 0.34 MEASURE ALL NOT CONNECTED REGION
   (E1 OR E2)  NOT LOGOMK
}

4.2.1.2C.c1.ME3_warning {@ Minimum space and notch of ME3(within or not within M3SLBK)
             @ to ((ME3 within M3SLBK) with width > 5.00um) is 1.26um
   W = SIZE (SIZE ME3_IN_M3SLBK BY -2.5) BY 2.5 TRUNCATE 0 INSIDE OF ME3_IN_M3SLBK STEP 2.5
   X = STAMP W BY ME3
   Y = W COIN INSIDE EDGE ME3
   Z = X      INSIDE EDGE ME3 
   E1 = EXT Y ME3 < 1.26 ABUT>0<90 REGION
   E2 = EXT Z ME3 < 1.26 MEASURE ALL NOT CONNECTED REGION
   (E1 OR E2)  NOT  LOGOMK
}

4.2.1.2C.c2.ME3_warning {@ Minimum space and notch of ME3(within or not within M3SLBK)
             @ to ((ME3 within M3SLBK) with width > 8.2um) is 1.76um
   W = SIZE ME3_IN_M3SLBK_N820 BY 4.1 TRUNCATE 0 INSIDE OF ME3_IN_M3SLBK STEP 4.1
   X = STAMP W BY ME3
   Y = W COIN INSIDE EDGE ME3
   Z = X      INSIDE EDGE ME3 
   E1 = EXT Y ME3 < 1.76 ABUT>0<90 REGION
   E2 = EXT Z ME3 < 1.76 MEASURE ALL NOT CONNECTED REGION
   (E1 OR E2)  NOT  LOGOMK
}

4.2.1.2D.ME3_M {@ Minimum ME3 overlap VI2 is 0um, no VI2 outside ME3
   VI2 NOT ME3
}

4.2.1.2E.ME3 {@ Minimum ME3 Area 0.07 um
   E = AREA ME3 < 0.07
   E NOT LOGOMK
}

4.2.1.2F.ME3 {@ Minimum ME3 enclosed area 0.23 sq. um
   E = HOLES ME3 < 0.23
   E NOT LOGOMK
}



//
//============================
//===   Metal-4 Rule    ===
//============================
//
M4_N069 = SIZE ME4     BY -0.349
M4_N070 = SIZE M4_N069 BY -0.001	// SIZE ME4 BY -0.35	
M4_N099 = SIZE M4_N070 BY -0.149	// SIZE ME4 BY -0.499
M4_N209 = SIZE M4_N099 BY -0.55	// SIZE ME4 BY -1.049
M4_N280 = SIZE M4_N209 BY -0.351	// SIZE ME4 BY -1.4
M4_N500 = SIZE M4_N280 BY -1.1	// SIZE ME4 BY -2.5

ME4_IN_M4SLBK = (ME4 AND M4SLBK) NOT M4SLOT 
ME4_IN_M4SLBK_N070 = SIZE ME4_IN_M4SLBK BY -0.35	        // ME4 within M4SLBK > 0.7um
ME4_IN_M4SLBK_N280 = SIZE ME4_IN_M4SLBK_N070 BY -1.05	// ME4 within M4SLBK > 2.8um
ME4_IN_M4SLBK_N600 = SIZE ME4_IN_M4SLBK_N280 BY -1.6	// ME4 within M4SLBK > 6.0um
ME4_IN_M4SLBK_N820 = SIZE ME4_IN_M4SLBK_N600 BY -1.1	// ME4 within M4SLBK > 8.2um

//

4.2.1.2A.ME4 {@ Minimum width of ME4 region is 0.14um
   INT ME4 < 0.14 ABUT>0<90 SINGULAR REGION
}

4.2.1.2B.ME4 {@ Maximum width of ME4 region is 25um
                 @ except PAD area mark layer
   X = M4_N500  NOT  PADMARK
   SIZE (SIZE X BY -10) BY 12.5 TRUNCATE 0 INSIDE OF ME4 STEP 2.5
}

4.2.1.2B.a.ME4 {@ Maximum width of (ME4 within M4SLBK) is 12.0um
                   @ except PAD area mark layer
    X = (ME4_IN_M4SLBK_N820 NOT M4SLOT)  NOT  PADMARK
    SIZE (SIZE X BY -1.9) BY 6 TRUNCATE 0 INSIDE OF X STEP 6
}

4.2.1.2C.ME4 {@ Minimum space between two ME4 regions is 0.14um
   E = EXT ME4 < 0.14 ABUT>0<90 REGION
   E  NOT  LOGOMK
}

4.2.1.2C.a.ME4 {@ Minimum space of 45" ME4 lines is 0.15um
   E = EXT ME4 < 0.15 ANGLED==2 REGION
   E  NOT  LOGOMK
}

4.2.1.2C.b1.ME4 {@ Minimum space and notch of ME4 to(ME4 with width > 0.7um) is 0.20um
   WM4_070       = SIZE M4_N070 BY 0.35 TRUNCATE 0 INSIDE OF ME4  STEP 0.35 // ME4 > 0.7
   WM4_070_CONN  = STAMP WM4_070 BY ME4
   WM4_070_E     = WM4_070      COIN INSIDE EDGE ME4
   WM4_070_IE    = WM4_070_CONN      INSIDE EDGE ME4   
   E1 = EXT WM4_070_E  ME4 < 0.2 ABUT>0<90 REGION
   E2 = EXT WM4_070_IE ME4 < 0.2 MEASURE ALL NOT CONNECTED REGION
   (E1 OR E2) NOT LOGOMK
}

4.2.1.2C.b2.ME4 {@ Minimum space and notch of ME4 to(ME4 with width > 2.8um) is 0.34um
   WM4_280       = SIZE M4_N280 BY 1.4 TRUNCATE 0 INSIDE OF ME4 STEP 1.4 // ME4 > 2.8
   WM4_280_CONN  = STAMP WM4_280 BY ME4
   WM4_280_E     = WM4_280      COIN INSIDE EDGE ME4
   WM4_280_IE    = WM4_280_CONN      INSIDE EDGE ME4
   E1 = EXT WM4_280_E  ME4 < 0.34 ABUT>0<90 REGION
   E2 = EXT WM4_280_IE ME4 < 0.34 MEASURE ALL NOT CONNECTED REGION
   (E1 OR E2)  NOT LOGOMK
}

4.2.1.2C.c1.ME4_warning {@ Minimum space and notch of ME4(within or not within M4SLBK)
             @ to ((ME4 within M4SLBK) with width > 5.00um) is 1.26um
   W = SIZE (SIZE ME4_IN_M4SLBK BY -2.5) BY 2.5 TRUNCATE 0 INSIDE OF ME4_IN_M4SLBK STEP 2.5
   X = STAMP W BY ME4
   Y = W COIN INSIDE EDGE ME4
   Z = X      INSIDE EDGE ME4 
   E1 = EXT Y ME4 < 1.26 ABUT>0<90 REGION
   E2 = EXT Z ME4 < 1.26 MEASURE ALL NOT CONNECTED REGION
   (E1 OR E2)  NOT  LOGOMK
}

4.2.1.2C.c2.ME4_warning {@ Minimum space and notch of ME4(within or not within M4SLBK)
             @ to ((ME4 within M4SLBK) with width > 8.2um) is 1.76um
   W = SIZE ME4_IN_M4SLBK_N820 BY 4.1 TRUNCATE 0 INSIDE OF ME4_IN_M4SLBK STEP 4.1
   X = STAMP W BY ME4
   Y = W COIN INSIDE EDGE ME4
   Z = X      INSIDE EDGE ME4 
   E1 = EXT Y ME4 < 1.76 ABUT>0<90 REGION
   E2 = EXT Z ME4 < 1.76 MEASURE ALL NOT CONNECTED REGION
   (E1 OR E2)  NOT  LOGOMK
}

4.2.1.2D.ME4_M {@ Minimum ME4 overlap VI3 is 0um, no VI3 outside ME4
   VI3 NOT ME4
}

4.2.1.2E.ME4 {@ Minimum ME4 Area 0.07 um
   E = AREA ME4 < 0.07
   E NOT LOGOMK
}

4.2.1.2F.ME4 {@ Minimum ME4 enclosed area 0.23 sq. um
   E = HOLES ME4 < 0.23
   E NOT LOGOMK
}



// 
//==========================
//===  Metal-5 Rule   ===
//==========================
// 
M5_N069 = SIZE ME5     BY -0.349
M5_N070 = SIZE M5_N069 BY -0.001	// SIZE ME5 BY -0.35	
M5_N099 = SIZE M5_N070 BY -0.149	// SIZE ME5 BY -0.499
M5_N209 = SIZE M5_N099 BY -0.55	// SIZE ME5 BY -1.049
M5_N280 = SIZE M5_N209 BY -0.351	// SIZE ME5 BY -1.4
M5_N500 = SIZE M5_N280 BY -1.1	// SIZE ME5 BY -2.5

ME5_IN_M5SLBK = (ME5 AND M5SLBK) NOT M5SLOT  
ME5_IN_M5SLBK_N070 = SIZE ME5_IN_M5SLBK BY -0.35	        // ME5 within M5SLBK > 0.7um
ME5_IN_M5SLBK_N280 = SIZE ME5_IN_M5SLBK_N070 BY -1.05	// ME5 within M5SLBK > 2.8um
ME5_IN_M5SLBK_N600 = SIZE ME5_IN_M5SLBK_N280 BY -1.6	// ME5 within M5SLBK > 6.0um
ME5_IN_M5SLBK_N820 = SIZE ME5_IN_M5SLBK_N600 BY -1.1	// ME5 within M5SLBK > 8.2um

//

4.2.1.2A.ME5 {@ Minimum width of ME5 region is 0.14um
   INT ME5 < 0.14 ABUT>0<90 SINGULAR REGION
}

4.2.1.2B.ME5 {@ Maximum width of ME5 region is 25um
                 @ except PAD area mark layer
    X = M5_N500  NOT  PADMARK
    SIZE (SIZE X BY -10) BY 12.5 TRUNCATE 0 INSIDE OF ME5 STEP 2.5
}

4.2.1.2B.a.ME5 {@ Maximum width of (ME5 within M5SLBK) is 12.0um
                   @ except PAD area mark layer
    X = (ME5_IN_M5SLBK_N820 NOT M5SLOT)  NOT  PADMARK
    SIZE (SIZE X BY -1.9) BY 6 TRUNCATE 0 INSIDE OF X STEP 6
}

4.2.1.2C.ME5 {@ Minimum space between two ME5 regions is 0.14um
   E = EXT ME5 < 0.14 ABUT>0<90 REGION
   E  NOT  LOGOMK
}

4.2.1.2C.a.ME5 {@ Minimum space of 45" ME5 lines is 0.15um
   E = EXT ME5 < 0.15 ANGLED==2 REGION
   E  NOT  LOGOMK
}

4.2.1.2C.b1.ME5 {@ Minimum space and notch of ME5 to(ME5 with width > 0.7um) is 0.20um
   WM5_070       = SIZE M5_N070 BY 0.35 TRUNCATE 0 INSIDE OF ME5  STEP 0.35 // ME5 > 0.7
   WM5_070_CONN  = STAMP WM5_070 BY ME5
   WM5_070_E     = WM5_070      COIN INSIDE EDGE ME5
   WM5_070_IE    = WM5_070_CONN      INSIDE EDGE ME5   
   E1 = EXT WM5_070_E  ME5 < 0.2 ABUT>0<90 REGION
   E2 = EXT WM5_070_IE ME5 < 0.2 MEASURE ALL NOT CONNECTED REGION
   (E1 OR E2) NOT LOGOMK
}

4.2.1.2C.b2.ME5 {@ Minimum space and notch of ME5 to(ME5 with width > 2.8um) is 0.34um
   WM5_280       = SIZE M5_N280 BY 1.4 TRUNCATE 0 INSIDE OF ME5 STEP 1.4 // ME5 > 2.8
   WM5_280_CONN  = STAMP WM5_280 BY ME5
   WM5_280_E     = WM5_280      COIN INSIDE EDGE ME5
   WM5_280_IE    = WM5_280_CONN      INSIDE EDGE ME5
   E1 = EXT WM5_280_E  ME5 < 0.34 ABUT>0<90 REGION
   E2 = EXT WM5_280_IE ME5 < 0.34 MEASURE ALL NOT CONNECTED REGION
   (E1 OR E2) NOT LOGOMK
}

4.2.1.2C.c1.ME5_warning {@ Minimum space and notch of ME5(within or not within M5SLBK)
             @ to ((ME5 within M5SLBK) with width > 5.00um) is 1.26um
   W = SIZE (SIZE ME5_IN_M5SLBK BY -2.5) BY 2.5 TRUNCATE 0 INSIDE OF ME5_IN_M5SLBK STEP 2.5
   X = STAMP W BY ME5
   Y = W COIN INSIDE EDGE ME5
   Z = X      INSIDE EDGE ME5 
   E1 = EXT Y ME5 < 1.26 ABUT>0<90 REGION
   E2 = EXT Z ME5 < 1.26 MEASURE ALL NOT CONNECTED REGION
   (E1 OR E2) NOT LOGOMK
}

4.2.1.2C.c2.ME5_warning {@ Minimum space and notch of ME5(within or not within M5SLBK)
             @ to ((ME5 within M5SLBK) with width > 8.2um) is 1.76um
   W = SIZE ME5_IN_M5SLBK_N820 BY 4.1 TRUNCATE 0 INSIDE OF ME5_IN_M5SLBK STEP 4.1
   X = STAMP W BY ME5
   Y = W COIN INSIDE EDGE ME5
   Z = X      INSIDE EDGE ME5 
   E1 = EXT Y ME5 < 1.76 ABUT>0<90 REGION
   E2 = EXT Z ME5 < 1.76 MEASURE ALL NOT CONNECTED REGION
   (E1 OR E2) NOT LOGOMK
}

4.2.1.2D.ME5_M {@ Minimum ME5 overlap VI4 is 0um, no VI4 outside ME5
   VI4 NOT ME5
}

4.2.1.2E.ME5 {@ Minimum ME5 Area 0.07 um
   E = AREA ME5 < 0.07
   E  NOT  LOGOMK
}

4.2.1.2F.ME5 {@ Minimum ME5 enclosed area 0.23 sq. um
   E = HOLES ME5 < 0.23
   E  NOT LOGOMK
}
 


//
//==========================
//===  Metal-6 Rule   ===
//==========================
// 
M6_N139 = SIZE ME6  BY -0.699	
M6_N199 = SIZE M6_N139 BY -0.3		// SIZE ME6  BY -0.999
M6_N200 = SIZE M6_N199 BY -0.001		// SIZE ME6  BY -1.0
M6_N419 = SIZE M6_N199 BY -1.1		// SIZE ME6  BY -2.099
M6_N800 = SIZE M6_N419 BY -1.901		// SIZE ME6  BY -4.0

ME6_IN_M6SLBK = (ME6 AND M6SLBK) NOT M6SLOT 
ME6_IN_M6SLBK_N280  = SIZE ME6_IN_M6SLBK BY -1.4		// ME6  within M6SLBK > 2.8um
ME6_IN_M6SLBK_N460  = SIZE ME6_IN_M6SLBK_N280 BY -0.9	// ME6  within M6SLBK > 4.6um
ME6_IN_M6SLBK_N840  = SIZE ME6_IN_M6SLBK_N460 BY -1.9	// ME6  within M6SLBK > 8.4um
ME6_IN_M6SLBK_N1150 = SIZE ME6_IN_M6SLBK_N840 BY -1.55	// ME6  within M6SLBK > 11.5um

//

  
4.2.3A.ME6  {@ Minimum width of ME6  region is 0.28um
   E = INT ME6  < 0.28 ABUT>0<90 SINGULAR REGION
   X = FUSEMARK  NOT  INTERACT  SAB
   E  NOT  X
}


4.2.3B.ME6  {@ Maximum width of ME6  region is 25um
                @ except PAD area mark layer and BOAC pad area mark layer
  
   X = M6_N800  NOT  (PADMARK OR BOACMK)            
   SIZE (SIZE X BY -8.5) BY 12.5 TRUNCATE 0 INSIDE OF ME6  STEP 2.5
}

4.2.3B.a.ME6 {@ Maximum width of (ME6  within M6SLBK) is 14.0um
                 @ except PAD area mark layer and BOAC pad area mark layer
   
   X = ME6_IN_M6SLBK_N1150  NOT  (PADMARK OR BOACMK)              
   SIZE (SIZE X BY -1.25) BY 7 TRUNCATE 0 INSIDE OF ME6_IN_M6SLBK STEP 3.5
}

4.2.3C.ME6 {@ Minimum space between two ME6  regions is 0.28um
   E = EXT ME6  < 0.28 ABUT>0<90 REGION
   E  NOT  LOGOMK
}

4.2.3C.a1.ME6  {@ Minimum space and notch of ME6 to (ME6 with width > 2.0um) is 0.35um
   WM6_200       = SIZE M6_N200 BY 1 TRUNCATE 0 INSIDE OF ME6  STEP 1 // ME6  > 2
   WM6_200_CONN  = STAMP WM6_200 BY ME6
   WM6_200_E     = WM6_200      COIN INSIDE EDGE ME6
   WM6_200_IE    = WM6_200_CONN      INSIDE EDGE ME6    
   E1 = EXT WM6_200_E  ME6  < 0.35 ABUT>0<90 REGION
   E2 = EXT WM6_200_IE ME6  < 0.35 MEASURE ALL NOT CONNECTED REGION
   (E1 OR E2) NOT LOGOMK
}

4.2.3C.a2.ME6  {@ Minimum space and notch of ME6  to( ME6  with width > 8.0um) is 0.84um
   WM6_800       = SIZE M6_N800 BY 4 TRUNCATE 0 INSIDE OF ME6  STEP 1 // ME6  > 8
   WM6_800_CONN  = STAMP WM6_800 BY ME6
   WM6_800_E     = WM6_800      COIN INSIDE EDGE ME6
   WM6_800_IE    = WM6_800_CONN      INSIDE EDGE ME6    
   E1 = EXT WM6_800_E  ME6  < 0.84 ABUT>0<90 REGION
   E2 = EXT WM6_800_IE ME6  < 0.84 MEASURE ALL NOT CONNECTED REGION
   (E1 OR E2) NOT LOGOMK
}

4.2.3C.b1.ME6_warning  {@ Minimum space and notch of ME6 (within or not within M6SLBK)
             @ to ((ME6  within M6SLBK ) with width > 2.8um) is 0.7um
   W = SIZE ME6_IN_M6SLBK_N280 BY  1.4 TRUNCATE 0 INSIDE OF ME6_IN_M6SLBK STEP  1.4
   X = STAMP W BY ME6
   Y = W COIN INSIDE EDGE ME6
   Z = X      INSIDE EDGE ME6  
   E1 = EXT Y ME6  < 0.7 ABUT>0<90 REGION
   E2 = EXT Z ME6  < 0.7 MEASURE ALL NOT CONNECTED REGION	
   (E1 OR E2) NOT LOGOMK
}

4.2.3C.b2.ME6_warning  {@ Minimum space and notch of ME6 (within or not within M6SLBK )
             @ to ((ME6  within M6SLBK ) with width > 4.6um) is 1.62um
   W = SIZE ME6_IN_M6SLBK_N460 BY  2.3 TRUNCATE 0 INSIDE OF ME6_IN_M6SLBK STEP  2.3
   X = STAMP W BY ME6
   Y = W COIN INSIDE EDGE ME6
   Z = X      INSIDE EDGE ME6  
   E1 = EXT Y ME6  < 1.62 ABUT>0<90 REGION
   E2 = EXT Z ME6  < 1.62 MEASURE ALL NOT CONNECTED REGION
   (E1 OR E2) NOT LOGOMK
}

4.2.3C.b3.ME6_warning  {@ Minimum space and notch of ME6 (within or not within M6SLBK )
             @ to ((ME6  within M6SLBK ) with width > 8.4um) is 2.52um
   W = SIZE ME6_IN_M6SLBK_N840 BY  4.2 TRUNCATE 0 INSIDE OF ME6_IN_M6SLBK STEP  4.2
   X = STAMP W BY ME6
   Y = W COIN INSIDE EDGE ME6
   Z = X      INSIDE EDGE ME6  
   E1 = EXT Y ME6  < 2.52 ABUT>0<90 REGION
   E2 = EXT Z ME6  < 2.52 MEASURE ALL NOT CONNECTED REGION
   (E1 OR E2) NOT LOGOMK
}

4.2.3C.b4.ME6_warning  {@ Minimum space and notch of ME6 (within or not within M6SLBK)
             @ to ((ME6  within M6SLBK ) with width > 11.5um) is 3.52um
   W = SIZE ME6_IN_M6SLBK_N1150 BY  5.75 TRUNCATE 0 INSIDE OF ME6_IN_M6SLBK STEP  5.75
   X = STAMP W BY ME6
   Y = W COIN INSIDE EDGE ME6
   Z = X      INSIDE EDGE ME6  
   E1 = EXT Y ME6  < 3.52 ABUT>0<90 REGION
   E2 = EXT Z ME6  < 3.52 MEASURE ALL NOT CONNECTED REGION
   (E1 OR E2) NOT LOGOMK
}

4.2.3D.ME6  {@ Minimum ME6  ovelap VI5 is 0um, no VI5 outside ME6
   NOT VI5 ME6
}

4.2.3E.ME6  {@ Minimum ME6  Area 0.235 um
   E = AREA ME6  < 0.235
   E  NOT LOGOMK
}

4.2.3F.ME6  {@ Minimum ME6 enclosed area 0.64 sq.um
   E = HOLES ME6  < 0.64
   E  NOT LOGOMK
}


//
//=========================
//===  Via1 Rule (P66)  ===
//=========================
//

WM1_007 = SIZE ( SIZE ME1 BY -0.349 ) BY 0.349 TRUNCATE 0.349
WM2_007 = SIZE ( SIZE ME2 BY -0.349 ) BY 0.349 TRUNCATE 0.349

V1 = VI1_ALL AND VI1
VI1_C = STAMP VI1 BY ME1_C

WM1_014  = SIZE (SIZE ME1 BY -0.069) BY 0.069  TRUNCATE 0.069    // MET1 >= 0.14

VIA1_L20 = VI1 NOT INTERACT WM1_014        // Metal <  0.14 um
VIA1_G20 = VI1     INTERACT WM1_014        // Metal >= 0.14 um

WM1_010 = SIZE ( SIZE ME1 BY -0.499 ) BY 0.499 TRUNCATE 0.499
WM2_010 = SIZE ( SIZE ME2 BY -0.499 ) BY 0.499 TRUNCATE 0.499
WM1_021 = SIZE ( SIZE ME1 BY -1.049 ) BY 1.049 TRUNCATE 1.049
WM2_021 = SIZE ( SIZE ME2 BY -1.049 ) BY 1.049 TRUNCATE 1.049

//

4.2.2.1A.VI1 {@ Exact VI1 size is 0.14um
  E = NOT RECTANGLE VI1 == 0.14 BY == 0.14
  E NOT LOGOMK
}

4.2.2.1B.a.VI1 {@ MV1 sharing a common Metal shape above or below(equal potential) is 0.18um
   E1 = EXT VI1_ME1 < 0.18 ABUT>0<90 SINGULAR CONNECTED REGION
   E2 = EXT VI1_ME2 < 0.18 ABUT>0<90 SINGULAR CONNECTED REGION
   (E1 OR E2) NOT LOGOMK
}

4.2.2.1B.b.VI1 {@ @ Min MV1  spacing is 0.16um
   X = EXT V1 < 0.16 ABUT>0<90 SINGULAR REGION
   X NOT ((((DPHD_1 OR DPHD_2) OR LOGOMK) OR DP_13) OR DP_14)
}

4.2.2.1B.c.VI1 {@ MV1 not sharing a common Metal shape above or below(non-equal potential) is 0.18um
   E = EXT VI1_C < 0.18 ABUT>0<90 OPPOSITE EXTENDED 0.005 NOT CONNECTED REGION
   E NOT ((LOGOMK OR DP_13) OR DP_14)
}

4.2.2.1C.a.VI1 {@ Minimum ME1 overlap Via1 is -0.01, no VI1 outside ME1
   X = VI1 NOT ME1
   Y = SIZE ( SIZE X BY -0.005 ) BY 0.005 TRUNCATE 0 INSIDE OF X STEP 0.005
   Y NOT (DP_1 OR LOGOMK)
}

4.2.2.1C.b.VI1 {@ Minimum MET1(>= 0.14) overlap Via1 is  0.0, no VI1 outside ME1
   x = VIA1_G20 NOT ME1
   x NOT (DP_1 OR LOGOMK)
}

4.2.2.1C.c_VI1__4.2.2.1C.c1_VI1__4.2.2.1C.c2.VI1 {@ metal1 enclose Via1 at end-of-line or outer corner is 0.04
    v1_sm24s= SIZE  VI1  BY  -0.01                     // For make sure via inside metal
    x = RECTANGLE ENC v1_sm24s ME1
    GOOD 0.00 0.05 OPPOSITE 0.00 0.05 OPPOSITE         // via1 edge with metal enc< 0.04 + 0.01(under size)
    GOOD 0.03 0.03  0.03 0.03 
    x NOT (((DP_1 OR LOGOMK) OR DP_13) OR DP_14)
}
 
4.2.2.1C.d.VI1 {@ Minimum ME1 line end enclosure of VI1 is 0.08um
         @ is surrounded by other metal1 line with space is <= 0.14
   A = CONVEX EDGE ME1 ==2 WITH LENGTH <= 0.14
   B = EXT [A] ME1 <= 0.14 OPPOSITE
   C = EXPAND EDGE B INSIDE BY 0.02
   D = (SIZE C BY 0.06 TRUNCATE 0 INSIDE OF ME1 STEP 0.06) INTERACT VI1 // 0.06*2 < 0.14um( ME1 spacing)
   E = D COIN INSIDE EDGE ME1
   F = INT B [E] < 0.08 ABUT==90 PERP ONLY MEASURE COIN 
   G = EXT [F] ME1 <= 0.14 OPPOSITE 
   H = INT [G] >= 0.12 <= 0.14 OPPOSITE	// Note: Min M1 width = 0.12
   I = INT H [B] < 0.1 ABUT==90 PERP ONLY MEASURE COIN
   J = VI1 INTERACT (D WITH EDGE I)	// contacts with violations
   K = ENC J I < 0.08 OPPOSITE REGION
   K NOT ((((((SP_8 OR SPHD_1) OR SP_9) OR SP_7) OR SP_12) OR SP_11) OR LOGOMK)
}   

//

M1_COIN = ME1 AND ME2
V1_OCT = VI1 NOT (INT VI1<0.001 ABUT REGION)
V1_X   = SIZE V1_OCT BY 0.21 INSIDE OF M1_COIN

//
   
4.2.2.1D.a.VI1 {@ Minimum two VI1 spacing is <= 0.42um must connect ME1 and ME2
       @ when ME1,ME2 > 0.7
   WMA = M1_COIN AND WM1_007
   WMB = M1_COIN AND WM2_007  
   WVIA_A = VI1 INSIDE WMA
   WVIA_B = VI1 INSIDE WMB
   Y = (V1_X INTERACT WVIA_A) INTERACT VI1>=2
   E1 = (WMA NOT INTERACT Y) AND WVIA_A
   Z = (V1_X INTERACT WVIA_B) INTERACT VI1>=2
   E2 = (WMB NOT INTERACT Z) AND WVIA_B
   (E1 OR E2) NOT LOGOMK
}   

4.2.2.1D.b.VI1 {@ Minimum 3 VI1 spacing is <= 0.42um must connect ME1 and ME2
       @ when ME1,ME2 => 1.0 @Spacing check conver by 4.2.2.1D.a
   WMA = M1_COIN AND WM1_010
   WMB = M1_COIN AND WM2_010  
   WVIA_A = VI1 INSIDE WMA
   WVIA_B = VI1 INSIDE WMB
   Y = (V1_X INTERACT WVIA_A) INTERACT VI1>=3
   E1 = (WMA NOT INTERACT Y) AND WVIA_A
   Z = (V1_X INTERACT WVIA_B) INTERACT VI1>=3
   E2 = (WMB NOT INTERACT Z) AND WVIA_B
   (E1 OR E2) NOT LOGOMK   
}

4.2.2.1D.c.VI1 {@ Minimum 4 VI1 spacing is <= 0.42um must connect ME1 and ME2
       @ when ME1,ME2 => 2.1 @Spacing check conver by 4.2.2.1D.a
   WMA = M1_COIN AND WM1_021
   WMB = M1_COIN AND WM2_021  
   WVIA_A = VI1 INSIDE WMA
   WVIA_B = VI1 INSIDE WMB
   Y = (V1_X INTERACT WVIA_A) INTERACT VI1>=4
   E1 = (WMA NOT INTERACT Y) AND WVIA_A
   Z = (V1_X INTERACT WVIA_B) INTERACT VI1>=4
   E2 = (WMB NOT INTERACT Z) AND WVIA_B
   (E1 OR E2) NOT LOGOMK
}   
 
4.2.2.1E.VI1 {@ VI1 not allowed at 45 degree
    X = VI1 NOT LOGOMK
    ANGLE X >0<90
}

//
// =============================
// ====== VIAFARM  RULE ========
// =============================
//
GROUP  VIAFARM_RULES   4.2.9.2?

M12_MARK_LAYER= M1SLBK AND M2SLBK 

MX1 = (ME1 AND ME2) ENCLOSE VI1  
MY1 = SIZE ( SIZE MX1 BY -6 ) BY 6 TRUNCATE 0 INSIDE OF MX1 STEP 6
MET2_FARM_AREA = MY1 ENCLOSE VI1
VIA1_FARM_AREA = VI1 INSIDE MET2_FARM_AREA
   
4.2.9.1A.VI1 {@ VIAFARM density of VI1 array <= 30%
   VIA1_SIZE_TEMP = SIZE ( SIZE VIA1_FARM_AREA BY 0.4 ) BY -0.8
   DENSITY (VIA1_SIZE_TEMP NOT M12_MARK_LAYER) INSIDE OF LAYER (MET2_FARM_AREA NOT M12_MARK_LAYER) > 0.30 BACKUP
}

// 4.2.9.1B.VI1 checked by 4.2.2.1B.a.VI1

4.2.9.1C.VI1 {@ Minimum VI1 VIAFARM to another VI1 spacing within both ME1 and ME2 width >=12um is 1.2um
              @ Two VI1 regions within 0.8um spacing is considered to be in the same array
    VI1_IN_FARM  =  (VI1  INTERACT  MET2_FARM_AREA) NOT M12_MARK_LAYER
    VI1_ARRAY    =  SIZE (SIZE  VI1_IN_FARM  BY  0.4) BY -0.4
    EXT  VI1_ARRAY  VI1_IN_FARM  < 1.2  ABUT<90  REGION
}

// 4.2.9.2 Recommended layout rules for 4*4 VIA array

4.2.9.2C.VI1 {@ Minimum spacing of VIAFARM to VIAFARM for MVIA1 is 1.2
   X = VIA1_FARM_AREA NOT M12_MARK_LAYER
   VIA1_SIZE_TEMP_A = SIZE ( SIZE X BY 0.2 ) BY -0.2
   VIA1_SIZE_TEMP   = SIZE ( SIZE VIA1_SIZE_TEMP_A BY -0.5) BY 0.5
   VIAFARM_AREA_VI1 = VIA1_SIZE_TEMP INTERACT VI1 ==16  
   EXT VIAFARM_AREA_VI1 < 1.2 ABUT<90 SINGULAR REGION
}   

//
//============================
//===  Via-2 Rule          ===
//============================
//

WM3_007 = SIZE M3_N069 BY 0.349 TRUNCATE 0.349
WM3_010 = SIZE M3_N099 BY 0.499 TRUNCATE 0.499
WM3_021 = SIZE M3_N209 BY 1.049 TRUNCATE 1.049

V2    = VI2_ALL AND VI2
VI2_C = STAMP VI2 BY ME2_C

4.2.2.2A.VI2 {@ Exact VI2 size is 0.14um
   E = NOT RECTANGLE VI2 == 0.14 BY == 0.14
   E NOT LOGOMK
}

4.2.2.2B.a.VI2 {@ MV2 sharing a common Metal shape above or below(equal potential) is 0.18um
   E1 = EXT VI2_ME2 < 0.18 ABUT>0<90 SINGULAR CONNECTED REGION
   E2 = EXT VI2_ME3 < 0.18 ABUT>0<90 SINGULAR CONNECTED REGION
   (E1 OR E2) NOT LOGOMK
}

4.2.2.2B.b.VI2 {@ Min MV2 spacing  is 0.16um
   E = EXT V2 < 0.16 ABUT>0<90 SINGULAR REGION
   E NOT LOGOMK
}

4.2.2.2B.c.VI2 {@ MV2 not sharing a common Metal shape above or below for common run length >= 0, corner to corner spacing (non-equal potential) is 0.18um
   E = EXT VI2_C < 0.18 ABUT>0<90  OPPOSITE EXTENDED 0.005 NOT CONNECTED REGION
   E NOT LOGOMK
}

4.2.2.2C.a.VI2_M {@ Minimum ME2 enclosure of VI2 is 0, no VI2 outside ME2
    VI2 NOT ME2
}

4.2.2.2C.b.VI2__4.2.2.2C.b1.VI2__4.2.2.2C.b2.VI2_M {@ ME2 line end enclosure of VI2 is 0.04
              @ Minimum ME2 line end enclosure of VI2 for four sides is 0.02
    X = RECTANGLE ENC VI2 ME2
    GOOD 0.00 0.04 OPPOSITE 0.00 0.04 OPPOSITE
    GOOD 0.02 0.02  0.02 0.02 
    X NOT (SP_7 OR LOGOMK)
}

4.2.2.2C.c.VI2_M {@ Minimum ME2 line end enclosure of VI2, if ME2 <= 0.16 and the spacing of ME2 line end to three adjacebt ME2 pattern <= 0.16 is 0.06um
         @ is surrounded by other metal2 line with space is <= 0.16
	 @ where ME2 is the original ME2 before slotting and dummy filling
   A = CONVEX EDGE ME2 ==2 WITH LENGTH <= 0.16
   B = EXT [A] ME2 <= 0.16 OPPOSITE
   C = EXPAND EDGE B INSIDE BY 0.02
   D = (SIZE C BY 0.07 TRUNCATE 0 INSIDE OF ME2 STEP 0.07) INTERACT VI2 // 0.07*2 < 0.16um( ME2 spacing)
   E = D COIN INSIDE EDGE ME2
   F = INT B [E] < 0.06 ABUT==90 PERP ONLY MEASURE COIN 
   G = EXT [F] ME2 <= 0.16 OPPOSITE 
   H = INT [G] >= 0.14 <= 0.16 OPPOSITE	// Note: Min M2 width = 0.14
   I = INT H [B] < 0.08 ABUT==90 PERP ONLY MEASURE COIN
   J = VI2 INTERACT (D WITH EDGE I)	// contacts with violations
   K = ENC J I < 0.06 OPPOSITE REGION
   K NOT LOGOMK
}

//

M2_COIN = ME2 AND ME3
V2_OCT  = VI2 NOT (INT VI2<0.001 ABUT REGION)
V2_X    = SIZE V2_OCT BY 0.21 INSIDE OF M2_COIN  

//

4.2.2.2D.a.VI2 {@ Minimum two VI2 spacing is <= 0.42 um when ME2,ME3 => 0.7
   WMA = M2_COIN AND WM2_007
   WMB = M2_COIN AND WM3_007  
   WVIA_A = VI2 INSIDE WMA
   WVIA_B = VI2 INSIDE WMB
   Y = (V2_X INTERACT WVIA_A) INTERACT VI2>=2
   E1 = (WMA NOT INTERACT Y) AND WVIA_A
   Z = (V2_X INTERACT WVIA_B) INTERACT VI2>=2
   E2 = (WMB NOT INTERACT Z) AND WVIA_B
   (E1 OR E2) NOT LOGOMK
}

4.2.2.2D.b.VI2 {@ Minimum 3 VI2 spacing is <= 0.42um must connect ME2 and ME3
       @ when ME2,ME3 => 1.0 @Spacing check conver by 4.2.2.2D.a
   WMA = M2_COIN AND WM2_010
   WMB = M2_COIN AND WM3_010  
   WVIA_A = VI2 INSIDE WMA
   WVIA_B = VI2 INSIDE WMB
   Y = (V2_X INTERACT WVIA_A) INTERACT VI2>=3
   E1 = (WMA NOT INTERACT Y) AND WVIA_A
   Z = (V2_X INTERACT WVIA_B) INTERACT VI2>=3
   E2 = (WMB NOT INTERACT Z) AND WVIA_B
   (E1 OR E2) NOT LOGOMK
}

4.2.2.2D.c.VI2 {@ Minimum 4 VI2 spacing is <= 0.42um must connect ME2 and ME3
       @ when ME2,ME3 => 2.1 @Spacing check conver by 4.2.2.2D.a
   WMA = M2_COIN AND WM2_021
   WMB = M2_COIN AND WM3_021  
   WVIA_A = VI2 INSIDE WMA
   WVIA_B = VI2 INSIDE WMB
   Y = (V2_X INTERACT WVIA_A) INTERACT VI2>=4
   E1 = (WMA NOT INTERACT Y) AND WVIA_A
   Z = (V2_X INTERACT WVIA_B) INTERACT VI2>=4
   E2 = (WMB NOT INTERACT Z) AND WVIA_B
   (E1 OR E2) NOT LOGOMK
}

4.2.2.2E.VI2 {@ VI2 not allowed at 45 degree
    X = VI2  NOT  LOGOMK 
    ANGLE X >0<90

}

//
// =============================
// ====== VIAFARM  RULE ========
// =============================
//

M23_MARK_LAYER= M2SLBK AND M3SLBK 
MX2 = (ME2 AND ME3)  ENCLOSE VI2
MY2 = SIZE ( SIZE MX2 BY -6 ) BY 6 TRUNCATE 0 INSIDE OF MX2 STEP 6
MET3_FARM_AREA = MY2 ENCLOSE VI2
VIA2_FARM_AREA = VI2 INSIDE MET3_FARM_AREA
  
4.2.9.1A.VI2 {@ VIAFARM density of VI2 array  <= 30% 
  VIA2_SIZE_TEMP = SIZE ( SIZE VIA2_FARM_AREA BY 0.4 ) BY -0.8
   DENSITY (VIA2_SIZE_TEMP NOT M23_MARK_LAYER) INSIDE OF LAYER (MET3_FARM_AREA NOT M23_MARK_LAYER) > 0.30 BACKUP
}   

// 4.2.9.1B.VI2 checked by 4.2.2.1B.a.VI2


4.2.9.1C.VI2 {@ Minimum VI2 VIAFARM to another VI2 spacing within both ME2 and ME3 width >=12um is 1.2um
                 @ Two VI2 regions within 0.8um spacing is considered to be in the same array
    VI2_IN_FARM  =  (VI2  INTERACT  MET3_FARM_AREA) NOT M23_MARK_LAYER
    VI2_ARRAY    =  SIZE (SIZE  VI2_IN_FARM  BY  0.4) BY -0.4
    EXT  VI2_ARRAY  VI2_IN_FARM  < 1.2  ABUT<90  REGION
}

// 4.2.9.2 Recommended layout rules for 4*4 VIA array

4.2.9.2C.VI2 {@ Minimum spacing of VIAFARM to VIAFARM for MVIA2 is 1.2
   X = VIA2_FARM_AREA NOT M23_MARK_LAYER 
   VIA2_SIZE_TEMP_A   = SIZE ( SIZE X BY 0.2 ) BY -0.2
   VIA2_SIZE_TEMP     = SIZE ( SIZE VIA2_SIZE_TEMP_A BY -0.5) BY 0.5
   VIAFARM_AREA_VI2 = VIA2_SIZE_TEMP INTERACT VI2 ==16
   EXT VIAFARM_AREA_VI2 < 1.2 ABUT<90 SINGULAR REGION
}
 
 
//
//=========================
//===  Via-3 Rule    ===
//=========================
//
WM4_007 = SIZE ( SIZE ME4 BY -0.349 ) BY 0.349 TRUNCATE 0.349
WM4_010 = SIZE ( SIZE ME4 BY -0.499 ) BY 0.499 TRUNCATE 0.499
WM4_021 = SIZE ( SIZE ME4 BY -1.049 ) BY 1.049 TRUNCATE 1.049

VI3_C = STAMP VI3 BY ME3_C
V3  = VI3_ALL AND VI3


4.2.2.2A.VI3 {@ Exact VI3 size is 0.14um
   E = NOT RECTANGLE VI3 == 0.14 BY == 0.14 
   E  NOT  LOGOMK 
}

4.2.2.2B.a.VI3 {@ VI3 sharing a common Metal shape above or below(equal potential) is 0.18um
   E1 = EXT VI3_ME3 < 0.18 ABUT>0<90 SINGULAR CONNECTED REGION
   E2 = EXT VI3_ME4 < 0.18 ABUT>0<90 SINGULAR CONNECTED REGION 
   (E1 OR E2)  NOT  LOGOMK
}

4.2.2.2B.b.VI3 {@ VI3 not sharing a common Metal shape above or below for common run length < 0, corner to corner spacing (non-equal) is 0.16um
   E = EXT V3 < 0.16 ABUT>0<90 SINGULAR REGION
   E  NOT  LOGOMK
}

4.2.2.2B.c.VI3 {@ VI3 not sharing a common Metal shape above or below for common run length >= 0, corner to corner spacing (non-equal potential) is 0.18um
   E = EXT VI3_C < 0.18 ABUT>0<90  OPPOSITE EXTENDED 0.005 NOT CONNECTED REGION
   E  NOT  LOGOMK
}

4.2.2.2C.a.VI3_M {@ Minimum ME3 enclosure of VI3 is 0, no VI3 outside ME3
    VI3 NOT ME3
}

4.2.2.2C.b.VI3__4.2.2.2C.b1.VI3__4.2.2.2C.b2.VI3_M {@ ME3 line end enclosure of VI3 is 0.04
              @ Minimum ME3 line end enclosure of VI3 for four sides is 0.02
    E = RECTANGLE ENC VI3 ME3
    GOOD 0.00 0.04 OPPOSITE 0.00 0.04 OPPOSITE
    GOOD 0.02 0.02 OPPOSITE 0.02 0.02 OPPOSITE   
    E  NOT  LOGOMK
}

4.2.2.2C.c.VI3_M {@ Minimum ME3 line end enclosure of VI3 is 0.06um
         @ is surrounded by other ME3 line with space is <= 0.16
   A = CONVEX EDGE ME3 ==2 WITH LENGTH <= 0.16
   B = EXT [A] ME3 <= 0.16 OPPOSITE
   C = EXPAND EDGE B INSIDE BY 0.02
   D = (SIZE C BY 0.07 TRUNCATE 0 INSIDE OF ME3 STEP 0.07) INTERACT VI3 // 0.07*2 < 0.16um( ME3 spacing)
   E = D COIN INSIDE EDGE ME3
   F = INT B [E] < 0.06 ABUT==90 PERP ONLY MEASURE COIN 
   G = EXT [F] ME3 <= 0.16 OPPOSITE 
   H = INT [G] >= 0.14 <= 0.16 OPPOSITE	// Note: Min M3 width = 0.14
   I = INT H [B] < 0.08 ABUT==90 PERP ONLY MEASURE COIN
   J = VI3 INTERACT (D WITH EDGE I)	// contacts with violations
   K = ENC J I < 0.06 OPPOSITE REGION
   K NOT LOGOMK
}

//

M3_COIN = ME3 AND ME4
V3_OCT  = VI3 NOT (INT VI3<0.001 ABUT REGION)
V3_X    = SIZE V3_OCT BY 0.21 INSIDE OF M3_COIN 

//
   
4.2.2.2D.a.VI3 {@ Minimum two VI3 spacing is <= 0.42 um when ME3,ME4 => 0.7
   WMA = M3_COIN AND WM3_007
   WMB = M3_COIN AND WM4_007  
   WVIA_A = VI3 INSIDE WMA
   WVIA_B = VI3 INSIDE WMB
   Y = (V3_X INTERACT WVIA_A) INTERACT VI3>=2
   E1 = (WMA NOT INTERACT Y) AND WVIA_A
   Z = (V3_X INTERACT WVIA_B) INTERACT VI3>=2
   E2 = (WMB NOT INTERACT Z) AND WVIA_B
   (E1 OR E2) NOT LOGOMK
}

4.2.2.2D.b.VI3 {@ Minimum 3 VI3 spacing is <= 0.42um must connect ME3 and ME4
       @ when ME3,ME4 => 1.0 @Spacing check conver by 4.2.2.2D.a
   WMA = M3_COIN AND WM3_010
   WMB = M3_COIN AND WM4_010  
   WVIA_A = VI3 INSIDE WMA
   WVIA_B = VI3 INSIDE WMB
   Y = (V3_X INTERACT WVIA_A) INTERACT VI3>=3
   E1 = (WMA NOT INTERACT Y) AND WVIA_A
   Z = (V3_X INTERACT WVIA_B) INTERACT VI3>=3
   E2 = (WMB NOT INTERACT Z) AND WVIA_B
   (E1 OR E2) NOT LOGOMK
}

4.2.2.2D.c.VI3 {@ Minimum 4 VI3 spacing is <= 0.42um must connect ME3 and ME4
       @ when ME3,ME4 => 2.1 @Spacing check conver by 4.2.2.2D.a
   WMA = M3_COIN AND WM3_021
   WMB = M3_COIN AND WM4_021  
   WVIA_A = VI3 INSIDE WMA
   WVIA_B = VI3 INSIDE WMB
   Y = (V3_X INTERACT WVIA_A) INTERACT VI3>=4
   E1 = (WMA NOT INTERACT Y) AND WVIA_A
   Z = (V3_X INTERACT WVIA_B) INTERACT VI3>=4
   E2 = (WMB NOT INTERACT Z) AND WVIA_B
   (E1 OR E2) NOT LOGOMK
}

4.2.2.2E.VI3 {@ VI3 not allowed at 45 degree
    X = VI3 NOT LOGOMK 
    ANGLE X >0<90
}

//
// =============================
// ====== VIAFARM  RULE ========
// =============================
//

M34_MARK_LAYER= M3SLBK AND M4SLBK 

MX3 = (ME3  AND ME4 )  ENCLOSE VI3
MY3 = SIZE ( SIZE MX3 BY -6 ) BY 6 TRUNCATE 0 INSIDE OF MX3 STEP 6
MET4_FARM_AREA = MY3 ENCLOSE VI3
VIA3_FARM_AREA = VI3 INSIDE MET4_FARM_AREA
  
4.2.9.1A.VI3 {@ VI3 VIAFARM density <= 30%
   VIA3_SIZE_TEMP = SIZE ( SIZE VIA3_FARM_AREA BY 0.4 ) BY -0.8
   DENSITY (VIA3_SIZE_TEMP NOT M34_MARK_LAYER) INSIDE OF LAYER (MET4_FARM_AREA NOT M34_MARK_LAYER) > 0.30 BACKUP
}

// 4.2.9.1B.VI3 checked by 4.2.2.1B.a.VI3

4.2.9.1C.VI3 {@ Minimum VI3 VIAFARM to another VI3 spacing within both ME3 and ME4 width >=12um is 1.2um
                 @ Two VI3 regions within 0.8um spacing is considered to be in the same array
    VI3_IN_FARM  =  (VI3  INTERACT  MET4_FARM_AREA) NOT M34_MARK_LAYER
    VI3_ARRAY    =  SIZE (SIZE  VI3_IN_FARM  BY  0.4) BY -0.4
    EXT  VI3_ARRAY  VI3_IN_FARM  < 1.2  ABUT<90  REGION
}

// 4.2.9.2 Recommended layout rules for 4*4 VIA array

4.2.9.2C.VI3 {@ MIN spacing of VIAFARM to VIAFARM for VI3 is 1.2
   X = VIA3_FARM_AREA  NOT  M34_MARK_LAYER 
   VIA3_SIZE_TEMP_A   = SIZE ( SIZE X BY 0.2 ) BY -0.2
   VIA3_SIZE_TEMP        = SIZE ( SIZE VIA3_SIZE_TEMP_A BY -0.5) BY 0.5
   VIAFARM_AREA_VI3 = VIA3_SIZE_TEMP INTERACT VI3 ==16
   EXT VIAFARM_AREA_VI3 < 1.2 ABUT<90 SINGULAR REGION
}



//
//========================
//===  Via-4 Rule   ===
//========================
//
WM5_007 = SIZE ( SIZE ME5 BY -0.349 ) BY 0.349 TRUNCATE 0.349
WM5_010 = SIZE ( SIZE ME5 BY -0.499 ) BY 0.499 TRUNCATE 0.499
WM5_021 = SIZE ( SIZE ME5 BY -1.049 ) BY 1.049 TRUNCATE 1.049

VI4_C = STAMP VI4 BY ME4_C
V4  = VI4_ALL AND VI4

4.2.2.2A.VI4 {@ Exact VI4 size is 0.14um
   E = NOT RECTANGLE VI4 == 0.14 BY == 0.14 
   E  NOT  LOGOMK
}

4.2.2.2B.a.VI4 {@ VI4 sharing a common Metal shape above or below(equal potential) is 0.18um
   E1 = EXT VI4_ME4 < 0.18 ABUT>0<90 SINGULAR CONNECTED REGION
   E2 = EXT VI4_ME5 < 0.18 ABUT>0<90 SINGULAR CONNECTED REGION 
   (E1 OR E2)  NOT  LOGOMK
}

4.2.2.2B.b.VI4 {@ VI4 not sharing a common Metal shape above or below for common run length < 0, corner to corner spacing (non-equal) is 0.16um
   E = EXT V4 < 0.16 ABUT>0<90 SINGULAR REGION
   E  NOT  LOGOMK
}

4.2.2.2B.c.VI4 {@ VI4 not sharing a common Metal shape above or below for common run length >= 0, corner to corner spacing (non-equal potential) is 0.18um
   E = EXT VI4_C < 0.18 ABUT>0<90  OPPOSITE EXTENDED 0.005 NOT CONNECTED REGION
   E  NOT  LOGOMK
}

4.2.2.2C.a.VI4_M {@ Minimum ME4 enclosure of VI4 is 0, no VI4 outside ME4
    VI4 NOT ME4
}

4.2.2.2C.b.VI4__4.2.2.2C.b1.VI4__4.2.2.2C.b2.VI4_M {@ ME4 line end enclosure of VI4 is 0.04
              @ Minimum ME4 line end enclosure of VI4 for four sides is 0.02
    E = RECTANGLE ENC VI4 ME4
    GOOD 0.00 0.04 OPPOSITE 0.00 0.04 OPPOSITE
    GOOD 0.02 0.02 OPPOSITE 0.02 0.02 OPPOSITE 
    E  NOT  LOGOMK  
}

4.2.2.2C.c.VI4_M {@ Minimum ME4 line end enclosure of VI4 is 0.06um
         @ is surrounded by other ME4 line with space is <= 0.16
   A = CONVEX EDGE ME4 ==2 WITH LENGTH <= 0.16
   B = EXT [A] ME4 <= 0.16 OPPOSITE
   C = EXPAND EDGE B INSIDE BY 0.02
   D = (SIZE C BY 0.07 TRUNCATE 0 INSIDE OF ME4 STEP 0.07) INTERACT VI4 // 0.07*2 < 0.16um( ME4 spacing)
   E = D COIN INSIDE EDGE ME4
   F = INT B [E] < 0.06 ABUT==90 PERP ONLY MEASURE COIN 
   G = EXT [F] ME4 <= 0.16 OPPOSITE 
   H = INT [G] >= 0.14 <= 0.16 OPPOSITE	// Note: Min M4 width = 0.14
   I = INT H [B] < 0.08 ABUT==90 PERP ONLY MEASURE COIN
   J = VI4 INTERACT (D WITH EDGE I)	// contacts with violations
   K = ENC J I < 0.06 OPPOSITE REGION
   K  NOT  LOGOMK
}

//

M4_COIN = ME4 AND ME5
V4_OCT = VI4 NOT (INT VI4<0.001 ABUT REGION)
V4_X   = SIZE V4_OCT BY 0.21 INSIDE OF M4_COIN 

//
   
4.2.2.2D.a.VI4 {@ Minimum two VI4 spacing is <= 0.42 um when ME4,ME5 => 0.7
   WMA = M4_COIN AND WM4_007
   WMB = M4_COIN AND WM5_007  
   WVIA_A = VI4 INSIDE WMA
   WVIA_B = VI4 INSIDE WMB
   Y = (V4_X INTERACT WVIA_A) INTERACT VI4>=2
   E1 = (WMA NOT INTERACT Y) AND WVIA_A
   Z = (V4_X INTERACT WVIA_B) INTERACT VI4>=2
   E2 = (WMB NOT INTERACT Z) AND WVIA_B
   (E1 OR E2) NOT LOGOMK
}

4.2.2.2D.b.VI4 {@ Minimum 3 VI4 spacing is <= 0.42um must connect ME4 and ME5
       @ when ME4,ME5 => 1.0 @Spacing check conver by 4.2.2.2D.a
   WMA = M4_COIN AND WM4_010
   WMB = M4_COIN AND WM5_010  
   WVIA_A = VI4 INSIDE WMA
   WVIA_B = VI4 INSIDE WMB
   Y = (V4_X INTERACT WVIA_A) INTERACT VI4>=3
   E1 = (WMA NOT INTERACT Y) AND WVIA_A
   Z = (V4_X INTERACT WVIA_B) INTERACT VI4>=3
   E2 = (WMB NOT INTERACT Z) AND WVIA_B
   (E1 OR E2) NOT LOGOMK
}

4.2.2.2D.c.VI4 {@ Minimum 4 VI4 spacing is <= 0.42um must connect ME4 and ME5
       @ when ME4,ME5 => 2.1 @Spacing check conver by 4.2.2.2D.a
   WMA = M4_COIN AND WM4_021
   WMB = M4_COIN AND WM5_021  
   WVIA_A = VI4 INSIDE WMA
   WVIA_B = VI4 INSIDE WMB
   Y = (V4_X INTERACT WVIA_A) INTERACT VI4>=4
   E1 = (WMA NOT INTERACT Y) AND WVIA_A
   Z = (V4_X INTERACT WVIA_B) INTERACT VI4>=4
   E2 = (WMB NOT INTERACT Z) AND WVIA_B
   (E1 OR E2) NOT LOGOMK
}

4.2.2.2E.VI4 {@ VI4 not allowed at 45 degree
    X = VI4 NOT LOGOMK
    ANGLE X >0<90
}
 

//
// =============================
// ====== VIAFARM  RULE ========
// =============================
//
M45_MARK_LAYER= M4SLBK AND M5SLBK 

MX4 = (ME4  AND ME5 )  ENCLOSE VI4
MY4 = SIZE ( SIZE MX4 BY -6 ) BY 6 TRUNCATE 0 INSIDE OF MX4 STEP 6
MET5_FARM_AREA = MY4 ENCLOSE VI4
VIA4_FARM_AREA = VI4 INSIDE MET5_FARM_AREA
  
4.2.9.1A.VI4 {@ VI4 VIAFARM density <= 30%
   VIA4_SIZE_TEMP = SIZE ( SIZE VIA4_FARM_AREA BY 0.4 ) BY -0.8
   DENSITY (VIA4_SIZE_TEMP NOT M45_MARK_LAYER) INSIDE OF LAYER (MET5_FARM_AREA NOT M45_MARK_LAYER) > 0.30 BACKUP
}

// 4.2.9.1B.VI4 checked by 4.2.2.1B.a.VI4

4.2.9.1C.VI4 {@ Minimum VI4 VIAFARM to another VI4 spacing within both ME4 and ME5 width >=12um is 1.2um
                 @ Two VI4 regions within 0.8um spacing is considered to be in the same array
    VI4_IN_FARM  =  (VI4  INTERACT  MET5_FARM_AREA) NOT M45_MARK_LAYER
    VI4_ARRAY    =  SIZE (SIZE  VI4_IN_FARM  BY  0.4) BY -0.4
    EXT  VI4_ARRAY  VI4_IN_FARM  < 1.2  ABUT<90  REGION
}

// 4.2.9.2 Recommended layout rules for 4*4 VIA array

4.2.9.2C.VI4 {@ MIN spacing of VIAFARM to VIAFARM for VI4 is 1.2
   X = VIA4_FARM_AREA  NOT  M45_MARK_LAYER 
   VIA4_SIZE_TEMP_A   = SIZE ( SIZE X BY 0.2 ) BY -0.2
   VIA4_SIZE_TEMP        = SIZE ( SIZE VIA4_SIZE_TEMP_A BY -0.5) BY 0.5
   VIAFARM_AREA_VI4 = VIA4_SIZE_TEMP INTERACT VI4 ==16
   EXT VIAFARM_AREA_VI4 < 1.2 ABUT<90 SINGULAR REGION
}


//
//============================
//===  Via-5 Rule     =====
//============================
//
WM5_140 = SIZE ( SIZE ME5  BY -0.699 ) BY 0.699 TRUNCATE 0.699
WM5_020 = SIZE ( SIZE ME5  BY -0.999 ) BY 0.999 TRUNCATE 0.999
WM5_042 = SIZE ( SIZE ME5  BY -2.099 ) BY 2.099 TRUNCATE 2.099

WM6_140 = SIZE ( SIZE ME6  BY -0.699 ) BY 0.699 TRUNCATE 0.699
WM6_020 = SIZE ( SIZE ME6  BY -0.999 ) BY 0.999 TRUNCATE 0.999
WM6_042 = SIZE ( SIZE ME6  BY -2.099 ) BY 2.099 TRUNCATE 2.099
//

4.2.4A.VI5 {@ Exact VI5  size is 0.28um
   E = NOT RECTANGLE VI5 == 0.28 BY == 0.28
   E NOT LOGOMK
}

4.2.4B.VI5 {@ Minimum space between two VI5  regions is 0.28um
   E = EXT VI5 < 0.28 ABUT>0<90 SINGULAR REGION
   E NOT LOGOMK
}

4.2.4C.VI5 {@ Minimum ME5  overlap VI5  is 0um, no VI5  outside ME5 
   E = VI5 NOT ME5 
   E  NOT  MMCBP
}

//

M5_COIN = ME5 AND ME6
V5_OCT = VI5 NOT (INT VI5<0.001 ABUT REGION)
V5_X   = SIZE V5_OCT BY 0.42 INSIDE OF M5_COIN 

//

4.2.4D.a.VI5 {@ Minimum two VI5 spacing is <= 0.84 um when ME5,ME6 => 1.4
   WMA = M5_COIN AND WM5_140
   WMB = M5_COIN AND WM6_140  
   WVIA_A = VI5 INSIDE WMA
   WVIA_B = VI5 INSIDE WMB
   Y = (V5_X INTERACT WVIA_A) INTERACT VI5>=2
   E1 = (WMA NOT INTERACT Y) AND WVIA_A
   Z = (V5_X INTERACT WVIA_B) INTERACT VI5>=2
   E2 = (WMB NOT INTERACT Z) AND WVIA_B
   (E1 OR E2) NOT LOGOMK
}

4.2.4D.b.VI5 {@ Minimum 3 VI5  spacing is <= 0.84 must connect ME5 and ME6 
       @ when ME5 ME6 => 2.0 @Spacing check conver by 4.2.4.6D.a
   WMA = M5_COIN AND WM5_020
   WMB = M5_COIN AND WM6_020 
   WVIA_A = VI5 INSIDE WMA
   WVIA_B = VI5 INSIDE WMB
   Y = (V5_X INTERACT WVIA_A) INTERACT VI5>=3
   E1 = (WMA NOT INTERACT Y) AND WVIA_A
   Z = (V5_X INTERACT WVIA_B) INTERACT VI5>=3
   E2 = (WMB NOT INTERACT Z) AND WVIA_B
   (E1 OR E2) NOT LOGOMK
}

4.2.4D.c.VI5 {@ Minimum 4 VI5  spacing is <= 0.84um must connect ME5 and ME6 
       @ when ME5,ME6 => 4.2 @Spacing check conver by 4.2.4.6D.a
   WMA = M5_COIN AND WM5_042
   WMB = M5_COIN AND WM6_042  
   WVIA_A = VI5 INSIDE WMA
   WVIA_B = VI5 INSIDE WMB
   Y = (V5_X INTERACT WVIA_A) INTERACT VI5>=4
   E1 = (WMA NOT INTERACT Y) AND WVIA_A
   Z = (V5_X INTERACT WVIA_B) INTERACT VI5>=4
   E2 = (WMB NOT INTERACT Z) AND WVIA_B
   (E1 OR E2) NOT LOGOMK
}

4.2.4E.VI5 {@ VI5  not allowed at 45 degree
     X = VI5 NOT LOGOMK
     ANGLE X >0<90
}


//
// =============================
// ====== VIAFARM  RULE ========
// =============================
//
M56_MARK_LAYER= M5SLBK AND M6SLBK 

MX5 = (ME5  AND ME6 )  ENCLOSE VI5
MY5 = SIZE ( SIZE MX5 BY -6 ) BY 6 TRUNCATE 0 INSIDE OF MX5 STEP 6
MET6_FARM_AREA = MY5 ENCLOSE VI5
VIA5_FARM_AREA = VI5 INSIDE MET6_FARM_AREA

//
  
4.2.9.1A.VI5 {@ VI5 VIAFARM density <= 30%
  VIA5_SIZE_TEMP   = SIZE ( SIZE VIA5_FARM_AREA BY 0.8 ) BY -1.6
   DENSITY ( VIA5_SIZE_TEMP NOT M56_MARK_LAYER) INSIDE OF LAYER (MET6_FARM_AREA NOT M56_MARK_LAYER) > 0.30 BACKUP
}

4.2.9.1D.VI5 {@ Minimum VI5 to  VI5 spacing in VIAFARM is 0.36um
                 @ Two VI5 regions within 1.6um spacing is considered to be in the same array
    VI5_IN_FARM  =  (VI5  INTERACT  MET6_FARM_AREA) NOT M56_MARK_LAYER
    VI5_ARRAY    =  SIZE (SIZE  VI5_IN_FARM  BY  0.8) BY -0.8
    VI5_IN_ARRAY =  VI5  INTERACT VI5_ARRAY
    EXT  VI5_IN_ARRAY  < 0.36  ABUT<90  REGION
}

4.2.9.1E.VI5 {@ Minimum VI5 VIAFARM to another VI5 spacing within both ME5 and ME6 width >=12um is 2.4um
                 @ Two VI5 regions within 1.6um spacing is considered to be in the same array
    VI5_IN_FARM  =  (VI5  INTERACT  MET6_FARM_AREA) NOT M56_MARK_LAYER
    VI5_ARRAY    =  SIZE (SIZE  VI5_IN_FARM  BY  0.8) BY -0.8
    EXT  VI5_ARRAY  VI5_IN_FARM  < 2.4  ABUT<90  REGION
}

// 4.2.9.2 Recommended layout rules for 4*4 VIA array


4.2.9.2E.VI5 {@ MIN spacing of VI5 TO VI5 IN VIAFARM is 0.36
  
   X = VIA5_FARM_AREA  NOT M56_MARK_LAYER 
   VIA5_SIZE_TEMP_A  = SIZE ( SIZE X BY 0.4 ) BY -0.4
   VIA5_SIZE_TEMP_B  = SIZE ( SIZE VIA5_SIZE_TEMP_A BY -1) BY 1
   VIAFARM_AREA_VI5  = VIA5_SIZE_TEMP_B INTERACT VI5 ==16
   Y = VI5 INTERACT VIAFARM_AREA_VI5
   EXT Y < 0.36 REGION
}

4.2.9.2F.VI5 {@ MIN spacing of VIAFARM to VIAFARM for VI5 is 2.4
 
   X = VIA5_FARM_AREA  NOT M56_MARK_LAYER
   VIA5_SIZE_TEMP_A  = SIZE ( SIZE X BY 0.4 ) BY -0.4
   VIA5_SIZE_TEMP_B  = SIZE ( SIZE VIA5_SIZE_TEMP_A BY -1) BY 1
   VIAFARM_AREA_VI5  = VIA5_SIZE_TEMP_B INTERACT VI5 ==16
   EXT VIAFARM_AREA_VI5 < 2.4 ABUT<90 SINGULAR REGION
}



//
//==============================================
//===  AL-RDL Layer Rules (For wire Bond)    ===
//==============================================
//

GEN_TMV = (TMV_RDL NOT INTERACT (LOGOMK OR FUSEMARK)) NOT MMC_TMV

//

4.2.7.2A {@ Minimum width of AL_RDL region is 3.0um
   X = INT AL_RDL < 3.0 ABUT>0<90 SINGULAR REGION
   X NOT INTERACT FUSEMARK
}

4.2.7.2B {@ Minimum space between two AL_RDL regions is 1.60um
   X = EXT AL_RDL < 1.60 ABUT>0<90 REGION
   X  NOT  INTERACT ( MMCBP OR FUSEMARK)
}

4.2.7.2B.a {@ Minimum spacing and notch of AL-metal line to (AL-metal line with width > 35um) is 3um
   WAL_350 =  SIZE (SIZE AL_RDL BY -17.5) BY 17.5 TRUNCATE 0 INSIDE OF AL_RDL
   WAL_350_CONN = STAMP WAL_350 BY AL_RDL
   WAL_350_E    = WAL_350	COIN INSIDE EDGE AL_RDL
   WAL_350_IE	= WAL_350_CONN       INSIDE EDGE AL_RDL
   X = EXT WAL_350_E  AL_RDL < 3.0 ABUT>0<90 REGION
   Y = EXT WAL_350_IE AL_RDL < 3.0 MEASURE ALL NOT CONNECTED REGION
   (X OR Y) NOT INTERACT FUSEMARK
}

// 7.2B.as

4.2.7.2C {@ Exact TMV_RDL size is 4.0um
   NOT RECTANGLE GEN_TMV == 4.0 BY == 4.0
}

4.2.7.2D {@ Minimum spacing of TMV_RDL to TMV_RDL is 2.0um
    EXT GEN_TMV < 2.0 ABUT>0<90 REGION
}

// 7.2Ds


4.2.7.2E {@ Minimum enclosure of ME6 to RDL_TMV is 0.35um, no floating RDL_TMV
   ENC GEN_TMV ME6 < 0.35 ABUT SINGULAR OUTSIDE ALSO REGION
}


4.2.7.2F {@ Minimum enclosure of AL_RDL line at AL_RDL layer to RDL_TMV is 0.5um, no floating RDL_TMV
   X = ENC GEN_TMV AL_RDL < 0.5 ABUT<90 SINGULAR OUTSIDE ALSO REGION
   X NOT INTERACT FUSEMARK
}

// 7.2Fs

//
// =============================
// ====== AL_RDL SLOT RULE ======
// =============================
//

AL_NOT_PAD = (AL_RDL NOT FUSEMARK) NOT  (((PADMARK OR BOACMK) OR FLPMARK) OR LOGOMK)
AL_MET_HOLE= AL_NOT_PAD NOT L2SLOT
AL_EDGE    = AL_MET_HOLE COINCIDENT INSIDE EDGE AL_RDL
//

4.2.7.3A {@ Maximum AL_metal width without slotting when length is greater than 30um is 20um except,
    @ between metal edge and slots
    @ spacing between slots
    @ bonding Pad areas
    @ bumping Pad areas
   LONG_AL    = AL_EDGE LENGTH > 30
   X = AL_MET_HOLE WITH EDGE LONG_AL
   SIZE ( SIZE X BY -10 ) BY 10 TRUNCATE 10.0
}

4.2.7.3B.a__4.2.7.3B.b  {@ Minimum and Maximum AL_RDL Slot width and length
            @ Min. and Max. AL_RDL Slot width are 2um and 5um respectively

   INT  L2SLOT < 2 ABUT<90 SINGULAR REGION
   SIZE ( SIZE L2SLOT BY -2.5 ) BY 2.5
}

4.2.7.3C.a__4.2.7.3C.b  {@ Minimum and Maximum AL_RDL Slot width and length
           @ Min. and Max. AL_RDL slot lengths are 10um and 250um respectively

  SQR_L2SLOT = VERTEX L2SLOT == 4
  SQR_L2SLOT NOT WITH EDGE (LENGTH SQR_L2SLOT >= 10 <= 250)

  POLYGON_L2SLOT = L2SLOT NOT SQR_L2SLOT

  L2SLOT_LINE_END1 = CONVEX EDGE POLYGON_L2SLOT ==2 WITH LENGTH >=2 <= 5
  LINE_END_TEST = LENGTH POLYGON_L2SLOT > 5
  L2SLOT_LINE_END2 = INT [L2SLOT_LINE_END1] LINE_END_TEST <= 5 ABUT==90 PERP ONLY
  L2SLOT_LINE_END = L2SLOT_LINE_END1 NOT TOUCH INSIDE EDGE (L2SLOT_LINE_END1 NOT COIN INSIDE EDGE L2SLOT_LINE_END2)
  L2SLOT_LEG = POLYGON_L2SLOT NOT COIN INSIDE EDGE L2SLOT_LINE_END

  PATH LENGTH L2SLOT_LEG < 10 
  PATH LENGTH L2SLOT_LEG > 250 
  
  POLYGON_L2SLOT NOT (POLYGON_L2SLOT WITH EDGE LINE_END_TEST)	// Sanity check for line end test  

}

4.2.7.3D.a  {@ Minimum space between slot regions is 9 um
   EXT L2SLOT < 9.0 ABUT>0<90 SINGULAR REGION
}

4.2.7.3D.b__4.2.7.3E.b  {@ Maximun slot spacing is 20 um
   E = SIZE (SIZE AL_MET_HOLE BY -10.00) BY 10.0 TRUNCATE 10.0 
   E  INTERACT  L2SLOT
}

4.2.7.3E.a  {@ Minimum slot to Metal edge spacing 9 um
   ENC L2SLOT AL_RDL < 9.0 ABUT<90 SINGULAR OUTSIDE ALSO REGION
}

//4.2.7.3E.b check by 4.2.7.3d.b


//
//=====================================
//===  PASV_RDL Rule (In-line 50um) ===
//=====================================
//
GROUP  Inline_50 4.2.8.1?.inline.50

GROUP  BOAC_EXCLUDE  4.2.8.1N.?  4.2.8.1O.?

//
 
PAD_AI   = AL_RDL    INTERACT  PADMARK
PAD_PASV = PASV_RDL  INTERACT  PADMARK
PAD_TMV  = TMV_RDL   INTERACT  PADMARK

PAD_MET = PADMARK AND  PAD_AI

//

4.2.8.1A.inline.50 {@ Minimum size of a PASV_RDL region is 43.0um X 56.0um
   X = INT PAD_PASV < 43 ABUT>0<90 SINGULAR REGION
   PASV_RDL_A = EXTENTS PAD_PASV
   Y = (NOT RECTANGLE PASV_RDL_A >= 43.0 BY >= 56.0 ) AND PAD_PASV
   X OR Y   
}

// 8.1A.bs

// 8.1B not checked

// 8.1Bs

4.2.8.1C.inline.50 {@ Minimum space between two PASV_RDL regions is 7um
   EXT PAD_PASV < 7 ABUT>0<90 REGION
}

// 8.1Cs

4.2.8.1D.inline.50 {@ Exact TMV_RDL size is 4 X 4
   NOT RECTANGLE PAD_TMV  == 4.0 BY == 4.0   
}

4.2.8.1E.inline.50 {@ Minimum space between two AL_RDL regions is 3.0um
   EXT PAD_MET   < 3.0 ABUT>0<90 REGION
}

// 8.1Es

4.2.8.1F.inline.50 {@ Minimum PASV_RDL to TMV_RDL is 4.11um
   EXT PAD_PASV  PAD_TMV < 4.11 ABUT INSIDE ALSO REGION
}

// 8.1Fs

4.2.8.1G.inline.50 {@ Minimum TMV_RDL spacing is 2.0um
   EXT  PAD_TMV  < 2.0  ABUT<90 REGION
}

// 8.1Gs

4.2.8.1H.inline.50 {@ Minimum spacing of AL_RDL to Die Seal Ring is 3.0um
   EXT PAD_AI SEALRMARK < 3.0 ABUT<90 REGION
}

// 8.1I  8.1J  not  checked

4.2.8.1K.inline.50 {@ Minimum AL_RDL enclosure of TMV_RDL is 0.5um
    ENC  PAD_TMV  PAD_AI < 0.5  ABUT<90 SINGULAR OUTSIDE ALSO REGION
}

4.2.8.1L.inline.50 {@ Minimum AL_RDL enclosure of PASV_RDL is 2.0um
    ENC  PAD_PASV  PAD_AI  < 2.0 ABUT<90 SINGULAR OUTSIDE ALSO REGION
}

4.2.8.1M.DIFF.inline.50 {@ Minimum active circuit(diffusion) to die seal ring spacing is 3.0um
    EXT  SEALRMARK  DIFF < 3.0  ABUT<90 SINGULAR  REGION  
}

4.2.8.1M.PO1.inline.50 {@ Minimum active circuit(PO1) to die seal ring spacing is 3.0um
    EXT  SEALRMARK  PO1 < 3.0  ABUT<90 SINGULAR  REGION  
}

 4.2.8.1M.ME6.inline.50 {@ Minimum active circuit(ME6) to die seal ring spacing is 3.0um
    EXT  SEALRMARK  ME6 < 3.0  ABUT<90 SINGULAR  REGION  
}

 4.2.8.1M.ME5.inline.50 {@ Minimum active circuit(ME5) to die seal ring spacing is 3.0um
    EXT  SEALRMARK  ME5 < 3.0  ABUT<90 SINGULAR  REGION  
}

 4.2.8.1M.ME4.inline.50 {@ Minimum active circuit(ME4) to die seal ring spacing is 3.0um
    EXT  SEALRMARK  ME4 < 3.0  ABUT<90 SINGULAR  REGION  
}

 4.2.8.1M.ME3.inline.50 {@ Minimum active circuit(ME3) to die seal ring spacing is 3.0um
    EXT  SEALRMARK  ME3 < 3.0  ABUT<90 SINGULAR  REGION  
}

 4.2.8.1M.ME2.inline.50 {@ Minimum active circuit(ME2) to die seal ring spacing is 3.0um
    EXT  SEALRMARK  ME2 < 3.0  ABUT<90 SINGULAR  REGION  
}

 4.2.8.1M.ME1.inline.50 {@ Minimum active circuit(ME1) to die seal ring spacing is 3.0um
    EXT  SEALRMARK  ME1 < 3.0  ABUT<90 SINGULAR  REGION  
}


4.2.8.1N.ME6.inline.50 {@ Minimum spacing of PAD_PASV to unrelated ME6 is 5.0um 
                           @ unrelated ME6 are not allowed to put under Al pad
     E = EXT  PAD_PASV  ME6 < 5.0  ABUT<90 SINGULAR  REGION 
     E   NOT  PADMARK 
     MET6_PAD_PASV  CUT   PAD_MET
       
}

4.2.8.1N.ME5.inline.50 {@ Minimum spacing of PAD_PASV to unrelated ME5 is 5.0um 
                           @ unrelated ME5 are not allowed to put under Al pad
     E = EXT  PAD_PASV  ME5 < 5.0  ABUT<90 SINGULAR  REGION 
     E   NOT  PADMARK 
     MET5_PAD_PASV  CUT   PAD_MET
       
}

4.2.8.1N.ME4.inline.50 {@ Minimum spacing of PAD_PASV to unrelated ME4 is 5.0um 
                           @ unrelated ME4 are not allowed to put under Al pad
     E = EXT  PAD_PASV  ME4 < 5.0  ABUT<90 SINGULAR  REGION 
     E   NOT  PADMARK 
     MET4_PAD_PASV  CUT   PAD_MET
       
}

4.2.8.1N.ME3.inline.50 {@ Minimum spacing of PAD_PASV to unrelated ME3 is 5.0um 
                           @ unrelated ME3 are not allowed to put under Al pad
     E = EXT  PAD_PASV  ME3 < 5.0  ABUT<90 SINGULAR  REGION 
     E   NOT  PADMARK 
     MET3_PAD_PASV  CUT   PAD_MET
       
}

4.2.8.1N.ME2.inline.50 {@ Minimum spacing of PAD_PASV to unrelated ME2 is 5.0um 
                           @ unrelated ME2 are not allowed to put under Al pad
     E = EXT  PAD_PASV  ME2 < 5.0  ABUT<90 SINGULAR  REGION 
     E   NOT  PADMARK 
     MET2_PAD_PASV  CUT   PAD_MET
       
}

4.2.8.1N.ME1.inline.50 {@ Minimum spacing of PAD_PASV to unrelated ME1 is 5.0um 
                           @ unrelated ME1 are not allowed to put under Al pad
     E = EXT  PAD_PASV  ME1 < 5.0  ABUT<90 SINGULAR  REGION 
     E   NOT  PADMARK 
     MET1_PAD_PASV  CUT   PAD_MET
       
}


4.2.8.1O.NWEL.inline.50 {@ Minimum spacing of PAD_PASV to NWEL spacing is 12um
                         @ unrelated NWEL is not allowed to put under Al pad
   X = NWEL NOT INTERACT SEALRMARK
   EXT PAD_PASV X < 12 ABUT<90 SINGULAR  REGION 
   AND PAD_MET  NWEL
}

4.2.8.1O.T3.inline.50 {@ Minimum spacing of PAD_PASV to T3 spacing is 12um
                       @ unrelated T3 is not allowed to put under Al pad
   X = T3  NOT  INTERACT SEALRMARK
   EXT PAD_PASV X < 12 ABUT<90 SINGULAR  REGION 
   AND PAD_MET  T3
}
   
4.2.8.1O.DIFF.inline.50 {@ Minimum spacing of PAD_PASV to DIFF spacing is 12um
                         @ unrelated DIFF is not allowed to put under Al pad
   X = DIFF NOT SEALRMARK
   EXT PAD_PASV X < 12 ABUT<90 SINGULAR  REGION 
   AND PAD_MET  DIFF 
}

4.2.8.1O.PO1.inline.50 {@ Minimum spacing of PAD_PASV to PO1 spacing is 12um
                        @ unrelated PO1 is not allowed to put under Al pad
   EXT PAD_PASV PO1 < 12 ABUT<90 SINGULAR  REGION 
   AND PAD_MET  PO1 
}


//
//=======================================
//===  PASV_RDL Rule (staggered 35um) ===
//=======================================
//
GROUP  Staggered_35 4.2.8.1?.staggered.35
//
 
4.2.8.1A.staggered.35 {@ Minimum size of a PASV_RDL region is 52.0um X 56.0um
   X = INT PAD_PASV < 52 ABUT>0<90 SINGULAR REGION
   PASV_RDL_A = EXTENTS PAD_PASV
   Y = (NOT RECTANGLE PASV_RDL_A >= 52.0 BY >= 56.0 ) AND PAD_PASV
   X OR Y   
}

// 8.1A.bs

// 8.1B not checked

// 8.1Bs

4.2.8.1C.staggered.35 {@ Minimum space between two PASV_RDL regions is 18um
   EXT PAD_PASV < 18 ABUT>0<90 REGION
}

// 8.1Cs

4.2.8.1D.staggered.35 {@ Exact TMV_RDL size is 4 X 4
   NOT RECTANGLE PAD_TMV  == 4.0 BY == 4.0   
}

4.2.8.1E.staggered.35 {@ Minimum space between two AL_RDL regions is 3.0um
   EXT PAD_MET  < 3.0 ABUT>0<90 REGION
}

// 8.1Es

4.2.8.1F.staggered.35 {@ Minimum PASV_RDL to TMV_RDL is 4.11um
   EXT PAD_PASV  PAD_TMV < 4.11 ABUT INSIDE ALSO REGION
}

// 8.1Fs

4.2.8.1G.staggered.35 {@ Minimum TMV_RDL spacing is 2.0um
   EXT  PAD_TMV  < 2.0  ABUT<90 REGION
}

// 8.1Gs

4.2.8.1H.staggered.35 {@ Minimum spacing of AL_RDL to Die Seal Ring is 3.0um
   EXT PAD_AI SEALRMARK < 3.0 ABUT<90 REGION
}

// 8.1I  8.1J  not  checked

4.2.8.1K.staggered.35 {@ Minimum AL_RDL enclosure of TMV_RDL is 0.5um
    ENC  PAD_TMV  PAD_AI < 0.5  ABUT<90 SINGULAR OUTSIDE ALSO REGION
}

// 8.1Ks

4.2.8.1L.staggered.35 {@ Minimum AL_RDL enclosure of PASV_RDL is 2.0um
    ENC  PAD_PASV  PAD_AI  < 2.0 ABUT<90 SINGULAR OUTSIDE ALSO REGION
}

4.2.8.1M.DIFF.staggered.35 {@ Minimum active circuit(diffusion) to die seal ring spacing is 3.0um
    EXT  SEALRMARK  DIFF < 3.0  ABUT<90 SINGULAR  REGION  
}

4.2.8.1M.PO1.staggered.35 {@ Minimum active circuit(PO1) to die seal ring spacing is 3.0um
    EXT  SEALRMARK  PO1 < 3.0  ABUT<90 SINGULAR  REGION  
}


4.2.8.1M.ME6.staggered.35 {@ Minimum active circuit(ME6) to die seal ring spacing is 3.0um
    EXT  SEALRMARK  ME6 < 3.0  ABUT<90 SINGULAR  REGION  
}        

4.2.8.1M.ME5.staggered.35 {@ Minimum active circuit(ME5) to die seal ring spacing is 3.0um
    EXT  SEALRMARK  ME5 < 3.0  ABUT<90 SINGULAR  REGION  
}        

4.2.8.1M.ME4.staggered.35 {@ Minimum active circuit(ME4) to die seal ring spacing is 3.0um
    EXT  SEALRMARK  ME4 < 3.0  ABUT<90 SINGULAR  REGION  
}        

4.2.8.1M.ME3.staggered.35 {@ Minimum active circuit(ME3) to die seal ring spacing is 3.0um
    EXT  SEALRMARK  ME3 < 3.0  ABUT<90 SINGULAR  REGION  
}        

4.2.8.1M.ME2.staggered.35 {@ Minimum active circuit(ME2) to die seal ring spacing is 3.0um
    EXT  SEALRMARK  ME2 < 3.0  ABUT<90 SINGULAR  REGION  
}        

4.2.8.1M.ME1.staggered.35 {@ Minimum active circuit(ME1) to die seal ring spacing is 3.0um
    EXT  SEALRMARK  ME1 < 3.0  ABUT<90 SINGULAR  REGION  
}        

4.2.8.1N.ME6.staggered.35{@ Minimum spacing of PAD_PASV to unrelated ME6 is 5.0um 
                           @ unrelated ME6 are not allowed to put under Al pad
     E = EXT  PAD_PASV  ME6 < 5.0  ABUT<90 SINGULAR  REGION 
     E   NOT  PADMARK 
     MET6_PAD_PASV  CUT   PAD_MET
       
}


4.2.8.1N.ME5.staggered.35{@ Minimum spacing of PAD_PASV to unrelated ME5 is 5.0um 
                           @ unrelated ME5 are not allowed to put under Al pad
     E = EXT  PAD_PASV  ME5 < 5.0  ABUT<90 SINGULAR  REGION 
     E   NOT  PADMARK 
     MET5_PAD_PASV  CUT   PAD_MET
       
}


4.2.8.1N.ME4.staggered.35{@ Minimum spacing of PAD_PASV to unrelated ME4 is 5.0um 
                           @ unrelated ME4 are not allowed to put under Al pad
     E = EXT  PAD_PASV  ME4 < 5.0  ABUT<90 SINGULAR  REGION 
     E   NOT  PADMARK 
     MET4_PAD_PASV  CUT   PAD_MET
       
}


4.2.8.1N.ME3.staggered.35{@ Minimum spacing of PAD_PASV to unrelated ME3 is 5.0um 
                           @ unrelated ME3 are not allowed to put under Al pad
     E = EXT  PAD_PASV  ME3 < 5.0  ABUT<90 SINGULAR  REGION 
     E   NOT  PADMARK 
     MET3_PAD_PASV  CUT   PAD_MET
       
}


4.2.8.1N.ME2.staggered.35{@ Minimum spacing of PAD_PASV to unrelated ME2 is 5.0um 
                           @ unrelated ME2 are not allowed to put under Al pad
     E = EXT  PAD_PASV  ME2 < 5.0  ABUT<90 SINGULAR  REGION 
     E   NOT  PADMARK 
     MET2_PAD_PASV  CUT   PAD_MET
       
}


4.2.8.1N.ME1.staggered.35{@ Minimum spacing of PAD_PASV to unrelated ME1 is 5.0um 
                           @ unrelated ME1 are not allowed to put under Al pad
     E = EXT  PAD_PASV  ME1 < 5.0  ABUT<90 SINGULAR  REGION 
     E   NOT  PADMARK 
     MET1_PAD_PASV  CUT   PAD_MET
       
}



4.2.8.1O.NWEL.staggered.35 {@ Minimum spacing of PAD_PASV to NWEL spacing is 12um
                         @ unrelated NWEL is not allowed to put under Al pad
   X = NWEL NOT INTERACT SEALRMARK 
   EXT PAD_PASV X < 12 ABUT<90 SINGULAR  REGION 
   AND PAD_MET  NWEL
}

4.2.8.1O.T3.staggered.35 {@ Minimum spacing of PAD_PASV to T3 spacing is 12um
                       @ unrelated T3 is not allowed to put under Al pad
   X = T3 NOT INTERACT SEALRMARK
   EXT PAD_PASV X < 12 ABUT<90 SINGULAR  REGION 
   AND PAD_MET  T3
}
   
4.2.8.1O.DIFF.staggered.35 {@ Minimum spacing of PAD_PASV to DIFF spacing is 12um
                         @ unrelated DIFF is not allowed to put under Al pad
   X = DIFF NOT SEALRMARK
   EXT PAD_PASV X < 12 ABUT<90 SINGULAR  REGION 
   AND PAD_MET  DIFF 
}

4.2.8.1O.PO1.staggered.35 {@ Minimum spacing of PAD_PASV to PO1 spacing is 12um
                        @ unrelated PO1 is not allowed to put under Al pad
   EXT PAD_PASV PO1 < 12 ABUT<90 SINGULAR  REGION 
   AND PAD_MET  PO1 
}

//
//============================
//===  CLVS  Rule          ===
//============================
//

PASV_RDL_PAD = PASV_RDL INTERACT  PADMARK

GROUP  CLVS  4.2.8.2?

VIA5_PAD = VI5  AND  PADMARK
VIA4_PAD = VI4  AND  PADMARK
VIA3_PAD = VI3  AND  PADMARK
VIA2_PAD = VI2  AND  PADMARK
VIA1_PAD = VI1  AND  PADMARK

MET6_PAD_PASV = (ME6 AND PADMARK) INTERACT  PASV_RDL
MET5_PAD_PASV = (ME5 AND PADMARK) INTERACT  PASV_RDL
MET4_PAD_PASV = (ME4 AND PADMARK) INTERACT  PASV_RDL
MET3_PAD_PASV = (ME3 AND PADMARK) INTERACT  PASV_RDL
MET2_PAD_PASV = (ME2 AND PADMARK) INTERACT  PASV_RDL
MET1_PAD_PASV = (ME1 AND PADMARK) INTERACT  PASV_RDL

MER_MET5_PAD = SIZE (SIZE MET5_PAD_PASV BY 0.48) BY -0.48
MER_MET4_PAD = SIZE (SIZE MET4_PAD_PASV BY 0.48) BY -0.48
MER_MET3_PAD = SIZE (SIZE MET3_PAD_PASV BY 0.48) BY -0.48
MER_MET2_PAD = SIZE (SIZE MET2_PAD_PASV BY 0.48) BY -0.48
MER_MET1_PAD = SIZE (SIZE MET1_PAD_PASV BY 0.48) BY -0.48

4.2.8.2A {@ 2X,4X pitch metal & mvia over PASV is not allowed
   PASV_RDL AND VIA5_PAD 
   PASV_RDL AND MET6_PAD_PASV

}
4.2.8.2B {@ Exact 1X metal width over PASV-RDL is 2.42um
   INT MET5_PAD_PASV < 2.42 ABUT>0<90 SINGULAR REGION
   SIZE (SIZE MET5_PAD_PASV BY -1.21) BY 1.21
   INT MET4_PAD_PASV < 2.42 ABUT>0<90 SINGULAR REGION
   SIZE (SIZE MET4_PAD_PASV BY -1.21) BY 1.21
   INT MET3_PAD_PASV < 2.42 ABUT>0<90 SINGULAR REGION
   SIZE (SIZE MET3_PAD_PASV BY -1.21) BY 1.21
   INT MET2_PAD_PASV < 2.42 ABUT>0<90 SINGULAR REGION
   SIZE (SIZE MET2_PAD_PASV BY -1.21) BY 1.21
   INT MET1_PAD_PASV < 2.42 ABUT>0<90 SINGULAR REGION
   SIZE (SIZE MET1_PAD_PASV BY -1.21) BY 1.21

}
4.2.8.2C {@ Minimum space between two 1X metal spacing over PASV_RDL is 0.35um
   EXT MET5_PAD_PASV < 0.35 ABUT>0<90 REGION
   EXT MET4_PAD_PASV < 0.35 ABUT>0<90 REGION
   EXT MET3_PAD_PASV < 0.35 ABUT>0<90 REGION
   EXT MET2_PAD_PASV < 0.35 ABUT>0<90 REGION
   EXT MET1_PAD_PASV < 0.35 ABUT>0<90 REGION

}
4.2.8.2D {@ Maximum 1X pitch meatl spacing over PASV_RDL is 0.96um
      PASV_RDL_PAD NOT  MER_MET5_PAD      
      PASV_RDL_PAD NOT  MER_MET4_PAD      
      PASV_RDL_PAD NOT  MER_MET3_PAD      
      PASV_RDL_PAD NOT  MER_MET2_PAD      
      PASV_RDL_PAD NOT  MER_MET1_PAD      

}
4.2.8.2E {@ Exact 1X pitch meatl overhang of PASV_RDL is 2.0um
   X = SIZE  PASV_RDL_PAD BY 2
   XOR X MER_MET5_PAD
   XOR X MER_MET4_PAD
   XOR X MER_MET3_PAD
   XOR X MER_MET2_PAD
   XOR X MER_MET1_PAD

}
4.2.8.2F {@ Min. 1X pitch metal overlap mvia in CLVS is 0.02um
   ENC VIA4_PAD MET5_PAD_PASV < 0.02 ABUT SINGULAR REGION
   ENC VIA3_PAD MET4_PAD_PASV < 0.02 ABUT SINGULAR REGION
   ENC VIA2_PAD MET3_PAD_PASV < 0.02 ABUT SINGULAR REGION
   ENC VIA1_PAD MET2_PAD_PASV < 0.02 ABUT SINGULAR REGION

}
4.2.8.2G {@ Min. 1X pitch metal overlap mvia in CLVS is 0.02um
   ENC VIA4_PAD MET4_PAD_PASV < 0.02 ABUT SINGULAR REGION
   ENC VIA3_PAD MET3_PAD_PASV < 0.02 ABUT SINGULAR REGION
   ENC VIA2_PAD MET2_PAD_PASV < 0.02 ABUT SINGULAR REGION

   ENC VIA1_PAD MET1_PAD_PASV < 0.02 ABUT>0<90 SINGULAR REGION
}
4.2.8.2H {@ Exact 1X pitch mvia size in CLVS is 0.14um
   NOT RECTANGLE VIA4_PAD == 0.14 BY == 0.14
   NOT RECTANGLE VIA3_PAD == 0.14 BY == 0.14
   NOT RECTANGLE VIA2_PAD == 0.14 BY == 0.14
   NOT RECTANGLE VIA1_PAD == 0.14 BY == 0.14

}
4.2.8.2I.V4 {@ Exact 1X pitch mvia spacing in CLVS is 0.18um
   EXT VIA4_PAD <0.18 OPPOSITE REGION
   X4 = SIZE (SIZE VIA4_PAD BY 0.09) BY -0.09 TRUNCATE 0.09
   LENGTH X4 == 0.14 
}
4.2.8.2I.V3 {@ Exact 1X pitch mvia spacing in CLVS is 0.18um
   EXT VIA3_PAD <0.18 OPPOSITE REGION
   X3 = SIZE (SIZE VIA3_PAD BY 0.09) BY -0.09 TRUNCATE 0.09
   LENGTH X3 == 0.14 
}
4.2.8.2I.V2 {@ Exact 1X pitch mvia spacing in CLVS is 0.18um
   EXT VIA2_PAD <0.18 OPPOSITE REGION
   X2 = SIZE (SIZE VIA2_PAD BY 0.09) BY -0.09 TRUNCATE 0.09
   LENGTH X2 == 0.14 
}
4.2.8.2I.V1 {@ Exact 1X pitch mvia spacing in CLVS is 0.18um
   EXT VIA1_PAD <0.18 OPPOSITE REGION
   X1 = SIZE (SIZE VIA1_PAD BY 0.09) BY -0.09 TRUNCATE 0.09
   LENGTH X1 == 0.14 
}
4.2.8.2J.V4 {@ Minimum MVIA density under PAD window area(PASV_RDL) is 12%
   DENSITY VIA4_PAD INSIDE OF LAYER (PADMARK AND PASV_RDL) < 0.12
}
4.2.8.2J.V3 {@ Minimum MVIA density under PAD window area(PASV_RDL) is 12%
   DENSITY VIA3_PAD INSIDE OF LAYER (PADMARK AND PASV_RDL) < 0.12
}
4.2.8.2J.V2 {@ Minimum MVIA density under PAD window area(PASV_RDL) is 12%
   DENSITY VIA2_PAD INSIDE OF LAYER (PADMARK AND PASV_RDL) < 0.12
}
4.2.8.2J.V1 {@ Minimum MVIA density under PAD window area(PASV_RDL) is 12%
   DENSITY VIA1_PAD INSIDE OF LAYER (PADMARK AND PASV_RDL) < 0.12
}

4.2.8.2.M1 { @ Pad area(AL_RDL) must be within M1DMBK and M1SLBK.
 PAD_MET NOT M1DMBK
 PAD_MET NOT M1SLBK
}
4.2.8.2.M2 { @ Pad area(AL_RDL) must be within M2DMBK and M2SLBK.
 PAD_MET NOT M2DMBK
 PAD_MET NOT M2SLBK
}
4.2.8.2.M3 { @ Pad area(AL_RDL) must be within M3DMBK and M3SLBK.
 PAD_MET NOT M3DMBK
 PAD_MET NOT M3SLBK
}
4.2.8.2.M4 { @ Pad area(AL_RDL) must be within M4DMBK and M4SLBK.
 PAD_MET NOT M4DMBK
 PAD_MET NOT M4SLBK
}
4.2.8.2.M5 { @ Pad area(AL_RDL) must be within M5DMBK and M5SLBK.
 PAD_MET NOT M5DMBK
 PAD_MET NOT M5SLBK
}
4.2.8.2.M6 { @ Pad area(AL_RDL) must be within M6DMBK and M6SLBK.
 PAD_MET NOT M6DMBK
 PAD_MET NOT M6SLBK
}

4.2.8.2.M5_CLVS {@ ME5 interconnection using CLVS is not allowed 
 
   ME5  CUT  MET5_PAD_PASV 

}


4.2.8.2.M4_CLVS {@ ME4 interconnection using CLVS is not allowed 
 
   ME4  CUT  MET4_PAD_PASV 

}


4.2.8.2.M3_CLVS {@ ME3 interconnection using CLVS is not allowed 
 
   ME3  CUT  MET3_PAD_PASV 

}


4.2.8.2.M2_CLVS {@ ME2 interconnection using CLVS is not allowed 
 
   ME2  CUT  MET2_PAD_PASV 

}


4.2.8.2.M1_CLVS {@ ME1 interconnection using CLVS is not allowed 
 
   ME1  CUT  MET1_PAD_PASV 

}


//
//============================
//===  MIM Rule            ===
//============================
//

MIM_VI5 = VI5  INTERACT  MMCBP

//


4.4.1A {@ Minimum space MMCBP spacing is 2.0um
   EXT MMCBP < 2.0 ABUT>0<90 REGION
}

4.4.1B {@ Minimum MMCBP enclosure of  VI5 is 0.3um
   ENC MIM_VI5  MMCBP < 0.3 ABUT<90 SINGULAR OVERLAP REGION
}

4.4.1C {@ MMCBP not over MMCTP is not allowed
   MMCBP NOT INTERACT MMCTP
}

4.4.1D {@ Exact MIM_VI5 size is 0.28um X 0.28um
   
   NOT RECTANGLE  MIM_VI5 == 0.28 BY == 0.28

}

4.4.1E.a {@ Minimum spacing of VI5 to VI5 spacing over MMCTP is 0.88um

 X = MIM_VI5  AND  MMCTP
 EXT  X  < 0.88 ABUT>0<90  SINGULAR  REGION 
    
} 

4.4.1E.b {@ Minimum spacing of VI5 to VI5 spacing over MMCBP is 0.28um

 EXT  MIM_VI5  < 0.28 ABUT>0<90  SINGULAR  REGION 
    
} 

4.4.1F.a {@ Minimum ME6 dummy block enclosure of MMCBP is 0.4um

  ENC  MMCBP M6DMBK  < 0.4 ABUT  SINGULAR  OUTSIDE ALSO REGION 

}

4.4.1F.b {@ Minimum ME5 dummy block enclosure of MMCBP is 0.4um

   ENC MMCBP  M5DMBK  < 0.4  ABUT  SINGULAR  OUTSIDE ALSO REGION 

}

4.4.1G {@ MMCBP over ME5 is not allowed
    AND  MMCBP  ME5
}

4.4.1G.a {@ Minimum spacing of M5DMBK(under MMCBP) to ME5 is 0.4um

  X = M5DMBK  INTERACT  MMCBP
  EXT  X  ME5 < 0.4 ABUT<90 REGION
  AND  X  ME5
}

4.4.1H {@ MMCBP must be rectangular and orthogonal
   ANGLE  MMCBP >0<90
   VERTEX MMCBP >4
}

4.4.1I {@ Minimum spacing of MMCTP to VI5 is 0.3um

   EXT  MMCTP  MIM_VI5 < 0.3 ABUT<90  SINGULAR OVERLAP REGION
}

4.4.1J {@ Minimum MMCBP enclosure of MMCTP is 0.4um
   ENC MMCTP MMCBP < 0.4 ABUT OVERLAP OUTSIDE ALSO REGION
}

4.4.1K {@ MMCTP must be rectangular and orthogonal
   ANGLE   MMCTP >0<90
   VERTEX  MMCTP >4
}

4.4.1L {@ MMCTP and MMCBP  must touch two or more VI5 
 
    NOT  INTERACT  MMCTP  MIM_VI5  >= 2
    
    X = MMCBP  NOT  MMCTP
    
    NOT  INTERACT  X  MIM_VI5  >= 2 

}

4.4.1M.a {@ Maximum MMCTP width is 100um
   
   X = SIZE MMCTP BY -50
   SIZE X BY 50   

}

4.4.1M.b {@ Minimum MMCTP width is 2um
 
  INT MMCTP  < 2.0 ABUT<90 REGION  
 
}

4.4.1N {@ Minimum MMCTP spacing is 0.8um
   EXT MMCTP < 0.8 ABUT>0<90 SINGULAR REGION
}

4.4.1O {@ Minimum MMCTP enclosure of VI5 is 0.28um

  ENC  MIM_VI5  MMCTP  < 0.28 ABUT<90  SINGULAR OVERLAP REGION

}

4.4.1P {@ Minimum spacing of MMCTP to ME6 is 0.3um

  EXT  MMCTP  ME6  < 0.3  ABUT<90  SINGULAR  REGION
}

// 1Q


4.4.1R {@ Minimum ME6(over MMCBP) enclosure of VI5 is 0.5um

   X = ME6  INTERACT  MMCBP
   ENC  MIM_VI5  X  < 0.5  ABUT<90 REGION
}

  
//


4.4.1.NOTE1 {@ All Cu-Metal layers(which are not the UM layer) are also recommended to avoid touching MIMBP

   MMCBP   AND   ME5 
   MMCBP   AND   ME4 
   MMCBP   AND   ME3 
   MMCBP   AND   ME2 
   MMCBP   AND   ME1 
           
}             


//
//====================
//===  INDUCTOR    ===
//====================
//

ME6_IND = ME6 AND IND
ME5_IND = ME5 AND IND
ME4_IND = ME4 AND IND
ME3_IND = ME3 AND IND
ME2_IND = ME2 AND IND
ME1_IND = ME1 AND IND

//
  
4.4.2A.a.ME1 {@ Minimum ME1 width within IND  is 0.12um
   INT ME1_IND < 0.12 ABUT<90 PARALLEL ONLY REGION     
     
}

4.4.2A.b.ME2 {@ Minimum ME2 width for 1X metal within IND  is 0.14um
   INT ME2_IND < 0.14 ABUT<90 PARALLEL ONLY  REGION     
     
}

4.4.2A.b.ME3 {@ Minimum ME3 width for 1X metal within IND  is 0.14um
   INT ME3_IND < 0.14 ABUT<90 PARALLEL ONLY  REGION     
     
}

4.4.2A.b.ME4 {@ Minimum ME4 width for 1X metal within IND  is 0.14um
   INT ME4_IND < 0.14 ABUT<90 PARALLEL ONLY  REGION     
     
}

4.4.2A.b.ME5 {@ Minimum ME5 width for 1X metal within IND  is 0.14um
   INT ME5_IND < 0.14 ABUT<90 PARALLEL ONLY  REGION     
     
}

4.4.2A.c.ME6 {@ Minimum ME6 width for 2X metal within IND  is 0.28um
   INT ME6_IND < 0.28 ABUT<90 PARALLEL ONLY REGION     
     
}

//
  
4.4.2B.a.ME1 {@ Maximum ME1 width within IND  is 12um
   SIZE (SIZE ME1_IND BY -6) BY 6        
}

4.4.2B.b.ME2 {@ Maximum ME2 width for 1X metal within IND  is 12um
   SIZE (SIZE ME2_IND BY -6) BY 6         
}

4.4.2B.b.ME3 {@ Maximum ME3 width for 1X metal within IND  is 12um
   SIZE (SIZE ME3_IND BY -6) BY 6         
}

4.4.2B.b.ME4 {@ Maximum ME4 width for 1X metal within IND  is 12um
   SIZE (SIZE ME4_IND BY -6) BY 6         
}

4.4.2B.b.ME5 {@ Maximum ME5 width for 1X metal within IND  is 12um
   SIZE (SIZE ME5_IND BY -6) BY 6         
}

4.4.2B.c.ME6 {@ Maximum ME6 width for 2X metal within IND  is 14um
   SIZE (SIZE ME6_IND BY -7) BY 7           
}
  
4.4.2C.a.ME1 {@ Minimum ME1 spacing within IND  is 0.12um
   EXT ME1_IND < 0.12 ABUT>0<90 REGION          
}

4.4.2C.b.ME2 {@ Minimum 1X ME2 spacing within IND  is 0.14um
   EXT ME2_IND < 0.14 ABUT>0<90 REGION          
}

4.4.2C.b.ME3 {@ Minimum 1X ME3 spacing within IND  is 0.14um
   EXT ME3_IND < 0.14 ABUT>0<90 REGION          
}

4.4.2C.b.ME4 {@ Minimum 1X ME4 spacing within IND  is 0.14um
   EXT ME4_IND < 0.14 ABUT>0<90 REGION          
}

4.4.2C.b.ME5 {@ Minimum 1X ME5 spacing within IND  is 0.14um
   EXT ME5_IND < 0.14 ABUT>0<90 REGION          
}

4.4.2C.c.ME6 {@ Minimum 2X ME6 spacing within IND  is 0.28um
   EXT ME6_IND < 0.28 ABUT>0<90 REGION        
}


4.4.2D {@ Maximum IND width & length is 320um
   x = SIZE ( SIZE IND BY -160) BY 160 TRUNCATE 160
   IND AND x
   LENGTH  IND  > 320
}

4.4.2E {@ IND shapes must be orthogonal rectangle
   ANGLE  IND >0<90
   VERTEX IND >4
}


// 2F refer to 4.2.2

// 2G refer to 4.2.4

// 2H refer to 4.2.6



//  =============================
//  ===== METAL DENSITY RULE ====
//  =============================
// ***********************************************************************
// Notice: Following check just check the ration of metal to
//         its extent, For more acurate change rule to:
//         DENSITY Mx < 0.3 INSIDE OF x1 y1 x2 y2
//         x1 y1, x2 y2: coordinate of chip's low left and up right corner
// ***********************************************************************
//
GROUP METAL_DENSITY 4.2.1.DEN.??
//


MET1_ALL = ((ME1 OR M1DUMY) AND LIM1_LAY) NOT ((M1SLOT OR PADMARK) OR IND)
LIM1_LAY = (M1DMBK OR M1SLBK)  NOT  (PADMARK OR IND)
LIM1_EXTENT = EXTENT LIM1_LAY

//


4.2.1.DEN.1G.M1_LT20 {@ The Metal1 coverage must be larger than 20% over local 100um * 100um area step 50um within M1DMBK or M1SLBK      
    DENSITY MET1_ALL LIM1_LAY  INSIDE OF LAYER LIM1_EXTENT < 0.20 WINDOW 100 STEP 50 BACKUP  PRINT ME1_LT20_1G.DEN 
   [AREA(MET1_ALL)/AREA(LIM1_LAY)]  
}

4.2.1.DEN.1G.M1_GT80 {@ The Metal1 coverage must be less than 80% over local 100um * 100um area step 50um within M1DMBK or M1SLBK      
    DENSITY MET1_ALL LIM1_LAY INSIDE OF LAYER LIM1_EXTENT > 0.80 WINDOW 100 STEP 50 BACKUP   PRINT ME1_GT80_1G.DEN
   [AREA(MET1_ALL)/AREA(LIM1_LAY)]  
}

4.2.1.DEN.1H.M1 {@ The Metal1 coverage must be less than 80% over local 100um * 100um area step 50um without M1DMBK or M1SLBK
  
   MET1_X   = (ME1 OR M1DUMY)  NOT  (M1DMBK OR M1SLBK)
   LIM1_X   = DRC:1                  NOT  (M1DMBK OR M1SLBK)    
   
   DENSITY MET1_X LIM1_X INSIDE OF LAYER DRC:1 > 0.80 WINDOW 100 STEP 50 BACKUP  PRINT ME1_GT80_1H.DEN
   [AREA(MET1_X)/AREA(LIM1_X)]  
}

4.2.1.density.M1.sanity {@ The M1DMBK and M1SLBK must be the same size,if M1DMBK and M1SLBK are overlapped 
    
    X = M1DMBK  INTERACT  M1SLBK
    Y = M1SLBK  INTERACT  M1DMBK
    
    X  XOR  Y
}

4.2.1.density.Note1.M1  {@ Metal line is forbidden in CAD_RF_PAD_MARK area except for the top copper metal layer

  RFPADMK  AND  ME1

}


MET2_ALL = ((ME2 OR M2DUMY) AND LIM2_LAY) NOT ((M2SLOT OR PADMARK) OR IND)
LIM2_LAY = (M2DMBK OR M2SLBK)  NOT  (PADMARK OR IND)
LIM2_EXTENT = EXTENT LIM2_LAY

//


4.2.1.DEN.1G.M2_LT20 {@ The Metal2 coverage must be larger than 20% over local 100um * 100um area step 50um within M2DMBK or M2SLBK      
    DENSITY MET2_ALL LIM2_LAY  INSIDE OF LAYER LIM2_EXTENT < 0.20 WINDOW 100 STEP 50 BACKUP  PRINT ME2_LT20_1G.DEN 
   [AREA(MET2_ALL)/AREA(LIM2_LAY)]  
}

4.2.1.DEN.1G.M2_GT80 {@ The Metal2 coverage must be less than 80% over local 100um * 100um area step 50um within M2DMBK or M2SLBK      
    DENSITY MET2_ALL LIM2_LAY INSIDE OF LAYER LIM2_EXTENT > 0.80 WINDOW 100 STEP 50 BACKUP   PRINT ME2_GT80_1G.DEN
   [AREA(MET2_ALL)/AREA(LIM2_LAY)]  
}

4.2.1.DEN.1H.M2 {@ The Metal2 coverage must be less than 80% over local 100um * 100um area step 50um without M2DMBK or M2SLBK
  
   MET2_X   = (ME2 OR M2DUMY)  NOT  (M2DMBK OR M2SLBK)
   LIM2_X   = DRC:1                  NOT  (M2DMBK OR M2SLBK)    
   
   DENSITY MET2_X LIM2_X INSIDE OF LAYER DRC:1 > 0.80 WINDOW 100 STEP 50 BACKUP  PRINT ME2_GT80_1H.DEN
   [AREA(MET2_X)/AREA(LIM2_X)]  
}

4.2.1.density.M2.sanity {@ The M2DMBK and M2SLBK must be the same size,if M2DMBK and M2SLBK are overlapped 
    
    X = M2DMBK  INTERACT  M2SLBK
    Y = M2SLBK  INTERACT  M2DMBK
    
    X  XOR  Y
}

4.2.1.density.Note1.M2  {@ Metal line is forbidden in CAD_RF_PAD_MARK area except for the top copper metal layer

  RFPADMK  AND  ME2

}


MET3_ALL = ((ME3 OR M3DUMY) AND LIM3_LAY) NOT ((M3SLOT OR PADMARK) OR IND)
LIM3_LAY = (M3DMBK OR M3SLBK)  NOT  (PADMARK OR IND)
LIM3_EXTENT = EXTENT LIM3_LAY

//


4.2.1.DEN.1G.M3_LT20 {@ The Metal3 coverage must be larger than 20% over local 100um * 100um area step 50um within M3DMBK or M3SLBK      
    DENSITY MET3_ALL LIM3_LAY  INSIDE OF LAYER LIM3_EXTENT < 0.20 WINDOW 100 STEP 50 BACKUP  PRINT ME3_LT20_1G.DEN 
   [AREA(MET3_ALL)/AREA(LIM3_LAY)]  
}

4.2.1.DEN.1G.M3_GT80 {@ The Metal3 coverage must be less than 80% over local 100um * 100um area step 50um within M3DMBK or M3SLBK      
    DENSITY MET3_ALL LIM3_LAY INSIDE OF LAYER LIM3_EXTENT > 0.80 WINDOW 100 STEP 50 BACKUP   PRINT ME3_GT80_1G.DEN
   [AREA(MET3_ALL)/AREA(LIM3_LAY)]  
}

4.2.1.DEN.1H.M3 {@ The Metal3 coverage must be less than 80% over local 100um * 100um area step 50um without M3DMBK or M3SLBK
  
   MET3_X   = (ME3 OR M3DUMY)  NOT  (M3DMBK OR M3SLBK)
   LIM3_X   = DRC:1                  NOT  (M3DMBK OR M3SLBK)    
   
   DENSITY MET3_X LIM3_X INSIDE OF LAYER DRC:1 > 0.80 WINDOW 100 STEP 50 BACKUP  PRINT ME3_GT80_1H.DEN
   [AREA(MET3_X)/AREA(LIM3_X)]  
}

4.2.1.density.M3.sanity {@ The M3DMBK and M3SLBK must be the same size,if M3DMBK and M3SLBK are overlapped 
    
    X = M3DMBK  INTERACT  M3SLBK
    Y = M3SLBK  INTERACT  M3DMBK
    
    X  XOR  Y
}

4.2.1.density.Note1.M3  {@ Metal line is forbidden in CAD_RF_PAD_MARK area except for the top copper metal layer

  RFPADMK  AND  ME3

}


MET4_ALL = ((ME4 OR M4DUMY) AND LIM4_LAY) NOT ((M4SLOT OR PADMARK) OR IND)
LIM4_LAY = (M4DMBK OR M4SLBK)  NOT  (PADMARK OR IND)
LIM4_EXTENT = EXTENT LIM4_LAY

//


4.2.1.DEN.1G.M4_LT20 {@ The Metal4 coverage must be larger than 20% over local 100um * 100um area step 50um within M4DMBK or M4SLBK      
    DENSITY MET4_ALL LIM4_LAY  INSIDE OF LAYER LIM4_EXTENT < 0.20 WINDOW 100 STEP 50 BACKUP  PRINT ME4_LT20_1G.DEN 
   [AREA(MET4_ALL)/AREA(LIM4_LAY)]  
}

4.2.1.DEN.1G.M4_GT80 {@ The Metal4 coverage must be less than 80% over local 100um * 100um area step 50um within M4DMBK or M4SLBK      
    DENSITY MET4_ALL LIM4_LAY INSIDE OF LAYER LIM4_EXTENT > 0.80 WINDOW 100 STEP 50 BACKUP   PRINT ME4_GT80_1G.DEN
   [AREA(MET4_ALL)/AREA(LIM4_LAY)]  
}

4.2.1.DEN.1H.M4 {@ The Metal4 coverage must be less than 80% over local 100um * 100um area step 50um without M4DMBK or M4SLBK
  
   MET4_X   = (ME4 OR M4DUMY)  NOT  (M4DMBK OR M4SLBK)
   LIM4_X   = DRC:1                  NOT  (M4DMBK OR M4SLBK)    
   
   DENSITY MET4_X LIM4_X INSIDE OF LAYER DRC:1 > 0.80 WINDOW 100 STEP 50 BACKUP  PRINT ME4_GT80_1H.DEN
   [AREA(MET4_X)/AREA(LIM4_X)]  
}

4.2.1.density.M4.sanity {@ The M4DMBK and M4SLBK must be the same size,if M4DMBK and M4SLBK are overlapped 
    
    X = M4DMBK  INTERACT  M4SLBK
    Y = M4SLBK  INTERACT  M4DMBK
    
    X  XOR  Y
}

4.2.1.density.Note1.M4  {@ Metal line is forbidden in CAD_RF_PAD_MARK area except for the top copper metal layer

  RFPADMK  AND  ME4

}


MET5_ALL = ((ME5 OR M5DUMY) AND LIM5_LAY) NOT ((M5SLOT OR PADMARK) OR IND)
LIM5_LAY = (M5DMBK OR M5SLBK)  NOT  (PADMARK OR IND)
LIM5_EXTENT = EXTENT LIM5_LAY

//


4.2.1.DEN.1G.M5_LT20 {@ The Metal5 coverage must be larger than 20% over local 100um * 100um area step 50um within M5DMBK or M5SLBK      
    DENSITY MET5_ALL LIM5_LAY  INSIDE OF LAYER LIM5_EXTENT < 0.20 WINDOW 100 STEP 50 BACKUP  PRINT ME5_LT20_1G.DEN 
   [AREA(MET5_ALL)/AREA(LIM5_LAY)]  
}

4.2.1.DEN.1G.M5_GT80 {@ The Metal5 coverage must be less than 80% over local 100um * 100um area step 50um within M5DMBK or M5SLBK      
    DENSITY MET5_ALL LIM5_LAY INSIDE OF LAYER LIM5_EXTENT > 0.80 WINDOW 100 STEP 50 BACKUP   PRINT ME5_GT80_1G.DEN
   [AREA(MET5_ALL)/AREA(LIM5_LAY)]  
}

4.2.1.DEN.1H.M5 {@ The Metal5 coverage must be less than 80% over local 100um * 100um area step 50um without M5DMBK or M5SLBK
  
   MET5_X   = (ME5 OR M5DUMY)  NOT  (M5DMBK OR M5SLBK)
   LIM5_X   = DRC:1                  NOT  (M5DMBK OR M5SLBK)    
   
   DENSITY MET5_X LIM5_X INSIDE OF LAYER DRC:1 > 0.80 WINDOW 100 STEP 50 BACKUP  PRINT ME5_GT80_1H.DEN
   [AREA(MET5_X)/AREA(LIM5_X)]  
}

4.2.1.density.M5.sanity {@ The M5DMBK and M5SLBK must be the same size,if M5DMBK and M5SLBK are overlapped 
    
    X = M5DMBK  INTERACT  M5SLBK
    Y = M5SLBK  INTERACT  M5DMBK
    
    X  XOR  Y
}

4.2.1.density.Note1.M5  {@ Metal line is forbidden in CAD_RF_PAD_MARK area except for the top copper metal layer

  RFPADMK  AND  ME5

}


MET6_ALL = ((ME6 OR M6DUMY) AND LIM6_LAY) NOT ((((M6SLOT OR PADMARK) OR BOACMK) OR RFPADMK) OR IND)
LIM6_LAY = (M6DMBK OR M6SLBK)  NOT  (((PADMARK OR BOACMK) OR RFPADMK) OR IND)
LIM6_EXTENT = EXTENT LIM6_LAY

//

4.2.1.DEN.1G.M6_LT20 {@ The Metal6 coverage must be larger than 20% over local 100um * 100um area step 50um within M6DMBK or M6SLBK      
    DENSITY MET6_ALL LIM6_LAY  INSIDE OF LAYER LIM6_EXTENT < 0.20 WINDOW 100 STEP 50 BACKUP  PRINT ME6_LT20_1G.DEN 
   [AREA(MET6_ALL)/AREA(LIM6_LAY)]  
}

4.2.1.DEN.1G.M6_GT80 {@ The Metal6 coverage must be less than 80% over local 100um * 100um area step 50um within M6DMBK or M6SLBK      
    DENSITY MET6_ALL LIM6_LAY INSIDE OF LAYER LIM6_EXTENT > 0.80 WINDOW 100 STEP 50 BACKUP   PRINT ME6_GT80_1G.DEN
   [AREA(MET6_ALL)/AREA(LIM6_LAY)]  
}

4.2.1.DEN.1H.M6 {@ The Metal6 coverage must be less than 80% over local 100um * 100um area step 50um without M6DMBK or M6SLBK
  
   MET6_X   = (ME6 OR M6DUMY)  NOT  (M6DMBK OR M6SLBK)
   LIM6_X   = DRC:1                  NOT  (M6DMBK OR M6SLBK)    
   
   DENSITY MET6_X LIM6_X INSIDE OF LAYER DRC:1 > 0.80 WINDOW 100 STEP 50 BACKUP  PRINT ME6_GT80_1H.DEN
   [AREA(MET6_X)/AREA(LIM6_X)]  
}

4.2.1.density.M6.sanity {@ The M6DMBK and M6SLBK must be the same size,if M6DMBK and M6SLBK are overlapped 
    
    X = M6DMBK  INTERACT  M6SLBK
    Y = M6SLBK  INTERACT  M6DMBK
    
    X  XOR  Y
}  
   


//
// =============================
// ====== SEAL RING RULE  ======
// =============================
// ********************************************
// Followin checks just for your reference
// SEALRMARK may not cover whole chip, it may be
// cause false errors
// ********************************************
//

GROUP SEAL_RING_RULES 5.1? 5.2?

//

SEALR_TEMP  = EXTENT SEALRMARK
PASV_RING   = DONUT  PASV_RDL  
SEAL_AREA   = (SIZE ( SIZE SEALR_TEMP BY 1.0 ) BY -1.0) OR PASV_RING

ASEAL_RING = INT SEAL_AREA < 150 ABUT == 90 REGION
BSEAL_RING = EXTENTS ASEAL_RING

//

5.1.DIFF {@ Die seal ring rule 1, DIFF must draw with 135 angle
         SEALR_DIFF   = DIFF_SEAL_RING AND         BSEAL_RING
	 SEALR_DIFF_E = SEALR_DIFF     INSIDE EDGE BSEAL_RING
	 a = EXT [SEALR_DIFF_E] SEALR_DIFF < 5 ABUT==135
         b = INT [SEALR_DIFF_E] SEALR_DIFF < 5 ABUT==135
         c = SEALR_DIFF_E NOT TOUCH EDGE a
         c NOT TOUCH EDGE b
}

5.1.CONTBAR {@ Die seal ring rule 1, CONT bar must draw with 135 angle
        SEALR_CONT_BAR   = CONTBAR_SEAL_RING  AND         BSEAL_RING
        SEALR_CONT_BAR_E = SEALR_CONT_BAR     INSIDE EDGE BSEAL_RING
        a = EXT [SEALR_CONT_BAR_E] < 5 ABUT==135
        b = INT [SEALR_CONT_BAR_E] < 5 ABUT==135
        c = SEALR_CONT_BAR_E NOT TOUCH EDGE a
        c NOT TOUCH EDGE b
}

5.1.ME1 {@ Die seal ring rule 1, ME1 bar must draw with 135 angle
         SEALR_ME1 = ME1_SEAL_RING AND         BSEAL_RING
	 SEALR_ME1_E = SEALR_ME1   INSIDE EDGE BSEAL_RING
         a = EXT [SEALR_ME1_E] < 5 ABUT==135
         b = INT [SEALR_ME1_E] < 5 ABUT==135
         c = SEALR_ME1_E NOT TOUCH EDGE a
         c NOT TOUCH EDGE b
}

 
 
5.1.VI1 {@ Die seal ring rule 1, VI1 bar must draw with 135 angle
         SEALR_VI1   = VI1_SEAL_RING    AND           BSEAL_RING
         SEALR_VI1_E = SEALR_VI1       INSIDE EDGE    BSEAL_RING     
         a = EXT [SEALR_VI1_E] < 5 ABUT==135
         b = INT [SEALR_VI1_E] < 5 ABUT==135
         c = SEALR_VI1_E NOT TOUCH EDGE a
         c NOT TOUCH EDGE b
}
 
5.1.ME2 {@ Die seal ring rule 1, ME2 bar must draw with 135 angle
         SEALR_ME2   = ME2_SEAL_RING AND         BSEAL_RING
         SEALR_ME2_E = SEALR_ME2     INSIDE EDGE BSEAL_RING         
         a = EXT [SEALR_ME2_E] < 5 ABUT==135
         b = INT [SEALR_ME2_E] < 5 ABUT==135
         c = SEALR_ME2_E NOT TOUCH EDGE a
         c NOT TOUCH EDGE b
}
 
 
 
5.1.VI2 {@ Die seal ring rule 1, VI2 bar must draw with 135 angle
         SEALR_VI2   = VI2_SEAL_RING    AND           BSEAL_RING
         SEALR_VI2_E = SEALR_VI2       INSIDE EDGE    BSEAL_RING     
         a = EXT [SEALR_VI2_E] < 5 ABUT==135
         b = INT [SEALR_VI2_E] < 5 ABUT==135
         c = SEALR_VI2_E NOT TOUCH EDGE a
         c NOT TOUCH EDGE b
}
 
5.1.ME3 {@ Die seal ring rule 1, ME3 bar must draw with 135 angle
         SEALR_ME3   = ME3_SEAL_RING AND         BSEAL_RING
         SEALR_ME3_E = SEALR_ME3     INSIDE EDGE BSEAL_RING         
         a = EXT [SEALR_ME3_E] < 5 ABUT==135
         b = INT [SEALR_ME3_E] < 5 ABUT==135
         c = SEALR_ME3_E NOT TOUCH EDGE a
         c NOT TOUCH EDGE b
}
 
 
 
5.1.VI3 {@ Die seal ring rule 1, VI3 bar must draw with 135 angle
         SEALR_VI3   = VI3_SEAL_RING    AND           BSEAL_RING
         SEALR_VI3_E = SEALR_VI3       INSIDE EDGE    BSEAL_RING     
         a = EXT [SEALR_VI3_E] < 5 ABUT==135
         b = INT [SEALR_VI3_E] < 5 ABUT==135
         c = SEALR_VI3_E NOT TOUCH EDGE a
         c NOT TOUCH EDGE b
}
 
5.1.ME4 {@ Die seal ring rule 1, ME4 bar must draw with 135 angle
         SEALR_ME4   = ME4_SEAL_RING AND         BSEAL_RING
         SEALR_ME4_E = SEALR_ME4     INSIDE EDGE BSEAL_RING         
         a = EXT [SEALR_ME4_E] < 5 ABUT==135
         b = INT [SEALR_ME4_E] < 5 ABUT==135
         c = SEALR_ME4_E NOT TOUCH EDGE a
         c NOT TOUCH EDGE b
}
 
 
 
5.1.VI4 {@ Die seal ring rule 1, VI4 bar must draw with 135 angle
         SEALR_VI4   = VI4_SEAL_RING    AND           BSEAL_RING
         SEALR_VI4_E = SEALR_VI4       INSIDE EDGE    BSEAL_RING     
         a = EXT [SEALR_VI4_E] < 5 ABUT==135
         b = INT [SEALR_VI4_E] < 5 ABUT==135
         c = SEALR_VI4_E NOT TOUCH EDGE a
         c NOT TOUCH EDGE b
}
 
5.1.ME5 {@ Die seal ring rule 1, ME5 bar must draw with 135 angle
         SEALR_ME5   = ME5_SEAL_RING AND         BSEAL_RING
         SEALR_ME5_E = SEALR_ME5     INSIDE EDGE BSEAL_RING         
         a = EXT [SEALR_ME5_E] < 5 ABUT==135
         b = INT [SEALR_ME5_E] < 5 ABUT==135
         c = SEALR_ME5_E NOT TOUCH EDGE a
         c NOT TOUCH EDGE b
}
 
 
 
5.1.VI5 {@ Die seal ring rule 1, VI5 bar must draw with 135 angle
         SEALR_VI5   = VI5_SEAL_RING    AND           BSEAL_RING
         SEALR_VI5_E = SEALR_VI5       INSIDE EDGE    BSEAL_RING     
         a = EXT [SEALR_VI5_E] < 5 ABUT==135
         b = INT [SEALR_VI5_E] < 5 ABUT==135
         c = SEALR_VI5_E NOT TOUCH EDGE a
         c NOT TOUCH EDGE b
}
 
5.1.ME6 {@ Die seal ring rule 1, ME6 bar must draw with 135 angle
         SEALR_ME6   = ME6_SEAL_RING AND         BSEAL_RING
         SEALR_ME6_E = SEALR_ME6     INSIDE EDGE BSEAL_RING         
         a = EXT [SEALR_ME6_E] < 5 ABUT==135
         b = INT [SEALR_ME6_E] < 5 ABUT==135
         c = SEALR_ME6_E NOT TOUCH EDGE a
         c NOT TOUCH EDGE b
}
 
 
 
5.1.TMV_RDL {@ Die seal ring rule 1, TMV_RDL bar must draw with 135 angle
         SEALR_TMV_RDL   = TMV_SEAL_RING AND         BSEAL_RING
	 SEALR_TMV_RDL_E = SEALR_TMV_RDL INSIDE EDGE BSEAL_RING
         a = EXT [SEALR_TMV_RDL_E] < 3.5 ABUT==135
         b = INT [SEALR_TMV_RDL_E] < 3.5 ABUT==135
         c = SEALR_TMV_RDL_E NOT TOUCH EDGE a
         c NOT TOUCH EDGE b
}
 
5.1.AL_RDL {@ Die seal ring rule 1, AL_RDL bar must draw with 135 angle
         SEALR_AL_RDL   = AL_SEAL_RING AND         BSEAL_RING
	 SEALR_AL_RDL_E = SEALR_AL_RDL INSIDE EDGE BSEAL_RING
         a = EXT [SEALR_AL_RDL_E] < 3.5 ABUT==135
         b = INT [SEALR_AL_RDL_E] < 3.5 ABUT==135
         c = SEALR_AL_RDL_E NOT TOUCH EDGE a
         c NOT TOUCH EDGE b

}
 
//

DIFF_SEAL_RING     = (DIFF      INTERACT   SEALRMARK)  INTERACT  CONTBAR  // ignore filler 
DIFF_OUT_SRING     = DIFF       OUTSIDE    SEALRMARK
CONTBAR_SEAL_RING  = CONTBAR    INSIDE     SEALRMARK
ME1_OUT_SRING      = ME1        OUTSIDE    SEALRMARK
VI1_SEAL_RING      = VI1BAR     INSIDE     SEALRMARK
VI1_OUT_SRING      = VI1        OUTSIDE    SEALRMARK

ME1_SEAL_RING      = (ME1   INTERACT   SEALRMARK) INTERACT VI1BAR
 
ME2_SEAL_RING   = (ME2  INTERACT SEALRMARK)  INTERACT VI1BAR

ME2_OUT_SRING   = ME2     OUTSIDE SEALRMARK
VI2_OUT_SRING   = VI2     OUTSIDE SEALRMARK
VI2_SEAL_RING   = VI2BAR  INSIDE  SEALRMARK
ME3_SEAL_RING   = (ME3  INTERACT SEALRMARK)  INTERACT VI2BAR

ME3_OUT_SRING   = ME3     OUTSIDE SEALRMARK
VI3_OUT_SRING   = VI3     OUTSIDE SEALRMARK
VI3_SEAL_RING   = VI3BAR  INSIDE  SEALRMARK
ME4_SEAL_RING   = (ME4  INTERACT SEALRMARK)  INTERACT VI3BAR

ME4_OUT_SRING   = ME4     OUTSIDE SEALRMARK
VI4_OUT_SRING   = VI4     OUTSIDE SEALRMARK
VI4_SEAL_RING   = VI4BAR  INSIDE  SEALRMARK
ME5_SEAL_RING   = (ME5  INTERACT SEALRMARK)  INTERACT VI4BAR

ME5_OUT_SRING   = ME5     OUTSIDE SEALRMARK
VI5_OUT_SRING   = VI5     OUTSIDE SEALRMARK
VI5_SEAL_RING   = VI5BAR  INSIDE  SEALRMARK
ME6_SEAL_RING   = (ME6  INTERACT  SEALRMARK) INTERACT VI5_SEAL_RING 

ME6_OUT_SRING   = ME6   OUTSIDE  SEALRMARK
TMV_SEAL_RING      = TMVBAR     INTERACT   SEALRMARK
AL_SEAL_RING       = AL_RDL     INTERACT   SEALRMARK
PASV_SEAL_RING     = PASV_RDL   INTERACT   SEALRMARK
 
DIE_SEAL_WIDTH  = DIFF_SEAL_RING OR ME1_SEAL_RING
 
OUTER_DIE_SEAL = DIE_SEAL_WIDTH TOUCH (HOLES DIE_SEAL_WIDTH)

SEAL_AREA_3 = SIZE SEALRMARK BY 3

PASV_RDL_RING = PASV_RDL  INTERACT  OUTER_DIE_SEAL

CENTER_LINE = SIZE  ME1_SEAL_RING  BY  -1.5

OUTER_DIE_SEAL_PASVRDL = PASV_RDL INTERACT  OUTER_DIE_SEAL

//

5.2A.a {@ Minimum dimension of an DIFF region is 4.5um
  E = INT DIFF_SEAL_RING < 4.5 ABUT>0<90 SINGULAR REGION
  E AND SEALRMARK
}
 
5.2A.b {@ Maximum DIFF width is 6.5 um
  X = SIZE DIFF_SEAL_RING BY -3.251
  E = SIZE x BY 3.251
  E AND SEALRMARK
}
 
5.2B {@ Minimum DIFF overlap CONT bar is 0.16um
  E = ENC CONTBAR_SEAL_RING DIFF_SEAL_RING < 0.16 ABUT<90 SINGULAR  OVERLAP OUTSIDE ALSO REGION
  E AND SEALRMARK
}
 
5.2C {@ Minimum and maximum width of a CONT region is 0.12um
  E = INT CONTBAR_SEAL_RING < 0.12 ABUT>0<90 SINGULAR REGION
  E AND SEALRMARK
}

5.2C.a {@ Minimum and maximum width of a CONT region is 0.12um
  E = SIZE ( SIZE CONTBAR_SEAL_RING BY -0.061 ) BY 0.061 TRUNCATE 0.061
  E AND SEALRMARK
}
 
5.2D {@ Minimum space between two CONT regions is 1.50um
  E = EXT CONTBAR_SEAL_RING < 1.50 ABUT>0<90 SINGULAR REGION
  E AND SEALRMARK
}
 
5.2E {@ Minimum width of ME1 region is 4.5um
  E = INT ME1_SEAL_RING < 4.5 ABUT>0<90 SINGULAR REGION
  E  AND  SEALRMARK
}
 
5.2E.a {@ Maximum width of ME1 region is 4.5um
  E = SIZE ( SIZE ME1_SEAL_RING BY -2.251 ) BY 2.251 TRUNCATE 2.251
  E  AND  SEALRMARK
}

5.2F {@ Minimum ME1 overlap CONT is 0.16um
  E = ENC CONTBAR_SEAL_RING ME1_SEAL_RING < 0.16 ABUT REGION
  E  AND  SEALRMARK
}


5.2U.a.M2 {@ Minimum width of ME2 region is 3.0um
  E = INT ME2_SEAL_RING < 3.0 ABUT>0<90 SINGULAR REGION
  E  AND SEALRMARK
}
 
5.2U.b.M2 {@ Maximum width of ME2 region is 4.5um
  E =  SIZE ( SIZE ME2_SEAL_RING BY -2.251 ) BY 2.251 TRUNCATE 2.251
  E  AND SEALRMARK
}

5.2U.c.M21 {@ ME2 width < ME1 width
  E = ME2_SEAL_RING  NOT  ME1_SEAL_RING
  E  AND SEALRMARK
} 


5.2U.a.M3 {@ Minimum width of ME3 region is 3.0um
  E = INT ME3_SEAL_RING < 3.0 ABUT>0<90 SINGULAR REGION
  E  AND SEALRMARK
}
 
5.2U.b.M3 {@ Maximum width of ME3 region is 4.5um
  E =  SIZE ( SIZE ME3_SEAL_RING BY -2.251 ) BY 2.251 TRUNCATE 2.251
  E  AND SEALRMARK
}

5.2U.c.M32 {@ ME3 width < ME2 width
  E = ME3_SEAL_RING  NOT  ME2_SEAL_RING
  E  AND SEALRMARK
} 


5.2U.a.M4 {@ Minimum width of ME4 region is 3.0um
  E = INT ME4_SEAL_RING < 3.0 ABUT>0<90 SINGULAR REGION
  E  AND SEALRMARK
}
 
5.2U.b.M4 {@ Maximum width of ME4 region is 4.5um
  E =  SIZE ( SIZE ME4_SEAL_RING BY -2.251 ) BY 2.251 TRUNCATE 2.251
  E  AND SEALRMARK
}

5.2U.c.M43 {@ ME4 width < ME3 width
  E = ME4_SEAL_RING  NOT  ME3_SEAL_RING
  E  AND SEALRMARK
} 


5.2U.a.M5 {@ Minimum width of ME5 region is 3.0um
  E = INT ME5_SEAL_RING < 3.0 ABUT>0<90 SINGULAR REGION
  E  AND SEALRMARK
}
 
5.2U.b.M5 {@ Maximum width of ME5 region is 4.5um
  E =  SIZE ( SIZE ME5_SEAL_RING BY -2.251 ) BY 2.251 TRUNCATE 2.251
  E  AND SEALRMARK
}

5.2U.c.M54 {@ ME5 width < ME4 width
  E = ME5_SEAL_RING  NOT  ME4_SEAL_RING
  E  AND SEALRMARK
} 


5.2U.c.M65 {@ ME6 width < ME5 width
  E = ME6_SEAL_RING  NOT  ME5_SEAL_RING
  E  AND SEALRMARK
}  


5.2G.V1 {@ Minimum width of VI1 region is 0.14um
  E = INT VI1_SEAL_RING < 0.14 ABUT>0<90 SINGULAR REGION
  E AND SEALRMARK
}
 
5.2G.a.V1 {@ Maximum width of VI1 region is 0.14um
  E = SIZE ( SIZE VI1_SEAL_RING BY -0.071 )  BY 0.071 TRUNCATE 0.071
  E AND SEALRMARK
}
 
5.2H.V1 {@ Minimum space between two VI1 regions is 1.3um
  E = EXT VI1_SEAL_RING < 1.3 ABUT>0<90 SINGULAR REGION
  E AND SEALRMARK
}
 
5.2I.M1 {@ Minimum ME1 overlap VI1 is 0.16um
  E = ENC VI1_SEAL_RING ME1_SEAL_RING < 0.16 ABUT SINGULAR OUTSIDE ALSO REGION
  E AND SEALRMARK
}

5.2G.V2 {@ Minimum width of VI2 region is 0.14um
  E = INT VI2_SEAL_RING < 0.14 ABUT>0<90 SINGULAR REGION
  E AND SEALRMARK
}
 
5.2G.a.V2 {@ Maximum width of VI2 region is 0.14um
  E = SIZE ( SIZE VI2_SEAL_RING BY -0.071 )  BY 0.071 TRUNCATE 0.071
  E AND SEALRMARK
}
 
5.2H.V2 {@ Minimum space between two VI2 regions is 1.3um
  E = EXT VI2_SEAL_RING < 1.3 ABUT>0<90 SINGULAR REGION
  E AND SEALRMARK
}
 
5.2I.M2 {@ Minimum ME2 overlap VI2 is 0.16um
  E = ENC VI2_SEAL_RING ME2_SEAL_RING < 0.16 ABUT SINGULAR OUTSIDE ALSO REGION
  E AND SEALRMARK
}

5.2G.V3 {@ Minimum width of VI3 region is 0.14um
  E = INT VI3_SEAL_RING < 0.14 ABUT>0<90 SINGULAR REGION
  E AND SEALRMARK
}
 
5.2G.a.V3 {@ Maximum width of VI3 region is 0.14um
  E = SIZE ( SIZE VI3_SEAL_RING BY -0.071 )  BY 0.071 TRUNCATE 0.071
  E AND SEALRMARK
}
 
5.2H.V3 {@ Minimum space between two VI3 regions is 1.3um
  E = EXT VI3_SEAL_RING < 1.3 ABUT>0<90 SINGULAR REGION
  E AND SEALRMARK
}
 
5.2I.M3 {@ Minimum ME3 overlap VI3 is 0.16um
  E = ENC VI3_SEAL_RING ME3_SEAL_RING < 0.16 ABUT SINGULAR OUTSIDE ALSO REGION
  E AND SEALRMARK
}

5.2G.V4 {@ Minimum width of VI4 region is 0.14um
  E = INT VI4_SEAL_RING < 0.14 ABUT>0<90 SINGULAR REGION
  E AND SEALRMARK
}
 
5.2G.a.V4 {@ Maximum width of VI4 region is 0.14um
  E = SIZE ( SIZE VI4_SEAL_RING BY -0.071 )  BY 0.071 TRUNCATE 0.071
  E AND SEALRMARK
}
 
5.2H.V4 {@ Minimum space between two VI4 regions is 1.3um
  E = EXT VI4_SEAL_RING < 1.3 ABUT>0<90 SINGULAR REGION
  E AND SEALRMARK
}
 
5.2I.M4 {@ Minimum ME4 overlap VI4 is 0.16um
  E = ENC VI4_SEAL_RING ME4_SEAL_RING < 0.16 ABUT SINGULAR OUTSIDE ALSO REGION
  E AND SEALRMARK
}


5.2K.V5 {@ Minimum width of VI5 region is 0.28um
  E = INT VI5_SEAL_RING < 0.28 ABUT>0<90 SINGULAR REGION
  E AND SEALRMARK
}
 
5.2K.a.V5 {@ Maximum width of VI5 region is 0.28um
  E = SIZE ( SIZE VI5_SEAL_RING BY -0.141 ) BY 0.141 TRUNCATE 0.141
  E AND SEALRMARK
}
 
5.2L.V5 {@ Minimum space between two VI5 regions is 1.5um
  E = EXT VI5_SEAL_RING < 1.5 ABUT>0<90 SINGULAR REGION
  E AND SEALRMARK 
}
 
5.2M.V5 {@ Minimum ME5 overlap VI5 is 0.32um
  E = ENC VI5_SEAL_RING ME5_SEAL_RING < 0.32 ABUT<90 SINGULAR OUTSIDE ALSO REGION
  E AND SEALRMARK
}


5.2JA.M2 {@ Minimum ME2 overlap VI1 is 0.10um
  E = ENC VI1_SEAL_RING ME2_SEAL_RING < 0.10 ABUT SINGULAR OUTSIDE ALSO REGION
  E AND SEALRMARK
}

5.2JA.M3 {@ Minimum ME3 overlap VI2 is 0.10um
  E = ENC VI2_SEAL_RING ME3_SEAL_RING < 0.10 ABUT SINGULAR OUTSIDE ALSO REGION
  E AND SEALRMARK
}

5.2JA.M4 {@ Minimum ME4 overlap VI3 is 0.10um
  E = ENC VI3_SEAL_RING ME4_SEAL_RING < 0.10 ABUT SINGULAR OUTSIDE ALSO REGION
  E AND SEALRMARK
}

5.2JA.M5 {@ Minimum ME5 overlap VI4 is 0.10um
  E = ENC VI4_SEAL_RING ME5_SEAL_RING < 0.10 ABUT SINGULAR OUTSIDE ALSO REGION
  E AND SEALRMARK
}

5.2JA.M6 {@ Minimum ME6 overlap VI5 is 0.10um
  E = ENC VI5_SEAL_RING ME6_SEAL_RING < 0.10 ABUT SINGULAR OUTSIDE ALSO REGION
  E AND SEALRMARK
}

5.2P.M6 {@ Minimum width of ME6 region is 3.0um
 E =  INT ME6_SEAL_RING < 3.0 ABUT>0<90 SINGULAR REGION
 E  AND  SEALRMARK
}
 
5.2P.a.M6 {@ Maximum width of ME6 region is 3.0um
 E =  SIZE ( SIZE ME6_SEAL_RING BY -1.501 ) BY 1.501 TRUNCATE 1.501
 E  AND  SEALRMARK
}

 
5.2Q {@ Minimum width of TMV region is 2.3um
  E = INT TMV_SEAL_RING < 2.3 ABUT>0<90 SINGULAR REGION
  E AND SEALRMARK
}
 
5.2Q.a {@ Maximum width of TMV region is 2.3um
  E = SIZE ( SIZE TMV_SEAL_RING BY -1.151 ) BY 1.151  TRUNCATE 1.151
  E AND SEALRMARK
}


5.2R {@ Minimum ME6 overlap TMV is 0.35um 
   E = ENC TMV_SEAL_RING ME6 < 0.35 ABUT SINGULAR OUTSIDE ALSO REGION
   E AND SEALRMARK
}

5.2R.a {@ Max ME6 overlap TMV is 0.35um
   X =  SIZE TMV_SEAL_RING BY 0.35  TRUNCATE 0.35
   E1 = ME6_SEAL_RING NOT X
   E2 = X NOT ME6_SEAL_RING
   (E1 OR E2) AND SEALRMARK
} 


5.2S {@ Minimum width of AL_RDL region is 3.0um
  E = INT AL_SEAL_RING < 3.0 ABUT>0<90 SINGULAR REGION
  E AND SEALRMARK
}
 
5.2S.a {@ Maximum width of AL_RDL region is 3.0um
  E = SIZE ( SIZE AL_SEAL_RING BY -1.501 ) BY 1.501 TRUNCATE 1.501
  E AND SEALRMARK
}
 
5.2T {@ Minimum AL_RDL overlap TMV is 0.35um
  E = ENC TMV_SEAL_RING AL_SEAL_RING < 0.35 ABUT<90 SINGULAR OUTSIDE ALSO REGION
  E AND SEALRMARK
}

5.2T.a {@ Minimum AL_RDL overlap TMV is 0.35um
   X = SIZE TMV_SEAL_RING BY 0.35 TRUNCATE 0.35
   E1 = AL_SEAL_RING NOT X
   E2 = X NOT AL_SEAL_RING
   (E1 OR E2) AND SEALRMARK
}
 
 
5.2W {@ Minimum Die Seal Ring width is 4.5um
  E = INT DIE_SEAL_WIDTH < 4.5 ABUT>0<90 SINGULAR REGION
  E AND SEALRMARK
}
 
5.2X {@ Minimum space between two Seal ring regions is 2.0um
  EXT DIE_SEAL_WIDTH < 2.0 ABUT>0<90 SINGULAR REGION
}

5.2Y.DIFF {@ Minimum diffusion in active circuit to die seal ring spacing 3.0um
     SEAL_AREA_3 AND DIFF_OUT_SRING
}

5.2Y.PO1 {@ Minimum POLY in active circuit to die seal ring spacing 3.0um
     SEAL_AREA_3 AND PO1 
}

5.2Y.CONT {@ Minimum contact in active circuit to die seal ring spacing 3.0um
     SEAL_AREA_3 AND (CONT OUTSIDE SEALRMARK)
}


5.2Y.VI1 {@ Minimum vi1 in active circuit to die seal ring spacing 3.0um
     SEAL_AREA_3 AND VI1_OUT_SRING
}


5.2Y.VI2 {@ Minimum vi2 in active circuit to die seal ring spacing 3.0um
     SEAL_AREA_3 AND VI2_OUT_SRING
}


5.2Y.VI3 {@ Minimum vi3 in active circuit to die seal ring spacing 3.0um
     SEAL_AREA_3 AND VI3_OUT_SRING
}


5.2Y.VI4 {@ Minimum vi4 in active circuit to die seal ring spacing 3.0um
     SEAL_AREA_3 AND VI4_OUT_SRING
}


5.2Y.VI5 {@ Minimum vi5 in active circuit to die seal ring spacing 3.0um
     SEAL_AREA_3 AND VI5_OUT_SRING
}


5.2Y.ME1 {@ Minimum metal-1 in active circuit to die seal ring spacing 3.0um
     SEAL_AREA_3 AND ME1_OUT_SRING
}


5.2Y.ME2 {@ Minimum metal-2 in active circuit to die seal ring spacing 3.0um
     SEAL_AREA_3 AND ME2_OUT_SRING
}


5.2Y.ME3 {@ Minimum metal-3 in active circuit to die seal ring spacing 3.0um
     SEAL_AREA_3 AND ME3_OUT_SRING
}


5.2Y.ME4 {@ Minimum metal-4 in active circuit to die seal ring spacing 3.0um
     SEAL_AREA_3 AND ME4_OUT_SRING
}


5.2Y.ME5 {@ Minimum metal-5 in active circuit to die seal ring spacing 3.0um
     SEAL_AREA_3 AND ME5_OUT_SRING
}


5.2Y.ME6 {@ Minimum metal-6 in active circuit to die seal ring spacing 3.0um
     SEAL_AREA_3 AND ME6_OUT_SRING
}

   
5.2Z {@ PASV_RDL ring must be inserted over outer die seal ring 
        
   OUTER_DIE_SEAL NOT ENCLOSE PASV_RDL     
}

5.2Z.a {@ Exact width of PASV_RDL ring is 2.0um

   E1 = INT  OUTER_DIE_SEAL_PASVRDL  < 2.0  ABUT>0<90  SINGULAR REGION   
   E2 = SIZE ( SIZE OUTER_DIE_SEAL_PASVRDL BY -1.001 ) BY 1.001 TRUNCATE 1.001 
   (E1 OR E2) AND SEALRMARK
}

5.2AA {@ Minimum AL_RDL enclosure of PASV_RDL is 0.5um

   E = ENC  OUTER_DIE_SEAL_PASVRDL   AL_RDL   < 0.5  ABUT<90  SINGULAR  REGION 
   E AND SEALRMARK
}

5.2AB.V43 {@ Minimum spacing of VI4 bar to  VI3 bar spacing only for central 1X via bar is 0.2um
  CENTER_VI4 = VI4_SEAL_RING  INTERACT  CENTER_LINE
  CENTER_VI3 = VI3_SEAL_RING  INTERACT  CENTER_LINE 
  
  EXT  CENTER_VI4  CENTER_VI3  < 0.2  ABUT<90 REGION
  AND  CENTER_VI4  CENTER_VI3
}  

5.2AB.V32 {@ Minimum spacing of VI3 bar to  VI2 bar spacing only for central 1X via bar is 0.2um
  CENTER_VI3 = VI3_SEAL_RING  INTERACT  CENTER_LINE
  CENTER_VI2 = VI2_SEAL_RING  INTERACT  CENTER_LINE 
  
  EXT  CENTER_VI3  CENTER_VI2  < 0.2  ABUT<90 REGION
  AND  CENTER_VI3  CENTER_VI2
}  

5.2AB.V21 {@ Minimum spacing of VI2 bar to  VI1 bar spacing only for central 1X via bar is 0.2um
  CENTER_VI2 = VI2_SEAL_RING  INTERACT  CENTER_LINE
  CENTER_VI1 = VI1_SEAL_RING  INTERACT  CENTER_LINE 
  
  EXT  CENTER_VI2  CENTER_VI1  < 0.2  ABUT<90 REGION
  AND  CENTER_VI2  CENTER_VI1
}  


5.2AC  {@ P+ must be implanted on diffusion layer of die seal ring

     DIFF_SEAL_RING  NOT  PPLUS
} 


// 
// =============================
// ====== DIE CORNER RULE ======
// =============================
// ********************************************
// Followin checks just for your reference
// AL_RDL may not cover whole chip, it may be
// cause false errors
// ********************************************
//

GROUP DIE_CORNER_CHECK_SEARING 6?_SR

GROUP DIE_CORNER_CHECK_WITHOUT_SEARING 6?_NSR

CHIP_SR  = DRC:1      INTERACT SEALRMARK
CHIP_NSR = DRC:1  NOT INTERACT SEALRMARK

ACTIVE_REGION  = HOLES SEALRMARK


ADIE_CORNER_TRI_SR =  INT CHIP_SR < 150  ABUT == 90 REGION
BDIE_CORNER_TRI_SR =  INT CHIP_SR < 151  ABUT == 90 REGION

ADIE_CORNER_SR  =  EXTENTS  ADIE_CORNER_TRI_SR
BDIE_CORNER_SR  =  EXTENTS  BDIE_CORNER_TRI_SR

// Die seal ring add by UMC corner = 151 -85 

ADIE_CORNER_TRI_NSR_UMC =  INT CHIP_NSR < 66  ABUT == 90 REGION
BDIE_CORNER_TRI_NSR_UMC =  INT CHIP_NSR < 67  ABUT == 90 REGION

ADIE_CORNER_NSR  =  EXTENTS  ADIE_CORNER_TRI_NSR_UMC
BDIE_CORNER_NSR  =  EXTENTS  BDIE_CORNER_TRI_NSR_UMC


//


6A.AL_SR {@ Die corner rule 1, AL_RDL must draw with 135 angle
  
   CORNER_AL_RDL = (AL_RDL AND BDIE_CORNER_SR) AND  ACTIVE_REGION
   
   a = EXT  CORNER_AL_RDL < 0.1 ABUT != 135 REGION    
   b = INT  CORNER_AL_RDL < 0.1 ABUT != 135 REGION
    	 
   (a OR b) AND  ADIE_CORNER_SR
}


6A.AL_NSR {@ Die corner rule 1, AL_RDL must draw with 135 angle
	
     CORNER_AL_RDL  =  AL_RDL AND  BDIE_CORNER_NSR
     
     a = EXT  CORNER_AL_RDL < 0.1 ABUT != 135 REGION    
     b = INT  CORNER_AL_RDL < 0.1 ABUT != 135 REGION
     
     (a OR b)  AND  ADIE_CORNER_NSR

}

 
 
6A.ME1_SR {@ Die corner rule 1, ME1 must draw with 135 angle
	 
    CORNER_MET1    = (ME1 AND BDIE_CORNER_SR) AND ACTIVE_REGION 
      
    a = INT  CORNER_MET1  < 0.1 ABUT != 135 REGION
    b = EXT  CORNER_MET1  < 0.1 ABUT != 135 REGION
	
    (a OR b) AND  ADIE_CORNER_SR
}

6A.ME1_NSR {@ Die corner rule 1, ME1 must draw with 135 angle
   
    CORNER_MET1   =  ME1 AND BDIE_CORNER_NSR  
    
    a = INT  CORNER_MET1  < 0.1 ABUT != 135 REGION
    b = EXT  CORNER_MET1  < 0.1 ABUT != 135 REGION

    (a OR b)  AND  ADIE_CORNER_NSR 
}

 
 
6A.ME2_SR {@ Die corner rule 1, ME2 must draw with 135 angle
	 
    CORNER_MET2    = (ME2 AND BDIE_CORNER_SR) AND ACTIVE_REGION 
      
    a = INT  CORNER_MET2  < 0.1 ABUT != 135 REGION
    b = EXT  CORNER_MET2  < 0.1 ABUT != 135 REGION
	
    (a OR b) AND  ADIE_CORNER_SR
}

6A.ME2_NSR {@ Die corner rule 1, ME2 must draw with 135 angle
   
    CORNER_MET2   =  ME2 AND BDIE_CORNER_NSR  
    
    a = INT  CORNER_MET2  < 0.1 ABUT != 135 REGION
    b = EXT  CORNER_MET2  < 0.1 ABUT != 135 REGION

    (a OR b)  AND  ADIE_CORNER_NSR 
}

 
 
6A.ME3_SR {@ Die corner rule 1, ME3 must draw with 135 angle
	 
    CORNER_MET3    = (ME3 AND BDIE_CORNER_SR) AND ACTIVE_REGION 
      
    a = INT  CORNER_MET3  < 0.1 ABUT != 135 REGION
    b = EXT  CORNER_MET3  < 0.1 ABUT != 135 REGION
	
    (a OR b) AND  ADIE_CORNER_SR
}

6A.ME3_NSR {@ Die corner rule 1, ME3 must draw with 135 angle
   
    CORNER_MET3   =  ME3 AND BDIE_CORNER_NSR  
    
    a = INT  CORNER_MET3  < 0.1 ABUT != 135 REGION
    b = EXT  CORNER_MET3  < 0.1 ABUT != 135 REGION

    (a OR b)  AND  ADIE_CORNER_NSR 
}

 
 
6A.ME4_SR {@ Die corner rule 1, ME4 must draw with 135 angle
	 
    CORNER_MET4    = (ME4 AND BDIE_CORNER_SR) AND ACTIVE_REGION 
      
    a = INT  CORNER_MET4  < 0.1 ABUT != 135 REGION
    b = EXT  CORNER_MET4  < 0.1 ABUT != 135 REGION
	
    (a OR b) AND  ADIE_CORNER_SR
}

6A.ME4_NSR {@ Die corner rule 1, ME4 must draw with 135 angle
   
    CORNER_MET4   =  ME4 AND BDIE_CORNER_NSR  
    
    a = INT  CORNER_MET4  < 0.1 ABUT != 135 REGION
    b = EXT  CORNER_MET4  < 0.1 ABUT != 135 REGION

    (a OR b)  AND  ADIE_CORNER_NSR 
}

 
 
6A.ME5_SR {@ Die corner rule 1, ME5 must draw with 135 angle
	 
    CORNER_MET5    = (ME5 AND BDIE_CORNER_SR) AND ACTIVE_REGION 
      
    a = INT  CORNER_MET5  < 0.1 ABUT != 135 REGION
    b = EXT  CORNER_MET5  < 0.1 ABUT != 135 REGION
	
    (a OR b) AND  ADIE_CORNER_SR
}

6A.ME5_NSR {@ Die corner rule 1, ME5 must draw with 135 angle
   
    CORNER_MET5   =  ME5 AND BDIE_CORNER_NSR  
    
    a = INT  CORNER_MET5  < 0.1 ABUT != 135 REGION
    b = EXT  CORNER_MET5  < 0.1 ABUT != 135 REGION

    (a OR b)  AND  ADIE_CORNER_NSR 
}

 
 
6A.ME6_SR {@ Die corner rule 1, ME6 must draw with 135 angle
	 
    CORNER_MET6    = (ME6 AND BDIE_CORNER_SR) AND ACTIVE_REGION 
      
    a = INT  CORNER_MET6  < 0.1 ABUT != 135 REGION
    b = EXT  CORNER_MET6  < 0.1 ABUT != 135 REGION
	
    (a OR b) AND  ADIE_CORNER_SR
}

6A.ME6_NSR {@ Die corner rule 1, ME6 must draw with 135 angle
   
    CORNER_MET6   =  ME6 AND BDIE_CORNER_NSR  
    
    a = INT  CORNER_MET6  < 0.1 ABUT != 135 REGION
    b = EXT  CORNER_MET6  < 0.1 ABUT != 135 REGION

    (a OR b)  AND  ADIE_CORNER_NSR 
}


// 9 Cu-Fuse please refer to G-03F-GENERATION90N-CU-TLR/FUSE

// 10 ESD please refer to G-03E-GENERATION90N-TLR/ESD

// 12 Dummy and slot for Cu metal layers please refer to G-03DS-GENERATION90N-METAL-TLR/DUMMY_SLOT


//
//======================
//====== DFM RULE ======
//======================
//

GROUP  DFM_Priority1  ?.Priority1
GROUP  DFM_Priority2  ?.Priority2
GROUP  DFM_Priority3  ?.Priority3
GROUP  DFM_Priority4  ?.Priority4
GROUP  DFM_Priority5  ?.Priority5


4.2.2.2D._VI1.Priority1 {@ Use redundant via for all metal layer interconnection

 X = ME1  AND  ME2
 E = VI1  AND  (X INTERACT VI1 == 1)
 E NOT LOGOMK

}


4.2.2.2D._VI2.Priority1 {@ Use redundant via for all metal layer interconnection

 X = ME2  AND  ME3
 E = VI2  AND  (X INTERACT VI2 == 1)
 E NOT LOGOMK

}


4.2.2.2D._VI3.Priority1 {@ Use redundant via for all metal layer interconnection

 X = ME3  AND  ME4
 E = VI3  AND  (X INTERACT VI3 == 1)
 E NOT LOGOMK

}


4.2.2.2D._VI4.Priority1 {@ Use redundant via for all metal layer interconnection

 X = ME4  AND  ME5
 E = VI4  AND  (X INTERACT VI4 == 1)
 E NOT LOGOMK

}


4.2.2.2D._VI5.Priority1 {@ Use redundant via for all metal layer interconnection

 X = ME5  AND  ME6
 E = VI5  AND  (X INTERACT VI5 == 1)
 E NOT LOGOMK

}


4.2.2.2F.DFM.Priority1 {@ Maximum layers of stacked vias should less than 4
                        @ Exclude all layers with redundant via stacks

  VIA_34 = VI3  AND  VI4

  M12     = ( ME1    AND ME2 ) ENCLOSE VI1 >1 
  R_V1    =  VI1  AND  M12
    M23     = ( ME2    AND ME3 ) ENCLOSE VI2 >1 
  R_V2    =  VI2 AND   M23
    M34     = ( ME3    AND ME4 ) ENCLOSE VI3 >1 
  R_V3    =  VI3  AND  M34
    M45     = ( ME4    AND ME5 ) ENCLOSE VI4 >1 
  R_V4    =  VI4  AND  M45
    M56     = ( ME5    AND ME6 ) ENCLOSE VI5 >1 
  R_V5    =  VI5  AND  M56
  
  R_V34     =  R_V3     AND   R_V4
  R_V345    =  R_V34    AND   R_V5

  R_V45     =  R_V4     AND   R_V5
  
  R_V234    =  R_V2     AND   R_V34
  R_V1234   =  R_V1     AND   R_V234  
  R_V2345   =  R_V234   AND   R_V5  

  R_V12345  =  R_V5     AND   R_V1234 

 
  VIA_345  = VIA_34   AND  VI5
  VIA_2345 = VIA_345  AND  VI2 
  ( ( VIA_2345  AND  VI1 ) NOT R_V12345 ) NOT LOGOMK
  
}


4.1.8D.a1_DFM.Priority2 {@ Minimum Poly spacing on diffusion regions is 0.20um
             @ not over TG
  X = GATE_W OUTSIDE EDGE TG
  Y = EXT X < 0.20 ABUT>0<90 REGION
  (Y AND DIFF) NOT SRAM
}

4.1.1A.a1_DFM.Priority2 {@ Minimum DIFF width for device(not over TG) is 0.14um
   X = DIFF_W OUTSIDE EDGE TG
   Y = INT X < 0.14 ABUT>0<90 REGION
   Y NOT SRAM
}

4.1.8F.1a_DFM.Priority2 {@ Minimum PO1 corner to DIFF spacing is 0.1um
          @ PO1 common run length with adjacent,parallel DIFF <= 0.2um
   X = EXPOL  INTERACT  GATE
   Y = CONVEX EDGE X == 1
   Z = DIFF  INTERACT  GATE
   E = EXT Y Z < 0.1 ABUT<90 OPPOSITE PROJ <= 0.2 PARALLEL REGION
   E  NOT SRAM
}

4.1.8G_DFM.Priority2 {@ Minimum PO1 endcap to RELATED DIFF spacing is 0.1um
   Z = EXT GATE_E_ENDCAP DIFF_E_NG < 0.1 PERP ONLY ABUT == 90 REGION
   Z NOT (SP_1 OR (DP_1 OR DPHD_3))
}

4.1.1Ab_DFM.Priority3 {@ Minimum DIFF width for interconnect is 0.14um
   X = INT DIFF < 0.14 ABUT>0<90 SINGULAR REGION
   E = X  NOT  INTERACT  GATE
   E NOT SRAM
}

//

4.1.1C.a_DFM.Priority3 {@ Minimum DIFF spacing and notch is 0.15um 
   x = EXT DIFF < 0.15 ABUT>0<90 REGION
   x NOT SRAM
}

4.1.1D_DFM.Priority3 {@ Minimum spacing and notch of diffusion pattern with width >=2um is 0.2um 
   X =  SIZE (SIZE DIFF BY -0.999) BY 0.999 TRUNCATE 0 INSIDE OF DIFF STEP 0.999
   E = EXT X DIFF < 0.2 ABUT>0<90 REGION
   E NOT SRAM
}

4.1.8AaBaC_DFM.Priority3 {@ Minimum PO1 width for interconnect is 0.12um when PO1 to diffusion spacing > 0.2um 
   EXPOL_A = EXPOL NOT END_CAP
   B_GATE_L = EXPAND EDGE GATE_L OUTSIDE BY 0.2 
   E = INT EXPOL_A < 0.12 ABUT<90  OPPOSITE REGION
   ( E NOT B_GATE_L ) NOT SRAM
}

4.1.8D.b1_DFM.Priority3 {@ Minimum Poly spacing on field regions is 0.18um
             @ not over TG
   x = EXT EXPO_E < 0.18 ABUT>0<90 REGION
   x NOT SRAM
}

4.1.13C.a_DFM.Priority3 {@ Minimum spacing of DIFF CONT to PO1 is 0.1um
        @ PO1 with width < 0.13um
   x = EXT DIFCNT SP_GATE_SM13 < 0.1 ABUT INSIDE ALSO REGION
   x NOT SRAM
}

4.2.1.1D.b1b2_DFM.Priority4 {@ Minimum ME1 line end enclosure of CONT at ME1 outer corner is 0.06um
                   @ Minimum ME1 line end enclosure of CONT for four sides is 0.02um
                   @ Minimum ME1 line end enclosure of CONT is 0.06um
    x = RECTANGLE ENC CONT ME1
    GOOD 0.00 0.06 OPPOSITE 0.00 0.06 OPPOSITE
    GOOD 0.02 0.02  0.02 0.02 
    x NOT SRAM
}

  
4.2.1.2D.ME2_DFM.Priority4 {@ Minimum ME2 overlap VI1 is 0.02um, no VI1 outside ME2
   E = RECTANGLE ENC VI1 ME2
    GOOD 0.02 0.02 OPPOSITE 0.02 0.02 OPPOSITE
   E  NOT SRAM
}
 
  
4.2.1.2D.ME3_DFM.Priority4 {@ Minimum ME3 overlap VI2 is 0.02um, no VI2 outside ME3
   E = RECTANGLE ENC VI2 ME3
    GOOD 0.02 0.02 OPPOSITE 0.02 0.02 OPPOSITE
   E  NOT SRAM
}
 
  
4.2.1.2D.ME4_DFM.Priority4 {@ Minimum ME4 overlap VI3 is 0.02um, no VI3 outside ME4
   E = RECTANGLE ENC VI3 ME4
    GOOD 0.02 0.02 OPPOSITE 0.02 0.02 OPPOSITE
   E  NOT SRAM
}
 

4.2.2.2C.a.VI2_DFM.Priority4 {@ Minimum ME2 enclosure of VI2 is 0.01
   E = ENC VI2  ME2 < 0.01  ABUT <90  REGION
   E  NOT  SRAM
}

4.2.2.2C.b.VI2_DFM.Priority4 {@ ME2 line end enclosure of VI2 is 0.06
              @ Minimum ME2 line end enclosure of VI2 for four sides is 0.02
  E = RECTANGLE ENC VI2 ME2
      GOOD 0.01 0.06 OPPOSITE 0.01 0.06 OPPOSITE
      GOOD 0.02 0.02 0.02 0.02  
  E  NOT  SRAM
}


4.2.2.2C.a.VI3_DFM.Priority4 {@ Minimum ME3 enclosure of VI3 is 0.01
   E = ENC VI3  ME3 < 0.01  ABUT <90  REGION
   E  NOT  SRAM
}

4.2.2.2C.b.VI3_DFM.Priority4 {@ ME3 line end enclosure of VI3 is 0.06
              @ Minimum ME3 line end enclosure of VI3 for four sides is 0.02
  E = RECTANGLE ENC VI3 ME3
      GOOD 0.01 0.06 OPPOSITE 0.01 0.06 OPPOSITE
      GOOD 0.02 0.02 0.02 0.02  
  E  NOT  SRAM
}


4.2.2.2C.a.VI4_DFM.Priority4 {@ Minimum ME4 enclosure of VI4 is 0.01
   E = ENC VI4  ME4 < 0.01  ABUT <90  REGION
   E  NOT  SRAM
}

4.2.2.2C.b.VI4_DFM.Priority4 {@ ME4 line end enclosure of VI4 is 0.06
              @ Minimum ME4 line end enclosure of VI4 for four sides is 0.02
  E = RECTANGLE ENC VI4 ME4
      GOOD 0.01 0.06 OPPOSITE 0.01 0.06 OPPOSITE
      GOOD 0.02 0.02 0.02 0.02  
  E  NOT  SRAM
}


4.1.13F_DFM.Priority5 {@ Minimum extension of an DIFF region beyond a CONT region is 0.06um
   x = ENC DIFCNT DIFF < 0.06 ABUT<90 SINGULAR OVERLAP REGION
   x NOT SRAM
}
4.1.13E_DFM.Priority5 {@ Minimum PO1 overlap contact is 0.04um, no floating conntact
   x = ENC POLCNT PO1 < 0.04 ABUT<90 SINGULAR OUTSIDE ALSO REGION
   x NOT SRAM
}


//
//===============================
//====== Design Guidelines ======
//===============================
//

GROUP Design_guideline_rules  Design_guideline1 Design_guideline2


Design_guideline1 {@ NWEL to core NFET diffusion region is recommended to be not less than 0.5um
   
   X = NDIF_LOGIC1 INTERACT PO1
   E = EXT NWEL X < 0.5 ABUT<90 OVERLAP SINGULAR REGION
   E NOT (SP_6 OR (DP_11 OR (SP_12 OR (SP_11 OR (LOGOMK OR (DP_13 OR (DP_14 OR (DP_10 OR SP_5))))))))   
}

Design_guideline2 {@ NWEL overlap PFET diffusion edge is recommended to be not less than 0.5um
 
 X = PDIF_LOGIC1 INTERACT PO1
 E = ENC X NWEL < 0.5 ABUT<90 SINGULAR OVERLAP REGION
 E NOT (SP_6 OR (DP_11 OR (SP_12 OR (SP_11 OR (LOGOMK OR (DP_13 OR (DP_14 OR (DP_10 OR SP_5))))))))

}


//
//============================
//====== OPC Guidelines ======
//============================
//

GROUP OPC_guidelines  OPC? 

//


OPC_W_DIFF {@ Avoid using head to head at minimum width is 0.12um for diffusion layer

   X = DIFF NOT (SP_9 OR(SP_7 OR (SPHD_1 OR (DPHD_3 OR (DPHD_1 OR (DPHD_2  OR (SP_1 OR (SP_2 OR (SP_12 OR (SP_11 OR (LOGOMK OR (DP_13 OR (DP_14 OR (DP_11 OR DP_10))))))))))))))
   INT X == 0.12 ABUT>0<90 CORNER TO CORNER 
}     

OPC_W_PO1 {@ Avoid using head to head at minimum width is 0.08um for PO1 layer
   
   X = PO1 NOT ((((((((DP_1 OR DPHD_1) OR DPHD_2) OR SP_1)  OR SP_2) OR SPHD_1) OR DPHD_3) OR SP_7) OR (SP_6 OR (SP_9 OR (DP_11 OR (SP_12 OR (SP_11 OR (LOGOMK OR (DP_13 OR (DP_14 OR (DP_10 OR SP_5))))))))))
   INT X == 0.08 ABUT>0<90 CORNER TO CORNER 
}   

OPC_S_DIFF {@ Avoid using head to head at minimum spacing is 0.14um for diffusion layer 
   
   X = DIFF NOT (DPHD_3 OR (DPHD_1 OR (DPHD_2 OR (SP_1 OR (SP_2 OR (SPHD_1 OR (LOGOMK OR (DP_13 OR (DP_13 OR (DP_14 OR (DP_11 OR DP_10))))))))))) 
   EXT X == 0.14 ABUT>0<90 CORNER TO CORNER    
}

OPC_S_PO1 {@ Avoid using head to head at minimum spacing is 0.16um for PO1 layer 
            
   X= PO1 NOT ((((((((DP_1 OR DPHD_1) OR DPHD_2) OR SP_1 ) OR SP_2) OR SPHD_1) OR DPHD_3) OR SP_7) OR (SP_9 OR (SP_6 OR (DP_11 OR (SP_12 OR (SP_11 OR (LOGOMK OR (DP_13 OR (DP_14 OR (DP_10 OR SP_5))))))))))
   EXT X == 0.16 ABUT>0<90 CORNER TO CORNER 
}   

OPC_S_CONT {@ Avoid using head to head at minimum spacing is 0.14um for CONT layer
   
   X = CONT NOT (((((SP_7 OR SP_2) OR SP_9) OR SP_12) OR SP_11) OR LOGOMK)
   EXT X == 0.14 ABUT<90 CORNER TO CORNER 
}

OPC_W_ME1 {@ Avoid using head to head at minimum width is 0.12um for ME1 layer
  
    X = ME1 NOT ((((((DP_1 OR DPHD_1) OR DPHD_2) OR SP_1) OR SP_2) OR SPHD_1) OR DPHD_3)   
    INT X == 0.12 ABUT>0<90 CORNER TO CORNER     
}

OPC_S_ME1 {@ Avoid using head to head at minimum spacing is 0.12um for ME1 layer
   
    X = ME1 NOT ((((((((DP_1 OR DPHD_1) OR DPHD_2) OR SP_1) OR SP_2) OR SPHD_1) OR DPHD_3) OR SP_7) OR (SP_6 OR (SP_9 OR (DP_11 OR (SP_12 OR (SP_11 OR (LOGOMK OR (DP_13 OR (DP_14 OR (DP_10 OR SP_5))))))))))
    EXT X == 0.12 ABUT>0<90 CORNER TO CORNER 
}


OPC_W_ME2 {@ Avoid using head to head at minimum width is 0.14um for ME2 layer
  
    INT ME2 == 0.14 ABUT>0<90 CORNER TO CORNER 

}

OPC_S_ME2 {@ Avoid using head to head at minimum spacing is 0.14um for ME2 layer
   
    EXT ME2 == 0.14 ABUT>0<90 CORNER TO CORNER 

}


OPC_W_ME3 {@ Avoid using head to head at minimum width is 0.14um for ME3 layer
  
    INT ME3 == 0.14 ABUT>0<90 CORNER TO CORNER 

}

OPC_S_ME3 {@ Avoid using head to head at minimum spacing is 0.14um for ME3 layer
   
    EXT ME3 == 0.14 ABUT>0<90 CORNER TO CORNER 

}


OPC_W_ME4 {@ Avoid using head to head at minimum width is 0.14um for ME4 layer
  
    INT ME4 == 0.14 ABUT>0<90 CORNER TO CORNER 

}

OPC_S_ME4 {@ Avoid using head to head at minimum spacing is 0.14um for ME4 layer
   
    EXT ME4 == 0.14 ABUT>0<90 CORNER TO CORNER 

}


OPC_W_ME5 {@ Avoid using head to head at minimum width is 0.14um for ME5 layer
  
    INT ME5 == 0.14 ABUT>0<90 CORNER TO CORNER 

}

OPC_S_ME5 {@ Avoid using head to head at minimum spacing is 0.14um for ME5 layer
   
    EXT ME5 == 0.14 ABUT>0<90 CORNER TO CORNER 

}


OPC_W_ME6 {@ Avoid using head to head at minimum width is 0.28um for ME6 layer
  
    INT ME6 == 0.28 ABUT>0<90 CORNER TO CORNER 

}

OPC_S_ME6 {@ Avoid using head to head at minimum spacing is 0.28um for ME6 layer
   
    EXT ME6 == 0.28 ABUT>0<90 CORNER TO CORNER 

}


OPC_S_VI1 {@ Avoid using head to head at minimum spacing is 0.16um for VI1 layer
   
    EXT VI1 == 0.16 ABUT>0<90 CORNER TO CORNER 

}


OPC_S_VI2 {@ Avoid using head to head at minimum spacing is 0.16um for VI2 layer
   
    EXT VI2 == 0.16 ABUT>0<90 CORNER TO CORNER 

}


OPC_S_VI3 {@ Avoid using head to head at minimum spacing is 0.16um for VI3 layer
   
    EXT VI3 == 0.16 ABUT>0<90 CORNER TO CORNER 

}


OPC_S_VI4 {@ Avoid using head to head at minimum spacing is 0.16um for VI4 layer
   
    EXT VI4 == 0.16 ABUT>0<90 CORNER TO CORNER 

}


OPC_S_VI5 {@ Avoid using head to head at minimum spacing is 0.28um for VI5 layer
   
    EXT VI5 == 0.28 ABUT>0<90 CORNER TO CORNER 

}


// From G-03LO-GENERATION25_BEYOND-TLR/LOGO 
//
//=============================
//====== LOGO Guidelines ======
//=============================
//

GROUP LOGO_RULES LOGO_?

//

DIFF_LOGO  = DIFF  AND  LOGOMK
NWEL_LOGO  = NWEL  AND  LOGOMK
TWEL_LOGO  = TWEL  AND  LOGOMK
MG_LOGO    = MG    AND  LOGOMK
TG_LOGO    = TG    AND  LOGOMK
HR_LOGO    = HR    AND  LOGOMK
PO1_LOGO   = PO1   AND  LOGOMK
NPLUS_LOGO = NPLUS AND  LOGOMK
PPLUS_LOGO = PPLUS AND  LOGOMK
PESD_LOGO  = PESD  AND  LOGOMK
SAB_LOGO   = SAB   AND  LOGOMK
CONT_LOGO  = CONT  AND  LOGOMK


// 6.1 DIFFUSION layer


LOGO_6.1A {@ Minimum diffusion width is 0.3um

   INT  DIFF_LOGO < 0.3  ABUT>0<90 SINGULAR REGION   

}

LOGO_6.1B {@ Minimum diffusion to diffusion spacing(in the same well) is 0.4um
   
   X = DIFF_LOGO  INTERACT  NWEL_LOGO
   
   EXT  X < 0.4  ABUT>0<90  SINGULAR REGION  
   
   Y = DIFF_LOGO  NOT  INTERACT  NWEL_LOGO
   
   EXT  Y < 0.4  ABUT>0<90  SINGULAR REGION

}

// 6.2A NWEL layer 


LOGO_6.2A {@ Minimum NWEL width is 1.2um

   INT  NWEL_LOGO < 1.2  ABUT>0<90 SINGULAR REGION      

}

LOGO_6.2B {@ Minimum NWEL spacing is 2.0um

   EXT  NWEL_LOGO < 2.0  ABUT>0<90 SINGULAR REGION      

}


// 6.3 T_WELL layer


LOGO_6.3A {@ Minimum NWEL width is 1.2um

   INT  TWEL_LOGO < 1.2  ABUT>0<90 SINGULAR REGION      

}

LOGO_6.3B {@ Minimum NWEL spacing is 2.0um

   EXT  TWEL_LOGO < 2.0  ABUT>0<90 SINGULAR REGION      

}


// 6.4 DEEP_N_WELL layer


// 6.5 MG layer

LOGO_6.5A {@ Minimum MG width is 0.6um

   INT  MG_LOGO < 0.6  ABUT>0<90 SINGULAR REGION      

}

LOGO_6.5B {@ Minimum MG spacing is 0.6um

   EXT  MG_LOGO < 0.6  ABUT>0<90 SINGULAR REGION      

}

// 6.6 TG layer

LOGO_6.6A {@ Minimum TG width is 0.6um

   INT  TG_LOGO < 0.6  ABUT>0<90 SINGULAR REGION      

}

LOGO_6.6B {@ Minimum TG spacing is 0.6um

   EXT  TG_LOGO < 0.6  ABUT>0<90 SINGULAR REGION      

}

// 6.7 HR layer

LOGO_6.7A {@ Minimum HR width is 0.8um

   INT  HR_LOGO < 0.8  ABUT>0<90 SINGULAR REGION      

}

LOGO_6.7B {@ Minimum HR spacing is 0.8um

   EXT  HR_LOGO < 0.8  ABUT>0<90 SINGULAR REGION      

}

// 6.8 POLY1 layer

LOGO_6.8A {@ Minimum POLY1 width is 0.24um

   INT  PO1_LOGO < 0.24  ABUT>0<90 SINGULAR REGION      

}

LOGO_6.8B {@ Minimum POLY spacing is 0.32um

   EXT  PO1_LOGO < 0.32  ABUT>0<90 SINGULAR REGION      

}

// 6.9 N+ layer

LOGO_6.9A {@ Minimum NPLUS width is 0.42um

   INT  NPLUS_LOGO < 0.42  ABUT>0<90 SINGULAR REGION      

}

LOGO_6.9B {@ Minimum NPLUS spacing is 0.42um

   EXT  NPLUS_LOGO < 0.42  ABUT>0<90 SINGULAR REGION      

}

// 6.10 P+ layer

LOGO_6.10A {@ Minimum PPLUS width is 0.42um

   INT  PPLUS_LOGO < 0.42  ABUT>0<90 SINGULAR REGION      

}

LOGO_6.10B {@ Minimum PPLUS spacing is 0.42um

   EXT  PPLUS_LOGO < 0.42  ABUT>0<90 SINGULAR REGION      

}

// 6.11 PESD layer

LOGO_6.11A {@ Minimum PESD width is 0.8um

   INT  PESD_LOGO < 0.8  ABUT>0<90 SINGULAR REGION      

}

LOGO_6.11B {@ Minimum PESD spacing is 0.8um

   EXT  PESD_LOGO < 0.8  ABUT>0<90 SINGULAR REGION      

}


// 6.12 SAB layer

LOGO_6.12A {@ Minimum SAB width is 0.6um

   INT  SAB_LOGO < 0.6  ABUT>0<90 SINGULAR REGION      

}

LOGO_6.12B {@ Minimum SAB to SAB spacing is 0.6um

   EXT  SAB_LOGO < 0.6  ABUT>0<90 SINGULAR REGION      

}

// 6.13 CONTACT layer

LOGO_6.13A {@ Minimum CONTACT width is 0.32um

   INT  CONT_LOGO < 0.32  ABUT>0<90 SINGULAR REGION      

}

LOGO_6.13B {@ Minimum CONTACT to CONTACT spacing is 0.4um

   EXT  CONT_LOGO < 0.4  ABUT>0<90 SINGULAR REGION      

}

LOGO_6.13D {@ Minimum POLY/DIFF enclosure of CONTACT is 0.14um

   ENC  CONT_LOGO PO1_LOGO  < 0.14  ABUT>0<90 SINGULAR REGION  
   ENC  CONT_LOGO DIFF_LOGO < 0.14  ABUT>0<90 SINGULAR REGION    
  
   CONT_LOGO NOT (PO1_LOGO OR DIFF_LOGO)

}


// 6.14 Metal1 layer

LOGO_6.14A {@ Minimum ME1 width is 0.32um
   
   ME1_LOGO = ME1  AND  LOGOMK
   
   INT  ME1_LOGO < 0.32  ABUT>0<90 SINGULAR REGION      

}

LOGO_6.14B {@ Minimum ME1 to ME1 spacing is 0.32um

   ME1_LOGO = ME1  AND  LOGOMK 
   EXT  ME1_LOGO < 0.32  ABUT>0<90 SINGULAR REGION      

}

// 14C

LOGO_6.14D {@ CONTACT must be within Metal1,minimum ME1 enclosure of CONTACT is 0.3um

   ME1_LOGO = ME1  AND  LOGOMK
   
   ENC  CONT_LOGO   ME1_LOGO  < 0.3  ABUT OUTSIDE ALSO REGION

}



// VI1 layer

VI1_LOGO = VI1  AND LOGOMK

//


LOGO_6.15A.VI1 {@ Minimum VI1 width is 0.6um

   INT  VI1_LOGO < 0.6  ABUT>0<90 SINGULAR REGION      

}

LOGO_6.15B.VI1 {@ Minimum VI1 to VI1 spacing is 0.6um

   EXT  VI1_LOGO < 0.6  ABUT>0<90 SINGULAR REGION      

}

LOGO_6.15D.VI1 {@ In order to minimize the possible process, VI1 has to connect with ME1 underneath and ME2 on the top
   
    ME1_LOGO  =  ME1  AND  LOGOMK
    ME2_LOGO  =  ME2  AND  LOGOMK
              
    VI1_LOGO   NOT    ME1_LOGO
    VI1_LOGO   NOT    ME2_LOGO
}

LOGO_6.15D.a.VI1 {@ Minimum ME1 enclosure of VI1 is 0.3um
             
    ME1_LOGO  =  ME1  AND  LOGOMK
    
    ENC VI1_LOGO  ME1_LOGO  < 0.3  ABUT<90  SINGULAR REGION  
}

       

// VI2 layer

VI2_LOGO = VI2  AND LOGOMK

//


LOGO_6.15A.VI2 {@ Minimum VI2 width is 0.6um

   INT  VI2_LOGO < 0.6  ABUT>0<90 SINGULAR REGION      

}

LOGO_6.15B.VI2 {@ Minimum VI2 to VI2 spacing is 0.6um

   EXT  VI2_LOGO < 0.6  ABUT>0<90 SINGULAR REGION      

}

LOGO_6.15D.VI2 {@ In order to minimize the possible process, VI2 has to connect with ME2 underneath and ME3 on the top
   
    ME2_LOGO  =  ME2  AND  LOGOMK
    ME3_LOGO  =  ME3  AND  LOGOMK
              
    VI2_LOGO   NOT    ME2_LOGO
    VI2_LOGO   NOT    ME3_LOGO
}

LOGO_6.15D.a.VI2 {@ Minimum ME2 enclosure of VI2 is 0.3um
             
    ME2_LOGO  =  ME2  AND  LOGOMK
    
    ENC VI2_LOGO  ME2_LOGO  < 0.3  ABUT<90  SINGULAR REGION  
}

       

// VI3 layer

VI3_LOGO = VI3  AND LOGOMK

//


LOGO_6.15A.VI3 {@ Minimum VI3 width is 0.6um

   INT  VI3_LOGO < 0.6  ABUT>0<90 SINGULAR REGION      

}

LOGO_6.15B.VI3 {@ Minimum VI3 to VI3 spacing is 0.6um

   EXT  VI3_LOGO < 0.6  ABUT>0<90 SINGULAR REGION      

}

LOGO_6.15D.VI3 {@ In order to minimize the possible process, VI3 has to connect with ME3 underneath and ME4 on the top
   
    ME3_LOGO  =  ME3  AND  LOGOMK
    ME4_LOGO  =  ME4  AND  LOGOMK
              
    VI3_LOGO   NOT    ME3_LOGO
    VI3_LOGO   NOT    ME4_LOGO
}

LOGO_6.15D.a.VI3 {@ Minimum ME3 enclosure of VI3 is 0.3um
             
    ME3_LOGO  =  ME3  AND  LOGOMK
    
    ENC VI3_LOGO  ME3_LOGO  < 0.3  ABUT<90  SINGULAR REGION  
}

       

// VI4 layer

VI4_LOGO = VI4  AND LOGOMK

//


LOGO_6.15A.VI4 {@ Minimum VI4 width is 0.6um

   INT  VI4_LOGO < 0.6  ABUT>0<90 SINGULAR REGION      

}

LOGO_6.15B.VI4 {@ Minimum VI4 to VI4 spacing is 0.6um

   EXT  VI4_LOGO < 0.6  ABUT>0<90 SINGULAR REGION      

}

LOGO_6.15D.VI4 {@ In order to minimize the possible process, VI4 has to connect with ME4 underneath and ME5 on the top
   
    ME4_LOGO  =  ME4  AND  LOGOMK
    ME5_LOGO  =  ME5  AND  LOGOMK
              
    VI4_LOGO   NOT    ME4_LOGO
    VI4_LOGO   NOT    ME5_LOGO
}

LOGO_6.15D.a.VI4 {@ Minimum ME4 enclosure of VI4 is 0.3um
             
    ME4_LOGO  =  ME4  AND  LOGOMK
    
    ENC VI4_LOGO  ME4_LOGO  < 0.3  ABUT<90  SINGULAR REGION  
}

       

// VI5 layer

VI5_LOGO = VI5  AND LOGOMK

//


LOGO_6.15A.VI5 {@ Minimum VI5 width is 0.6um

   INT  VI5_LOGO < 0.6  ABUT>0<90 SINGULAR REGION      

}

LOGO_6.15B.VI5 {@ Minimum VI5 to VI5 spacing is 0.6um

   EXT  VI5_LOGO < 0.6  ABUT>0<90 SINGULAR REGION      

}

LOGO_6.15D.VI5 {@ In order to minimize the possible process, VI5 has to connect with ME5 underneath and ME6 on the top
   
    ME5_LOGO  =  ME5  AND  LOGOMK
    ME6_LOGO  =  ME6  AND  LOGOMK
              
    VI5_LOGO   NOT    ME5_LOGO
    VI5_LOGO   NOT    ME6_LOGO
}

LOGO_6.15D.a.VI5 {@ Minimum ME5 enclosure of VI5 is 0.3um
             
    ME5_LOGO  =  ME5  AND  LOGOMK
    
    ENC VI5_LOGO  ME5_LOGO  < 0.3  ABUT<90  SINGULAR REGION  
}

       

// ME2 layer

ME2_LOGO  =  ME2  AND  LOGOMK

//

LOGO_6.16A.ME2 {@ Minimum ME2 width is 0.6um

   INT  ME2_LOGO < 0.6  ABUT>0<90 SINGULAR REGION      

}

LOGO_6.16B.ME2 {@ Minimum ME2 to ME2 spacing is 0.6um

   EXT  ME2_LOGO < 0.6  ABUT>0<90 SINGULAR REGION      

}


// ME3 layer

ME3_LOGO  =  ME3  AND  LOGOMK

//

LOGO_6.16A.ME3 {@ Minimum ME3 width is 0.6um

   INT  ME3_LOGO < 0.6  ABUT>0<90 SINGULAR REGION      

}

LOGO_6.16B.ME3 {@ Minimum ME3 to ME3 spacing is 0.6um

   EXT  ME3_LOGO < 0.6  ABUT>0<90 SINGULAR REGION      

}


// ME4 layer

ME4_LOGO  =  ME4  AND  LOGOMK

//

LOGO_6.16A.ME4 {@ Minimum ME4 width is 0.6um

   INT  ME4_LOGO < 0.6  ABUT>0<90 SINGULAR REGION      

}

LOGO_6.16B.ME4 {@ Minimum ME4 to ME4 spacing is 0.6um

   EXT  ME4_LOGO < 0.6  ABUT>0<90 SINGULAR REGION      

}


// ME5 layer

ME5_LOGO  =  ME5  AND  LOGOMK

//

LOGO_6.16A.ME5 {@ Minimum ME5 width is 0.6um

   INT  ME5_LOGO < 0.6  ABUT>0<90 SINGULAR REGION      

}

LOGO_6.16B.ME5 {@ Minimum ME5 to ME5 spacing is 0.6um

   EXT  ME5_LOGO < 0.6  ABUT>0<90 SINGULAR REGION      

}


// ME6  layer

ME6_LOGO  =  ME6   AND  LOGOMK

//

LOGO_6.17A.ME6 {@ Minimum ME6 width is 2.0um

   INT  ME6_LOGO < 2.0  ABUT>0<90 SINGULAR REGION      

}

LOGO_6.17B.ME6 {@ Minimum ME6 to ME6 spacing is 2.0um

   EXT  ME6_LOGO < 2.0  ABUT>0<90 SINGULAR REGION      

}

// 6.18 MIMTP layer

MMCTP_LOGO = MMCTP    AND  LOGOMK
MMCBP_LOGO = MMCBP    AND  LOGOMK 
TMV_LOGO   = TMV_RDL  AND  LOGOMK
ALRDL_LOGO = AL_RDL   AND  LOGOMK
PASV_LOGO  = PASV_RDL AND  LOGOMK

//


LOGO_6.18A {@ Minimum MMCTP_LOGO width is 3.9um

   INT  MMCTP_LOGO < 3.9  ABUT>0<90 SINGULAR REGION      

}

LOGO_6.18B {@ Minimum MMCBP spacing is 1.0um

   EXT  MMCTP_LOGO < 1.0  ABUT>0<90 SINGULAR REGION      

}

LOGO_6.18D {@ Minimum MMCBP enclosure of MMCTP is 0.6um

   ENC  MMCTP_LOGO  MMCBP_LOGO < 0.6  ABUT>0<90 SINGULAR REGION      

}


// MMCBP layer

LOGO_6.19A {@ Minimum MMCBP_LOGO width is 5.1um

   INT  MMCBP_LOGO < 5.1  ABUT>0<90 SINGULAR REGION      

}

LOGO_6.19B {@ Minimum MMCBP spacing is 1.0um

   EXT  MMCBP_LOGO < 1.0  ABUT>0<90 SINGULAR REGION      

}

LOGO_6.19D {@ Minimum MMCBP enclosure of TMV_RDL is 0.45um

   ENC  TMV_LOGO  MMCBP_LOGO < 0.45  ABUT>0<90 SINGULAR REGION      

}

// TMV_RDL layer

LOGO_6.20A {@ Minimum TMV_RDL width is 4.0um
            @ Minimum TMV_RDL space is 2.22um 

   INT  TMV_LOGO < 4.0  ABUT>0<90 SINGULAR REGION  
   EXT  TMV_LOGO < 2.22 ABUT>0<90 SINGULAR REGION    

}

LOGO_6.20B {@ TMV_RDL should be enclosed by AL_RDL

     TMV_LOGO  NOT   ALRDL_LOGO 

}

// AL_RDL layer

LOGO_6.21A {@ Minimum AL_RDL width is 3.0um
            @ Minimum AL_RDL space is 1.6um 

   INT  ALRDL_LOGO < 3.0  ABUT>0<90 SINGULAR REGION  
   EXT  ALRDL_LOGO < 1.6  ABUT>0<90 SINGULAR REGION    

}

LOGO_6.21B {@ Minimum AL_RDL enclosure of TMV_RDL is 2.0um

     ENC TMV_LOGO  ALRDL_LOGO < 2.0 ABUT SINGULAR REGION   

}

// PASV_RDL layer

LOGO_6.22A {@ Minimum PASV_RDL space is 7um
            
     EXT  PASV_LOGO < 7    ABUT>0<90 SINGULAR REGION    

}

LOGO_6.22B {@ Minimum AL_RDL enclosure of PASV_RDL is 2.0um

     ENC PASV_LOGO  ALRDL_LOGO < 2.0 ABUT SINGULAR REGION   

}

// AL_FUSE_PAD rule

ALPD_LOGO = AL_FUSE_PAD  AND  LOGOMK

//

LOGO_6.23A {@ Minimum AL_FUSE_PAD width is 8.0um
            
   INT  ALPD_LOGO  < 8.0  ABUT>0<90 SINGULAR REGION      

}


// AL_FUSE_PAD rule

CUPD_LOGO = CU_FUSE_PAD  AND  LOGOMK

//

LOGO_6.24A {@ Minimum CU_FUSE_PAD width is 8.0um
            
   INT  CUPD_LOGO  < 8.0  ABUT>0<90 SINGULAR REGION      

}




// X architecture rules

#IFDEF ONLY_Manhattan_CHECK

//INCLUDE  ./umc_1P6M1T0F-X_architecture_Calibre-drc-V1

#ELSE
  
DRC UNSELECT CHECK ONLY_Manhattan_CHECK

INCLUDE  ./umc_1P6M1T0F-X_architecture_Calibre-drc-V1

#ENDIF



// Memory rules

INCLUDE ./umc90N_memory_v14.cal


// END OF FILE

